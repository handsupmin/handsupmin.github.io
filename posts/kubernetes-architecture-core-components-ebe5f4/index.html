<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Kubernetes 아키텍처와 핵심 컴포넌트 정리 | HandsLog</title>
<meta name=keywords content="kubernetes,k8s,architecture,control-plane,data-plane,pods,networking,storage,security,observability,gitops,helm,operators,autoscaling"><meta name=description content="개요
쿠버네티스는 명령을 조율하는 Control Plane과 실제 워크로드가 실행되는 Data Plane으로 구성됨
각 컴포넌트의 역할과 흐름을 이해하면 트러블슈팅, 성능 최적화, 보안 구성에 필요한 기준이 생김
클라우드 매니지드 쿠버네티스의 경우 Control Plane은 보통 제공자가 관리하지만 동작 원리 이해는 필수
Control Plane
API Server

클러스터 유일 진입점
모든 컴포넌트와 사용자는 API Server를 통해 통신
인증과 권한 확인 수행

etcd

클러스터 상태와 스펙을 보관하는 분산 키밸류 저장소
API Server만 직접 접근 가능
상태 복구의 근간이 되는 데이터 원장

Scheduler"><meta name=author content><link rel=canonical href=https://blog.jsontapose.com/posts/kubernetes-architecture-core-components-ebe5f4/><link crossorigin=anonymous href=/assets/css/stylesheet.08f7d74f0ada0f975d29ae436285b61ed7a719d05f350cb888d00341642995a2.css integrity="sha256-CPfXTwraD5ddKa5DYoW2HtenGdBfNQy4iNADQWQplaI=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.jsontapose.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.jsontapose.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.jsontapose.com/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.jsontapose.com/apple-touch-icon.png><link rel=mask-icon href=https://blog.jsontapose.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/json href=https://blog.jsontapose.com/posts/kubernetes-architecture-core-components-ebe5f4/index.json><link rel=alternate hreflang=en href=https://blog.jsontapose.com/posts/kubernetes-architecture-core-components-ebe5f4/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=module>
  import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";

  const isDark = () =>
    document.body.classList.contains("dark") ||
    window.matchMedia?.("(prefers-color-scheme: dark)")?.matches;

  const getThemeOptions = () => {
    const dark = isDark();
    return {
      startOnLoad: false,
      securityLevel: "loose", 
      theme: dark ? "dark" : "default",
      themeVariables: dark
        ? {
            primaryColor: "#0f172a"  ,
            primaryTextColor: "#e5e7eb"  ,
            primaryBorderColor: "#94a3b8"  ,
            lineColor: "#94a3b8",
            textColor: "#e5e7eb",
            nodeTextColor: "#e5e7eb",
            edgeLabelBackground: "#0f172a",
          }
        : {
            primaryColor: "#f8fafc"  ,
            primaryTextColor: "#111827",
            primaryBorderColor: "#374151",
            lineColor: "#374151",
            textColor: "#111827",
            nodeTextColor: "#111827",
            edgeLabelBackground: "#ffffff",
          },
    };
  };

  const renderMermaid = () => {
    
    document.querySelectorAll(".mermaid[data-processed]").forEach((el) => {
      el.removeAttribute("data-processed");
    });
    mermaid.initialize(getThemeOptions());
    mermaid.run({ querySelector: ".mermaid" });
  };

  
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", renderMermaid, {
      once: true,
    });
  } else {
    renderMermaid();
  }

  
  const btn = document.getElementById("theme-toggle");
  if (btn) {
    btn.addEventListener("click", () => {
      
      setTimeout(renderMermaid, 0);
    });
  }

  
  const mql = window.matchMedia?.("(prefers-color-scheme: dark)");
  if (mql && mql.addEventListener) {
    mql.addEventListener("change", renderMermaid);
  }
</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-6NKJRT1NC1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6NKJRT1NC1")</script><meta name=google-adsense-account content="ca-pub-6022353980017733"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6022353980017733" crossorigin=anonymous></script><meta property="og:url" content="https://blog.jsontapose.com/posts/kubernetes-architecture-core-components-ebe5f4/"><meta property="og:site_name" content="HandsLog"><meta property="og:title" content="Kubernetes 아키텍처와 핵심 컴포넌트 정리"><meta property="og:description" content="개요 쿠버네티스는 명령을 조율하는 Control Plane과 실제 워크로드가 실행되는 Data Plane으로 구성됨 각 컴포넌트의 역할과 흐름을 이해하면 트러블슈팅, 성능 최적화, 보안 구성에 필요한 기준이 생김 클라우드 매니지드 쿠버네티스의 경우 Control Plane은 보통 제공자가 관리하지만 동작 원리 이해는 필수
Control Plane API Server
클러스터 유일 진입점 모든 컴포넌트와 사용자는 API Server를 통해 통신 인증과 권한 확인 수행 etcd
클러스터 상태와 스펙을 보관하는 분산 키밸류 저장소 API Server만 직접 접근 가능 상태 복구의 근간이 되는 데이터 원장 Scheduler"><meta property="og:locale" content="ko-kr"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-12-22T13:12:42+00:00"><meta property="article:modified_time" content="2025-12-22T13:12:42+00:00"><meta property="article:tag" content="Kubernetes"><meta property="article:tag" content="K8s"><meta property="article:tag" content="Architecture"><meta property="article:tag" content="Control-Plane"><meta property="article:tag" content="Data-Plane"><meta property="article:tag" content="Pods"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kubernetes 아키텍처와 핵심 컴포넌트 정리"><meta name=twitter:description content="개요
쿠버네티스는 명령을 조율하는 Control Plane과 실제 워크로드가 실행되는 Data Plane으로 구성됨
각 컴포넌트의 역할과 흐름을 이해하면 트러블슈팅, 성능 최적화, 보안 구성에 필요한 기준이 생김
클라우드 매니지드 쿠버네티스의 경우 Control Plane은 보통 제공자가 관리하지만 동작 원리 이해는 필수
Control Plane
API Server

클러스터 유일 진입점
모든 컴포넌트와 사용자는 API Server를 통해 통신
인증과 권한 확인 수행

etcd

클러스터 상태와 스펙을 보관하는 분산 키밸류 저장소
API Server만 직접 접근 가능
상태 복구의 근간이 되는 데이터 원장

Scheduler"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.jsontapose.com/posts/"},{"@type":"ListItem","position":2,"name":"Kubernetes 아키텍처와 핵심 컴포넌트 정리","item":"https://blog.jsontapose.com/posts/kubernetes-architecture-core-components-ebe5f4/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Kubernetes 아키텍처와 핵심 컴포넌트 정리","name":"Kubernetes 아키텍처와 핵심 컴포넌트 정리","description":"개요 쿠버네티스는 명령을 조율하는 Control Plane과 실제 워크로드가 실행되는 Data Plane으로 구성됨 각 컴포넌트의 역할과 흐름을 이해하면 트러블슈팅, 성능 최적화, 보안 구성에 필요한 기준이 생김 클라우드 매니지드 쿠버네티스의 경우 Control Plane은 보통 제공자가 관리하지만 동작 원리 이해는 필수\nControl Plane API Server\n클러스터 유일 진입점 모든 컴포넌트와 사용자는 API Server를 통해 통신 인증과 권한 확인 수행 etcd\n클러스터 상태와 스펙을 보관하는 분산 키밸류 저장소 API Server만 직접 접근 가능 상태 복구의 근간이 되는 데이터 원장 Scheduler\n","keywords":["kubernetes","k8s","architecture","control-plane","data-plane","pods","networking","storage","security","observability","gitops","helm","operators","autoscaling"],"articleBody":"개요 쿠버네티스는 명령을 조율하는 Control Plane과 실제 워크로드가 실행되는 Data Plane으로 구성됨 각 컴포넌트의 역할과 흐름을 이해하면 트러블슈팅, 성능 최적화, 보안 구성에 필요한 기준이 생김 클라우드 매니지드 쿠버네티스의 경우 Control Plane은 보통 제공자가 관리하지만 동작 원리 이해는 필수\nControl Plane API Server\n클러스터 유일 진입점 모든 컴포넌트와 사용자는 API Server를 통해 통신 인증과 권한 확인 수행 etcd\n클러스터 상태와 스펙을 보관하는 분산 키밸류 저장소 API Server만 직접 접근 가능 상태 복구의 근간이 되는 데이터 원장 Scheduler\n스케줄링 되지 않은 파드를 관찰하고 적합한 노드를 선택 리소스 사용량, 어피니티와 테인트, 스케줄링 정책 등을 고려 노드 선택만 담당하며 파드 생성은 수행하지 않음 Controller Manager\n다양한 컨트롤러의 이벤트 루프 집합 현재 상태를 관찰하고 선언적 원하는 상태를 유지하도록 조정 Cloud Controller Manager\n클라우드 공급자 API 연계 담당 예시 구성에서는 외부 로드밸런서 생성, 노드 라우팅 정보 동기화 등을 위임 Data Plane Kubelet\n노드별 에이전트 파드 스펙을 감시하고 컨테이너 런타임에 생명주기 명령 전달 파드 상태를 주기적으로 보고 kube-proxy\n서비스 네트워킹 데이터플레인 규칙 구현 iptables 또는 IPVS로 서비스, 엔드포인트 룰 관리 일부 CNI 구현은 eBPF 등으로 프록시 없이 동작 가능하나 일반적 구성에서는 규칙 기반 전송 사용 Container Runtime\n컨테이너 실행 엔진 역할 containerd가 현재 표준으로 널리 사용, 기타 CRI 호환 런타임 존재 Controllers 상세 Workload\nDeployment 웹앱 등 무상태 워크로드 롤링 업데이트와 롤백 관리 ReplicaSet 지정된 수의 파드 복제 개수 보장 DaemonSet 모든 노드 또는 선택된 노드에 1개씩 파드 배치, 로그나 모니터링 에이전트에 적합 StatefulSet 순서와 영속 스토리지 정체성이 필요한 워크로드에 적합 Job/CronJob 일회성 배치 또는 스케줄 주기 작업 Scaling\nHPA 메트릭 기반 파드 수 자동 조정 파드 생성 흐름 사용자가 스펙을 적용하면 API Server가 요청을 검증하고 etcd에 파드가 Pending으로 기록됨 Scheduler가 스케줄링 되지 않은 파드를 감지해 목표 노드를 결정함 해당 노드의 Kubelet이 할당 사실을 감지하고 컨테이너 런타임에 실행을 지시함 런타임이 컨테이너를 기동하면 Kubelet이 상태를 API Server에 보고하고 Running으로 갱신됨 Pod Deep Dive 논리적 위치\n파드는 컨테이너 런타임이 관리하는 격리된 실행 단위 내부에 존재 노드 \u003e Kubelet \u003e 런타임 \u003e 파드 \u003e 컨테이너 구조로 관리됨 기술적 원리\n네임스페이스로 격리, cgroup으로 자원 제한 적용 동일 파드 내 컨테이너는 네트워크 네임스페이스를 공유하므로 같은 IP 사용 디스크 경로 예시\n컨테이너 이미지와 레이어 배포판에 따라 /var/lib/containerd 등 런타임 디렉터리 사용 파드 로그 /var/log/pods 경로 활용하는 배포판 다수 존재 볼륨 마운트 /var/lib/kubelet/pods/[pod-uuid]/volumes 구조가 일반적 Pause 컨테이너\n파드 네임스페이스 소유자 역할을 하는 최소 컨테이너가 먼저 생성됨 나머지 컨테이너는 이 네임스페이스에 합류하여 동일 네트워크와 IPC, PID 환경을 공유 Networking Service\n변하는 파드 IP 위에 고정 진입점을 제공하는 가상 IP ClusterIP 클러스터 내부 통신용 LoadBalancer 외부 노출을 위한 L4 엔드포인트 Ingress\nL7 라우팅 구성으로 호스트와 경로 기반 분기 제공 매니지드 환경에서는 Ingress 컨트롤러가 외부 로드밸런서를 생성하고 규칙을 동기화 DNS\nCoreDNS가 서비스와 파드 이름을 IP로 해석해 통신 단순화 Storage 파드는 일시적 존재이므로 데이터 영속화를 위해 볼륨 필요 PV 클러스터에 프로비저닝된 실제 스토리지 추상화 PVC 워크로드가 요청하는 스토리지 스펙과 바인딩 요구사항 선언 동적 프로비저닝 StorageClass에 따라 CSI 드라이버가 자동으로 볼륨 생성과 바인딩 수행 가용영역 종속 스토리지의 이동 제약 존재, 다중 가용영역 공유가 필요하면 네트워크 파일시스템 계열 선택 고려 Configuration과 보안 Configuration\nConfigMap 비민감 설정 분리 보관 Secret 민감 정보 저장, 전송과 저장 시 보호 구성 필요 보안 경계와 권한\nNamespace로 워크로드와 리소스의 논리적 격리 구성 ServiceAccount는 파드의 신원 주체로 사용, RBAC로 권한 최소화 적용 클라우드 연계 환경에서는 서비스계정 기반 IAM 연동 기능이 제공되며, 파드 단위 외부 리소스 접근 권한을 세분화 가능 컨테이너 레벨 보안은 이미지 서명 검증, 런타임 권한 축소, PSP 대체 정책이나 정책 엔진 사용 등으로 보완 운영과 확장 생태계 Helm\n다수의 매니페스트를 차트로 패키징하여 템플릿 기반 배포와 버전 관리에 활용 Operators\n도메인 특화 운영을 자동화하는 커스텀 컨트롤러, 백업과 클러스터링 등 고급 시나리오 관리에 적합 노드 오토스케일링\n워크로드 대기로 인한 스케줄 실패 시 요구 리소스에 맞춘 노드 증설을 자동화하는 구성 사용 GitOps\n선언적 설정을 저장소에 보관하고 컨트롤러가 변경을 지속 동기화 배포와 롤백 이력이 명확하며 재현 가능성 확보에 유리 Service Mesh\n사이드카 프록시를 통해 mTLS, 라우팅 제어, 관측성 기능을 표준화하고 애플리케이션 수정 없이 적용 Observability\nPrometheus 계열로 메트릭 수집과 경보 구성 Grafana로 대시보드 시각화 Loki 등 로그 수집 스택으로 텍스트 로그 질의와 보관 수행 핵심 요약 Control Plane은 API Server, etcd, Scheduler, Controller Manager, 클라우드 연계 모듈로 구성 Data Plane은 노드 위 Kubelet, kube-proxy, 컨테이너 런타임과 파드로 구성 파드는 네임스페이스와 cgroup으로 격리되고 동일 파드 내 네트워크 공유 Service와 Ingress로 안정적 엔드포인트와 L7 라우팅 구성 PV와 PVC, StorageClass로 영속 스토리지 동적 프로비저닝 ConfigMap과 Secret으로 설정과 비밀 분리, ServiceAccount와 RBAC로 최소 권한 적용 Helm, Operators, 오토스케일러, GitOps, Mesh, 관측성 스택으로 운영 자동화와 가시성 강화 참고자료 https://kubernetes.io/docs/concepts/overview/components/ https://kubernetes.io/docs/concepts/architecture/ https://kubernetes.io/docs/concepts/workloads/pods/ https://kubernetes.io/docs/concepts/services-networking/service/ https://kubernetes.io/docs/concepts/services-networking/ingress/ https://kubernetes.io/docs/concepts/storage/persistent-volumes/ https://kubernetes.io/docs/concepts/configuration/configmap/ https://kubernetes.io/docs/concepts/configuration/secret/ https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/ https://kubernetes.io/docs/concepts/scheduling-eviction/kube-scheduler/ https://kubernetes.io/docs/concepts/extend-kubernetes/operator/ ","wordCount":"726","inLanguage":"en","datePublished":"2025-12-22T13:12:42.698Z","dateModified":"2025-12-22T13:12:42.698Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.jsontapose.com/posts/kubernetes-architecture-core-components-ebe5f4/"},"publisher":{"@type":"Organization","name":"HandsLog","logo":{"@type":"ImageObject","url":"https://blog.jsontapose.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.jsontapose.com/ accesskey=h title="HandsLog (Alt + H)">HandsLog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.jsontapose.com/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://blog.jsontapose.com/categories/ title=categories><span>categories</span></a></li><li><a href=https://jsontapose.com/ title="compare JSON"><span>compare JSON</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.jsontapose.com/>Home</a>&nbsp;»&nbsp;<a href=https://blog.jsontapose.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Kubernetes 아키텍처와 핵심 컴포넌트 정리</h1><div class=post-meta><span title='2025-12-22 13:12:42.698 +0000 UTC'>December 22, 2025</span></div></header><div class=post-content><h3 id=개요>개요<a hidden class=anchor aria-hidden=true href=#개요>#</a></h3><p>쿠버네티스는 명령을 조율하는 Control Plane과 실제 워크로드가 실행되는 Data Plane으로 구성됨
각 컴포넌트의 역할과 흐름을 이해하면 트러블슈팅, 성능 최적화, 보안 구성에 필요한 기준이 생김
클라우드 매니지드 쿠버네티스의 경우 Control Plane은 보통 제공자가 관리하지만 동작 원리 이해는 필수</p><h3 id=control-plane>Control Plane<a hidden class=anchor aria-hidden=true href=#control-plane>#</a></h3><p>API Server</p><ul><li>클러스터 유일 진입점</li><li>모든 컴포넌트와 사용자는 API Server를 통해 통신</li><li>인증과 권한 확인 수행</li></ul><p>etcd</p><ul><li>클러스터 상태와 스펙을 보관하는 분산 키밸류 저장소</li><li>API Server만 직접 접근 가능</li><li>상태 복구의 근간이 되는 데이터 원장</li></ul><p>Scheduler</p><ul><li>스케줄링 되지 않은 파드를 관찰하고 적합한 노드를 선택</li><li>리소스 사용량, 어피니티와 테인트, 스케줄링 정책 등을 고려</li><li>노드 선택만 담당하며 파드 생성은 수행하지 않음</li></ul><p>Controller Manager</p><ul><li>다양한 컨트롤러의 이벤트 루프 집합</li><li>현재 상태를 관찰하고 선언적 원하는 상태를 유지하도록 조정</li></ul><p>Cloud Controller Manager</p><ul><li>클라우드 공급자 API 연계 담당</li><li>예시 구성에서는 외부 로드밸런서 생성, 노드 라우팅 정보 동기화 등을 위임</li></ul><h3 id=data-plane>Data Plane<a hidden class=anchor aria-hidden=true href=#data-plane>#</a></h3><p>Kubelet</p><ul><li>노드별 에이전트</li><li>파드 스펙을 감시하고 컨테이너 런타임에 생명주기 명령 전달</li><li>파드 상태를 주기적으로 보고</li></ul><p>kube-proxy</p><ul><li>서비스 네트워킹 데이터플레인 규칙 구현</li><li>iptables 또는 IPVS로 서비스, 엔드포인트 룰 관리</li><li>일부 CNI 구현은 eBPF 등으로 프록시 없이 동작 가능하나 일반적 구성에서는 규칙 기반 전송 사용</li></ul><p>Container Runtime</p><ul><li>컨테이너 실행 엔진 역할</li><li>containerd가 현재 표준으로 널리 사용, 기타 CRI 호환 런타임 존재</li></ul><h3 id=controllers-상세>Controllers 상세<a hidden class=anchor aria-hidden=true href=#controllers-상세>#</a></h3><p>Workload</p><ul><li>Deployment 웹앱 등 무상태 워크로드 롤링 업데이트와 롤백 관리</li><li>ReplicaSet 지정된 수의 파드 복제 개수 보장</li><li>DaemonSet 모든 노드 또는 선택된 노드에 1개씩 파드 배치, 로그나 모니터링 에이전트에 적합</li><li>StatefulSet 순서와 영속 스토리지 정체성이 필요한 워크로드에 적합</li><li>Job/CronJob 일회성 배치 또는 스케줄 주기 작업</li></ul><p>Scaling</p><ul><li>HPA 메트릭 기반 파드 수 자동 조정</li></ul><h3 id=파드-생성-흐름>파드 생성 흐름<a hidden class=anchor aria-hidden=true href=#파드-생성-흐름>#</a></h3><ul><li>사용자가 스펙을 적용하면 API Server가 요청을 검증하고 etcd에 파드가 Pending으로 기록됨</li><li>Scheduler가 스케줄링 되지 않은 파드를 감지해 목표 노드를 결정함</li><li>해당 노드의 Kubelet이 할당 사실을 감지하고 컨테이너 런타임에 실행을 지시함</li><li>런타임이 컨테이너를 기동하면 Kubelet이 상태를 API Server에 보고하고 Running으로 갱신됨</li></ul><h3 id=pod-deep-dive>Pod Deep Dive<a hidden class=anchor aria-hidden=true href=#pod-deep-dive>#</a></h3><p>논리적 위치</p><ul><li>파드는 컨테이너 런타임이 관리하는 격리된 실행 단위 내부에 존재</li><li>노드 > Kubelet > 런타임 > 파드 > 컨테이너 구조로 관리됨</li></ul><p>기술적 원리</p><ul><li>네임스페이스로 격리, cgroup으로 자원 제한 적용</li><li>동일 파드 내 컨테이너는 네트워크 네임스페이스를 공유하므로 같은 IP 사용</li></ul><p>디스크 경로 예시</p><ul><li>컨테이너 이미지와 레이어 배포판에 따라 /var/lib/containerd 등 런타임 디렉터리 사용</li><li>파드 로그 /var/log/pods 경로 활용하는 배포판 다수 존재</li><li>볼륨 마운트 /var/lib/kubelet/pods/[pod-uuid]/volumes 구조가 일반적</li></ul><p>Pause 컨테이너</p><ul><li>파드 네임스페이스 소유자 역할을 하는 최소 컨테이너가 먼저 생성됨</li><li>나머지 컨테이너는 이 네임스페이스에 합류하여 동일 네트워크와 IPC, PID 환경을 공유</li></ul><h3 id=networking>Networking<a hidden class=anchor aria-hidden=true href=#networking>#</a></h3><p>Service</p><ul><li>변하는 파드 IP 위에 고정 진입점을 제공하는 가상 IP</li><li>ClusterIP 클러스터 내부 통신용</li><li>LoadBalancer 외부 노출을 위한 L4 엔드포인트</li></ul><p>Ingress</p><ul><li>L7 라우팅 구성으로 호스트와 경로 기반 분기 제공</li><li>매니지드 환경에서는 Ingress 컨트롤러가 외부 로드밸런서를 생성하고 규칙을 동기화</li></ul><p>DNS</p><ul><li>CoreDNS가 서비스와 파드 이름을 IP로 해석해 통신 단순화</li></ul><h3 id=storage>Storage<a hidden class=anchor aria-hidden=true href=#storage>#</a></h3><ul><li>파드는 일시적 존재이므로 데이터 영속화를 위해 볼륨 필요</li><li>PV 클러스터에 프로비저닝된 실제 스토리지 추상화</li><li>PVC 워크로드가 요청하는 스토리지 스펙과 바인딩 요구사항 선언</li><li>동적 프로비저닝 StorageClass에 따라 CSI 드라이버가 자동으로 볼륨 생성과 바인딩 수행</li><li>가용영역 종속 스토리지의 이동 제약 존재, 다중 가용영역 공유가 필요하면 네트워크 파일시스템 계열 선택 고려</li></ul><h3 id=configuration과-보안>Configuration과 보안<a hidden class=anchor aria-hidden=true href=#configuration과-보안>#</a></h3><p>Configuration</p><ul><li>ConfigMap 비민감 설정 분리 보관</li><li>Secret 민감 정보 저장, 전송과 저장 시 보호 구성 필요</li></ul><p>보안 경계와 권한</p><ul><li>Namespace로 워크로드와 리소스의 논리적 격리 구성</li><li>ServiceAccount는 파드의 신원 주체로 사용, RBAC로 권한 최소화 적용</li><li>클라우드 연계 환경에서는 서비스계정 기반 IAM 연동 기능이 제공되며, 파드 단위 외부 리소스 접근 권한을 세분화 가능</li><li>컨테이너 레벨 보안은 이미지 서명 검증, 런타임 권한 축소, PSP 대체 정책이나 정책 엔진 사용 등으로 보완</li></ul><h3 id=운영과-확장-생태계>운영과 확장 생태계<a hidden class=anchor aria-hidden=true href=#운영과-확장-생태계>#</a></h3><p>Helm</p><ul><li>다수의 매니페스트를 차트로 패키징하여 템플릿 기반 배포와 버전 관리에 활용</li></ul><p>Operators</p><ul><li>도메인 특화 운영을 자동화하는 커스텀 컨트롤러, 백업과 클러스터링 등 고급 시나리오 관리에 적합</li></ul><p>노드 오토스케일링</p><ul><li>워크로드 대기로 인한 스케줄 실패 시 요구 리소스에 맞춘 노드 증설을 자동화하는 구성 사용</li></ul><p>GitOps</p><ul><li>선언적 설정을 저장소에 보관하고 컨트롤러가 변경을 지속 동기화</li><li>배포와 롤백 이력이 명확하며 재현 가능성 확보에 유리</li></ul><p>Service Mesh</p><ul><li>사이드카 프록시를 통해 mTLS, 라우팅 제어, 관측성 기능을 표준화하고 애플리케이션 수정 없이 적용</li></ul><p>Observability</p><ul><li>Prometheus 계열로 메트릭 수집과 경보 구성</li><li>Grafana로 대시보드 시각화</li><li>Loki 등 로그 수집 스택으로 텍스트 로그 질의와 보관 수행</li></ul><h3 id=핵심-요약>핵심 요약<a hidden class=anchor aria-hidden=true href=#핵심-요약>#</a></h3><ul><li>Control Plane은 API Server, etcd, Scheduler, Controller Manager, 클라우드 연계 모듈로 구성</li><li>Data Plane은 노드 위 Kubelet, kube-proxy, 컨테이너 런타임과 파드로 구성</li><li>파드는 네임스페이스와 cgroup으로 격리되고 동일 파드 내 네트워크 공유</li><li>Service와 Ingress로 안정적 엔드포인트와 L7 라우팅 구성</li><li>PV와 PVC, StorageClass로 영속 스토리지 동적 프로비저닝</li><li>ConfigMap과 Secret으로 설정과 비밀 분리, ServiceAccount와 RBAC로 최소 권한 적용</li><li>Helm, Operators, 오토스케일러, GitOps, Mesh, 관측성 스택으로 운영 자동화와 가시성 강화</li></ul><h3 id=참고자료>참고자료<a hidden class=anchor aria-hidden=true href=#참고자료>#</a></h3><ul><li><a href=https://kubernetes.io/docs/concepts/overview/components/>https://kubernetes.io/docs/concepts/overview/components/</a></li><li><a href=https://kubernetes.io/docs/concepts/architecture/>https://kubernetes.io/docs/concepts/architecture/</a></li><li><a href=https://kubernetes.io/docs/concepts/workloads/pods/>https://kubernetes.io/docs/concepts/workloads/pods/</a></li><li><a href=https://kubernetes.io/docs/concepts/services-networking/service/>https://kubernetes.io/docs/concepts/services-networking/service/</a></li><li><a href=https://kubernetes.io/docs/concepts/services-networking/ingress/>https://kubernetes.io/docs/concepts/services-networking/ingress/</a></li><li><a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes/>https://kubernetes.io/docs/concepts/storage/persistent-volumes/</a></li><li><a href=https://kubernetes.io/docs/concepts/configuration/configmap/>https://kubernetes.io/docs/concepts/configuration/configmap/</a></li><li><a href=https://kubernetes.io/docs/concepts/configuration/secret/>https://kubernetes.io/docs/concepts/configuration/secret/</a></li><li><a href=https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/>https://kubernetes.io/docs/reference/command-line-tools-reference/kube-proxy/</a></li><li><a href=https://kubernetes.io/docs/concepts/scheduling-eviction/kube-scheduler/>https://kubernetes.io/docs/concepts/scheduling-eviction/kube-scheduler/</a></li><li><a href=https://kubernetes.io/docs/concepts/extend-kubernetes/operator/>https://kubernetes.io/docs/concepts/extend-kubernetes/operator/</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.jsontapose.com/tags/kubernetes/>Kubernetes</a></li><li><a href=https://blog.jsontapose.com/tags/k8s/>K8s</a></li><li><a href=https://blog.jsontapose.com/tags/architecture/>Architecture</a></li><li><a href=https://blog.jsontapose.com/tags/control-plane/>Control-Plane</a></li><li><a href=https://blog.jsontapose.com/tags/data-plane/>Data-Plane</a></li><li><a href=https://blog.jsontapose.com/tags/pods/>Pods</a></li><li><a href=https://blog.jsontapose.com/tags/networking/>Networking</a></li><li><a href=https://blog.jsontapose.com/tags/storage/>Storage</a></li><li><a href=https://blog.jsontapose.com/tags/security/>Security</a></li><li><a href=https://blog.jsontapose.com/tags/observability/>Observability</a></li><li><a href=https://blog.jsontapose.com/tags/gitops/>Gitops</a></li><li><a href=https://blog.jsontapose.com/tags/helm/>Helm</a></li><li><a href=https://blog.jsontapose.com/tags/operators/>Operators</a></li><li><a href=https://blog.jsontapose.com/tags/autoscaling/>Autoscaling</a></li></ul><nav class=paginav><a class=prev href=https://blog.jsontapose.com/posts/javascript-fisher-yates-shuffle-and-sort-random-bias-96c3c0/><span class=title>« Prev</span><br><span>자바스크립트에서 균등한 배열 셔플 구현 피셔‑예이츠와 sort+random 편향 이슈</span>
</a><a class=next href=https://blog.jsontapose.com/posts/use-maps-and-sets-instead-of-objects-3cd24d/><span class=title>Next »</span><br><span>JavaScript에서 객체 대신 Map/Set을 선택해야 하는 경우와 이유</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes 아키텍처와 핵심 컴포넌트 정리 on x" href="https://x.com/intent/tweet/?text=Kubernetes%20%ec%95%84%ed%82%a4%ed%85%8d%ec%b2%98%ec%99%80%20%ed%95%b5%ec%8b%ac%20%ec%bb%b4%ed%8f%ac%eb%84%8c%ed%8a%b8%20%ec%a0%95%eb%a6%ac&amp;url=https%3a%2f%2fblog.jsontapose.com%2fposts%2fkubernetes-architecture-core-components-ebe5f4%2f&amp;hashtags=kubernetes%2ck8s%2carchitecture%2ccontrol-plane%2cdata-plane%2cpods%2cnetworking%2cstorage%2csecurity%2cobservability%2cgitops%2chelm%2coperators%2cautoscaling"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes 아키텍처와 핵심 컴포넌트 정리 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.jsontapose.com%2fposts%2fkubernetes-architecture-core-components-ebe5f4%2f&amp;title=Kubernetes%20%ec%95%84%ed%82%a4%ed%85%8d%ec%b2%98%ec%99%80%20%ed%95%b5%ec%8b%ac%20%ec%bb%b4%ed%8f%ac%eb%84%8c%ed%8a%b8%20%ec%a0%95%eb%a6%ac&amp;summary=Kubernetes%20%ec%95%84%ed%82%a4%ed%85%8d%ec%b2%98%ec%99%80%20%ed%95%b5%ec%8b%ac%20%ec%bb%b4%ed%8f%ac%eb%84%8c%ed%8a%b8%20%ec%a0%95%eb%a6%ac&amp;source=https%3a%2f%2fblog.jsontapose.com%2fposts%2fkubernetes-architecture-core-components-ebe5f4%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes 아키텍처와 핵심 컴포넌트 정리 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.jsontapose.com%2fposts%2fkubernetes-architecture-core-components-ebe5f4%2f&title=Kubernetes%20%ec%95%84%ed%82%a4%ed%85%8d%ec%b2%98%ec%99%80%20%ed%95%b5%ec%8b%ac%20%ec%bb%b4%ed%8f%ac%eb%84%8c%ed%8a%b8%20%ec%a0%95%eb%a6%ac"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes 아키텍처와 핵심 컴포넌트 정리 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.jsontapose.com%2fposts%2fkubernetes-architecture-core-components-ebe5f4%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes 아키텍처와 핵심 컴포넌트 정리 on whatsapp" href="https://api.whatsapp.com/send?text=Kubernetes%20%ec%95%84%ed%82%a4%ed%85%8d%ec%b2%98%ec%99%80%20%ed%95%b5%ec%8b%ac%20%ec%bb%b4%ed%8f%ac%eb%84%8c%ed%8a%b8%20%ec%a0%95%eb%a6%ac%20-%20https%3a%2f%2fblog.jsontapose.com%2fposts%2fkubernetes-architecture-core-components-ebe5f4%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes 아키텍처와 핵심 컴포넌트 정리 on telegram" href="https://telegram.me/share/url?text=Kubernetes%20%ec%95%84%ed%82%a4%ed%85%8d%ec%b2%98%ec%99%80%20%ed%95%b5%ec%8b%ac%20%ec%bb%b4%ed%8f%ac%eb%84%8c%ed%8a%b8%20%ec%a0%95%eb%a6%ac&amp;url=https%3a%2f%2fblog.jsontapose.com%2fposts%2fkubernetes-architecture-core-components-ebe5f4%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kubernetes 아키텍처와 핵심 컴포넌트 정리 on ycombinator" href="https://news.ycombinator.com/submitlink?t=Kubernetes%20%ec%95%84%ed%82%a4%ed%85%8d%ec%b2%98%ec%99%80%20%ed%95%b5%ec%8b%ac%20%ec%bb%b4%ed%8f%ac%eb%84%8c%ed%8a%b8%20%ec%a0%95%eb%a6%ac&u=https%3a%2f%2fblog.jsontapose.com%2fposts%2fkubernetes-architecture-core-components-ebe5f4%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=https://blog.jsontapose.com/>HandsLog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>