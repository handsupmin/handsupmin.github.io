<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Off-chain 개념과 데이터 가용성: zkRollup vs Validium 비교 | HandsLog</title>
<meta name=keywords content="blockchain,off-chain,data-availability,zkrollup,validium,layer2"><meta name=description content="개념 및 배경.
Off-chain은 블록체인 외부에서 이루어지는 데이터 처리나 연산을 지칭함. 트랜잭션 원본이나 대량의 상태 변경을 메인넷에 전부 기록하지 않고, 체인 바깥의 별도 환경에서 처리한 뒤 필요한 증명이나 최종 결과만 온체인에 제출하는 방식. 목적은 비용 절감, 처리 속도 향상, 데이터 활용의 유연성 확보.
핵심 개념과 정의.

Off-chain 처리: 트랜잭션 집계, 상태 채널 연산, 데이터 인덱싱 등 블록체인 외부에서 수행되는 연산 또는 저장 방식. 최종 정리본 또는 증명만 온체인에 올리는 구조.
Off-chain Data Availability: 트랜잭션 데이터 자체는 외부 저장소에 보관하고, 온체인에는 검증에 필요한 최소한의 증명(예: ZK 증명)만 제출하는 모델. 데이터 가용성 제공자 또는 분산 스토리지에 대한 의존성 존재.

동작 원리 및 구조.
일반적인 흐름은 다음과 같음."><meta name=author content><link rel=canonical href=https://handsupmin.github.io/posts/off-chain-data-availability-zkrollup-validium-274b74/><link crossorigin=anonymous href=/assets/css/stylesheet.08f7d74f0ada0f975d29ae436285b61ed7a719d05f350cb888d00341642995a2.css integrity="sha256-CPfXTwraD5ddKa5DYoW2HtenGdBfNQy4iNADQWQplaI=" rel="preload stylesheet" as=style><link rel=icon href=https://handsupmin.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://handsupmin.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://handsupmin.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://handsupmin.github.io/apple-touch-icon.png><link rel=mask-icon href=https://handsupmin.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://handsupmin.github.io/posts/off-chain-data-availability-zkrollup-validium-274b74/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://handsupmin.github.io/posts/off-chain-data-availability-zkrollup-validium-274b74/"><meta property="og:site_name" content="HandsLog"><meta property="og:title" content="Off-chain 개념과 데이터 가용성: zkRollup vs Validium 비교"><meta property="og:description" content="개념 및 배경. Off-chain은 블록체인 외부에서 이루어지는 데이터 처리나 연산을 지칭함. 트랜잭션 원본이나 대량의 상태 변경을 메인넷에 전부 기록하지 않고, 체인 바깥의 별도 환경에서 처리한 뒤 필요한 증명이나 최종 결과만 온체인에 제출하는 방식. 목적은 비용 절감, 처리 속도 향상, 데이터 활용의 유연성 확보.
핵심 개념과 정의. Off-chain 처리: 트랜잭션 집계, 상태 채널 연산, 데이터 인덱싱 등 블록체인 외부에서 수행되는 연산 또는 저장 방식. 최종 정리본 또는 증명만 온체인에 올리는 구조. Off-chain Data Availability: 트랜잭션 데이터 자체는 외부 저장소에 보관하고, 온체인에는 검증에 필요한 최소한의 증명(예: ZK 증명)만 제출하는 모델. 데이터 가용성 제공자 또는 분산 스토리지에 대한 의존성 존재. 동작 원리 및 구조. 일반적인 흐름은 다음과 같음."><meta property="og:locale" content="ko-kr"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-09-25T13:10:01+00:00"><meta property="article:modified_time" content="2025-09-25T13:10:01+00:00"><meta property="article:tag" content="Blockchain"><meta property="article:tag" content="Off-Chain"><meta property="article:tag" content="Data-Availability"><meta property="article:tag" content="Zkrollup"><meta property="article:tag" content="Validium"><meta property="article:tag" content="Layer2"><meta name=twitter:card content="summary"><meta name=twitter:title content="Off-chain 개념과 데이터 가용성: zkRollup vs Validium 비교"><meta name=twitter:description content="개념 및 배경.
Off-chain은 블록체인 외부에서 이루어지는 데이터 처리나 연산을 지칭함. 트랜잭션 원본이나 대량의 상태 변경을 메인넷에 전부 기록하지 않고, 체인 바깥의 별도 환경에서 처리한 뒤 필요한 증명이나 최종 결과만 온체인에 제출하는 방식. 목적은 비용 절감, 처리 속도 향상, 데이터 활용의 유연성 확보.
핵심 개념과 정의.

Off-chain 처리: 트랜잭션 집계, 상태 채널 연산, 데이터 인덱싱 등 블록체인 외부에서 수행되는 연산 또는 저장 방식. 최종 정리본 또는 증명만 온체인에 올리는 구조.
Off-chain Data Availability: 트랜잭션 데이터 자체는 외부 저장소에 보관하고, 온체인에는 검증에 필요한 최소한의 증명(예: ZK 증명)만 제출하는 모델. 데이터 가용성 제공자 또는 분산 스토리지에 대한 의존성 존재.

동작 원리 및 구조.
일반적인 흐름은 다음과 같음."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://handsupmin.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Off-chain 개념과 데이터 가용성: zkRollup vs Validium 비교","item":"https://handsupmin.github.io/posts/off-chain-data-availability-zkrollup-validium-274b74/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Off-chain 개념과 데이터 가용성: zkRollup vs Validium 비교","name":"Off-chain 개념과 데이터 가용성: zkRollup vs Validium 비교","description":"개념 및 배경. Off-chain은 블록체인 외부에서 이루어지는 데이터 처리나 연산을 지칭함. 트랜잭션 원본이나 대량의 상태 변경을 메인넷에 전부 기록하지 않고, 체인 바깥의 별도 환경에서 처리한 뒤 필요한 증명이나 최종 결과만 온체인에 제출하는 방식. 목적은 비용 절감, 처리 속도 향상, 데이터 활용의 유연성 확보.\n핵심 개념과 정의. Off-chain 처리: 트랜잭션 집계, 상태 채널 연산, 데이터 인덱싱 등 블록체인 외부에서 수행되는 연산 또는 저장 방식. 최종 정리본 또는 증명만 온체인에 올리는 구조. Off-chain Data Availability: 트랜잭션 데이터 자체는 외부 저장소에 보관하고, 온체인에는 검증에 필요한 최소한의 증명(예: ZK 증명)만 제출하는 모델. 데이터 가용성 제공자 또는 분산 스토리지에 대한 의존성 존재. 동작 원리 및 구조. 일반적인 흐름은 다음과 같음.\n","keywords":["blockchain","off-chain","data-availability","zkrollup","validium","layer2"],"articleBody":"개념 및 배경. Off-chain은 블록체인 외부에서 이루어지는 데이터 처리나 연산을 지칭함. 트랜잭션 원본이나 대량의 상태 변경을 메인넷에 전부 기록하지 않고, 체인 바깥의 별도 환경에서 처리한 뒤 필요한 증명이나 최종 결과만 온체인에 제출하는 방식. 목적은 비용 절감, 처리 속도 향상, 데이터 활용의 유연성 확보.\n핵심 개념과 정의. Off-chain 처리: 트랜잭션 집계, 상태 채널 연산, 데이터 인덱싱 등 블록체인 외부에서 수행되는 연산 또는 저장 방식. 최종 정리본 또는 증명만 온체인에 올리는 구조. Off-chain Data Availability: 트랜잭션 데이터 자체는 외부 저장소에 보관하고, 온체인에는 검증에 필요한 최소한의 증명(예: ZK 증명)만 제출하는 모델. 데이터 가용성 제공자 또는 분산 스토리지에 대한 의존성 존재. 동작 원리 및 구조. 일반적인 흐름은 다음과 같음.\n클라이언트 또는 오프체인 엔티티가 다수의 트랜잭션을 수집 및 처리. 처리 결과를 집계하여 상태 변경을 생성. 필요 시 증명생성(예: ZK 증명) 수행. 온체인에는 상태 루트나 증명 등 검증에 필요한 메타데이터만 제출. 실제 트랜잭션 데이터 또는 로그는 오프체인 저장소나 데이터 가용성 위원회에 보관. 이 구조는 온체인 저장 비용을 줄이고 L1 네트워크 부담을 경감시키는 데 효과적.\n실무 포인트: 장점과 주의사항. 장점 요약.\n비용 절감: 온체인에 올려야 할 데이터 양 축소로 가스비 감소. 성능 개선: 블록체인 처리 지연과 병목 완화, 높은 TPS 달성 가능. 데이터 활용 유연성: 민감 정보 비공개 보관, 추가 분석과 인덱싱 용이. 주요 리스크 및 대비책.\n신뢰 모델 요구: 오프체인 데이터 제공자 또는 위원회에 대한 신뢰 확보 방안 필요. 다중 복제, 서명 검증, 경제적 인센티브 구조 도입 고려. 데이터 가용성 문제: 데이터 복구 실패 시 상태 재현 불가. 주기적 백업, 다중 가용성 공급자, 데이터 프루핑(protocol-level proof) 설계 권장. 검증과 거버넌스: 증명 불일치 또는 데이터 소실 시 사용자 보호 절차 필요. 롤백/재구성 절차와 책임 분담 명문화. 검증과 보안 관점. 오프체인 방식은 온체인에서 접근 가능한 정보가 제한적이므로 보안 모델이 온체인 중심 모델과 다름. ZK 증명 같은 암호학적 검증은 상태 변조를 방지하지만, 데이터 가용성 문제는 별도 해결책 필요. 검증자와 사용자가 독립적으로 상태를 재구성할 수 있도록 데이터 접근 경로 설계가 핵심.\n간단 예시. 결제 채널: 채널 오픈과 종료만 온체인에 기록. 그 사이 소액 결제는 오프체인에서 주고받음. 최종 정산만 온체인 제출. 인덱서 서비스: 블록체인 데이터를 오프체인 DB에 인덱싱하고, 쿼리 응답은 외부 DB에서 제공. 온체인에는 인덱스의 무결성 증명 또는 요약 정보만 제출. Off-chain Data Availability 상세: zkRollup vs Validium 비교. 데이터 가용성 처리 방식에 따른 핵심 차이.\nzkRollup: 트랜잭션 데이터를 압축하여 메인넷에 온체인으로 기록. 추가로 ZK 증명을 제출하여 상태 변경의 정당성 확보. 장점은 데이터가 온체인에 존재하므로 누구나 상태를 재현 가능, 신뢰 최소화 가능. 단점은 온체인 데이터 비용 부담으로 확장성/비용 측면에서 제약.\nValidium: 트랜잭션 데이터는 오프체인에 보관하고, 메인넷에는 ZK 증명만 제출. 온체인 저장 부담이 적어 비용과 처리량에서 유리. 단점은 데이터 가용성 제공자에 대한 신뢰 필요, 데이터 제공 중단 시 상태 재구성 불가 위험.\n보안·운영 트레이드오프.\n보안: zkRollup은 L1의 보안과 데이터 가용성을 그대로 활용 가능. Validium은 상태 정당성은 ZK 증명으로 보장되지만 데이터 접근성은 제삼자에 의존. 비용·성능: Validium이 온체인 저장량 감소로 더 낮은 수수료와 높은 TPS 달성 가능. zkRollup은 온체인 저장으로 비용 증가. 실무 결정 포인트.\n데이터 접근성과 검열 저항성이 우선이면 zkRollup 우선 고려. 비용과 처리량이 더 중요한 애플리케이션이면 Validium 유리하나, 데이터 가용성 보장책 마련 필수. 마무리 정리. Off-chain 패턴은 블록체인 확장성 문제를 현실적으로 완화하는 방법임. 다만 온체인 불변성 대신 외부 신뢰 요소를 도입하게 되므로, 어떤 수준의 신뢰·가용성을 수용할지에 대한 정책과 기술적 보완을 함께 설계해야 함. zkRollup과 Validium은 동일한 ZK 기반 검증을 사용하지만 데이터 가용성 처리 방식에서 서로 다른 트레이드오프를 제공하므로 사용 사례에 따른 선택 기준 명확화 필요.\n참고자료 https://ethereum.org/en/developers/docs/layer-2/ https://ethereum.org/en/developers/docs/scaling/zk-rollups/ ","wordCount":"536","inLanguage":"en","datePublished":"2025-09-25T13:10:01.704Z","dateModified":"2025-09-25T13:10:01.704Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://handsupmin.github.io/posts/off-chain-data-availability-zkrollup-validium-274b74/"},"publisher":{"@type":"Organization","name":"HandsLog","logo":{"@type":"ImageObject","url":"https://handsupmin.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://handsupmin.github.io/ accesskey=h title="HandsLog (Alt + H)">HandsLog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Off-chain 개념과 데이터 가용성: zkRollup vs Validium 비교</h1><div class=post-meta><span title='2025-09-25 13:10:01.704 +0000 UTC'>September 25, 2025</span></div></header><div class=post-content><h3 id=개념-및-배경>개념 및 배경.<a hidden class=anchor aria-hidden=true href=#개념-및-배경>#</a></h3><p>Off-chain은 블록체인 외부에서 이루어지는 데이터 처리나 연산을 지칭함. 트랜잭션 원본이나 대량의 상태 변경을 메인넷에 전부 기록하지 않고, 체인 바깥의 별도 환경에서 처리한 뒤 필요한 증명이나 최종 결과만 온체인에 제출하는 방식. 목적은 비용 절감, 처리 속도 향상, 데이터 활용의 유연성 확보.</p><h3 id=핵심-개념과-정의>핵심 개념과 정의.<a hidden class=anchor aria-hidden=true href=#핵심-개념과-정의>#</a></h3><ul><li>Off-chain 처리: 트랜잭션 집계, 상태 채널 연산, 데이터 인덱싱 등 블록체인 외부에서 수행되는 연산 또는 저장 방식. 최종 정리본 또는 증명만 온체인에 올리는 구조.</li><li>Off-chain Data Availability: 트랜잭션 데이터 자체는 외부 저장소에 보관하고, 온체인에는 검증에 필요한 최소한의 증명(예: ZK 증명)만 제출하는 모델. 데이터 가용성 제공자 또는 분산 스토리지에 대한 의존성 존재.</li></ul><h3 id=동작-원리-및-구조>동작 원리 및 구조.<a hidden class=anchor aria-hidden=true href=#동작-원리-및-구조>#</a></h3><p>일반적인 흐름은 다음과 같음.</p><ol><li>클라이언트 또는 오프체인 엔티티가 다수의 트랜잭션을 수집 및 처리.</li><li>처리 결과를 집계하여 상태 변경을 생성. 필요 시 증명생성(예: ZK 증명) 수행.</li><li>온체인에는 상태 루트나 증명 등 검증에 필요한 메타데이터만 제출.</li><li>실제 트랜잭션 데이터 또는 로그는 오프체인 저장소나 데이터 가용성 위원회에 보관.</li></ol><p>이 구조는 온체인 저장 비용을 줄이고 L1 네트워크 부담을 경감시키는 데 효과적.</p><h3 id=실무-포인트-장점과-주의사항>실무 포인트: 장점과 주의사항.<a hidden class=anchor aria-hidden=true href=#실무-포인트-장점과-주의사항>#</a></h3><p>장점 요약.</p><ul><li>비용 절감: 온체인에 올려야 할 데이터 양 축소로 가스비 감소.</li><li>성능 개선: 블록체인 처리 지연과 병목 완화, 높은 TPS 달성 가능.</li><li>데이터 활용 유연성: 민감 정보 비공개 보관, 추가 분석과 인덱싱 용이.</li></ul><p>주요 리스크 및 대비책.</p><ul><li>신뢰 모델 요구: 오프체인 데이터 제공자 또는 위원회에 대한 신뢰 확보 방안 필요. 다중 복제, 서명 검증, 경제적 인센티브 구조 도입 고려.</li><li>데이터 가용성 문제: 데이터 복구 실패 시 상태 재현 불가. 주기적 백업, 다중 가용성 공급자, 데이터 프루핑(protocol-level proof) 설계 권장.</li><li>검증과 거버넌스: 증명 불일치 또는 데이터 소실 시 사용자 보호 절차 필요. 롤백/재구성 절차와 책임 분담 명문화.</li></ul><h3 id=검증과-보안-관점>검증과 보안 관점.<a hidden class=anchor aria-hidden=true href=#검증과-보안-관점>#</a></h3><p>오프체인 방식은 온체인에서 접근 가능한 정보가 제한적이므로 보안 모델이 온체인 중심 모델과 다름. ZK 증명 같은 암호학적 검증은 상태 변조를 방지하지만, 데이터 가용성 문제는 별도 해결책 필요. 검증자와 사용자가 독립적으로 상태를 재구성할 수 있도록 데이터 접근 경로 설계가 핵심.</p><h3 id=간단-예시>간단 예시.<a hidden class=anchor aria-hidden=true href=#간단-예시>#</a></h3><ul><li>결제 채널: 채널 오픈과 종료만 온체인에 기록. 그 사이 소액 결제는 오프체인에서 주고받음. 최종 정산만 온체인 제출.</li><li>인덱서 서비스: 블록체인 데이터를 오프체인 DB에 인덱싱하고, 쿼리 응답은 외부 DB에서 제공. 온체인에는 인덱스의 무결성 증명 또는 요약 정보만 제출.</li></ul><h3 id=off-chain-data-availability-상세-zkrollup-vs-validium-비교>Off-chain Data Availability 상세: zkRollup vs Validium 비교.<a hidden class=anchor aria-hidden=true href=#off-chain-data-availability-상세-zkrollup-vs-validium-비교>#</a></h3><p>데이터 가용성 처리 방식에 따른 핵심 차이.</p><ul><li><p>zkRollup: 트랜잭션 데이터를 압축하여 메인넷에 온체인으로 기록. 추가로 ZK 증명을 제출하여 상태 변경의 정당성 확보. 장점은 데이터가 온체인에 존재하므로 누구나 상태를 재현 가능, 신뢰 최소화 가능. 단점은 온체인 데이터 비용 부담으로 확장성/비용 측면에서 제약.</p></li><li><p>Validium: 트랜잭션 데이터는 오프체인에 보관하고, 메인넷에는 ZK 증명만 제출. 온체인 저장 부담이 적어 비용과 처리량에서 유리. 단점은 데이터 가용성 제공자에 대한 신뢰 필요, 데이터 제공 중단 시 상태 재구성 불가 위험.</p></li></ul><p>보안·운영 트레이드오프.</p><ul><li>보안: zkRollup은 L1의 보안과 데이터 가용성을 그대로 활용 가능. Validium은 상태 정당성은 ZK 증명으로 보장되지만 데이터 접근성은 제삼자에 의존.</li><li>비용·성능: Validium이 온체인 저장량 감소로 더 낮은 수수료와 높은 TPS 달성 가능. zkRollup은 온체인 저장으로 비용 증가.</li></ul><p>실무 결정 포인트.</p><ul><li>데이터 접근성과 검열 저항성이 우선이면 zkRollup 우선 고려.</li><li>비용과 처리량이 더 중요한 애플리케이션이면 Validium 유리하나, 데이터 가용성 보장책 마련 필수.</li></ul><h3 id=마무리-정리>마무리 정리.<a hidden class=anchor aria-hidden=true href=#마무리-정리>#</a></h3><p>Off-chain 패턴은 블록체인 확장성 문제를 현실적으로 완화하는 방법임. 다만 온체인 불변성 대신 외부 신뢰 요소를 도입하게 되므로, 어떤 수준의 신뢰·가용성을 수용할지에 대한 정책과 기술적 보완을 함께 설계해야 함. zkRollup과 Validium은 동일한 ZK 기반 검증을 사용하지만 데이터 가용성 처리 방식에서 서로 다른 트레이드오프를 제공하므로 사용 사례에 따른 선택 기준 명확화 필요.</p><h3 id=참고자료>참고자료<a hidden class=anchor aria-hidden=true href=#참고자료>#</a></h3><ul><li><a href=https://ethereum.org/en/developers/docs/layer-2/>https://ethereum.org/en/developers/docs/layer-2/</a></li><li><a href=https://ethereum.org/en/developers/docs/scaling/zk-rollups/>https://ethereum.org/en/developers/docs/scaling/zk-rollups/</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://handsupmin.github.io/tags/blockchain/>Blockchain</a></li><li><a href=https://handsupmin.github.io/tags/off-chain/>Off-Chain</a></li><li><a href=https://handsupmin.github.io/tags/data-availability/>Data-Availability</a></li><li><a href=https://handsupmin.github.io/tags/zkrollup/>Zkrollup</a></li><li><a href=https://handsupmin.github.io/tags/validium/>Validium</a></li><li><a href=https://handsupmin.github.io/tags/layer2/>Layer2</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://handsupmin.github.io/>HandsLog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>