<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Abstract 체인 개요 및 핵심 구성 요소 정리 | HandsLog</title>
<meta name=keywords content="zk-rollup,layer-2,account-abstraction,smart-contract-wallet"><meta name=description content="개요
이 글은 &lsquo;Abstract&rsquo;로 지칭되는 ZK Rollup 기반 L2 체인의 구조와 핵심 컴포넌트를 실무 관점에서 정리한 문서. 목적은 해당 체인의 트랜잭션 흐름, 증명 생성·검증 과정, 네이티브 계정 추상화와 스마트 컨트랙트 지갑(글로벌 지갑)의 동작 방식에 대한 명확한 이해 제공.
배경과 목적

이더리움 기반의 확장성 한계(TPS, 가스비 부담) 보완을 위해 L2 솔루션 도입 필요성
ZK Rollup 계열은 메인넷의 보안성 유지하면서 트랜잭션 처리량을 늘리고 온체인 비용을 낮추는 목적

핵심 개념과 정의

ZK Rollup: 오프체인에서 트랜잭션을 집계하고, 집계 결과에 대한 유효성 증명을 온체인에 제출하여 상태 변경을 최종화하는 기술
ZK Stack: ZK Rollup 계열의 L2를 구축하기 위한 프레임워크 집합(증명 회로, 배포 파이프라인, 런타임 도구 등)
Sequencer: L2 트랜잭션 수신 및 블록화 담당 서비스
Prover/Verifier: 배치 단위의 트랜잭션 결과에 대해 영지식 증명을 생성하고, 온체인에서 검증하는 구성요소
Account Abstraction(네이티브): 체인상의 모든 계정을 스마트 컨트랙트 계정으로 통일하여 트랜잭션 검증·유연한 결제 방식 지원

동작 원리 / 트랜잭션 생명주기

트랜잭션 제출


사용자 또는 클라이언트가 JSON-RPC로 트랜잭션 제출. 트랜잭션은 L2 멤풀에 적재


시퀀싱 및 실행


시퀀서가 멤풀에서 트랜잭션을 읽어 블록 단위로 정리
부트로더 또는 실행 환경이 각 트랜잭션을 실행하고 사용자에게 즉시 실행 결과(성공 여부, txId) 응답


배치 생성 및 증명 준비


시퀀서는 블록들을 prover에 전달하여 여러 블록을 포함하는 배치 생성
Prover는 배치에 대한 증인(witness) 생성, 회로 실행, 증명 생성 과정을 수행
생성된 증명은 크기가 클 수 있어 압축 과정을 거쳐 온체인 검증이 용이한 형태로 변환


L1에 배치 커밋 및 증명 제출


상태 변경만을 요약한 최적화된 데이터(예: blobs 형태, EIP-4844 표준)에 따라 L1에 배치 데이터 가용성 확보 및 커밋
최종적으로 압축된 ZK-SNARK(또는 유사한 간결 증명)를 L1의 롤업 컨트랙트에 제출하여 proveBatches 호출


검증 및 실행 확정


L1 스마트 컨트랙트에서 증명 검증. 검증 완료 시 executeBatches 호출로 상태 최종 확정
L2 로그 및 머클 트리 루트 저장

구성요소 상세


Sequencer 영역"><meta name=author content><link rel=canonical href=https://handsupmin.github.io/posts/abstract-chain-overview-274b74/><link crossorigin=anonymous href=/assets/css/stylesheet.08f7d74f0ada0f975d29ae436285b61ed7a719d05f350cb888d00341642995a2.css integrity="sha256-CPfXTwraD5ddKa5DYoW2HtenGdBfNQy4iNADQWQplaI=" rel="preload stylesheet" as=style><link rel=icon href=https://handsupmin.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://handsupmin.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://handsupmin.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://handsupmin.github.io/apple-touch-icon.png><link rel=mask-icon href=https://handsupmin.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://handsupmin.github.io/posts/abstract-chain-overview-274b74/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://handsupmin.github.io/posts/abstract-chain-overview-274b74/"><meta property="og:site_name" content="HandsLog"><meta property="og:title" content="Abstract 체인 개요 및 핵심 구성 요소 정리"><meta property="og:description" content="개요 이 글은 ‘Abstract’로 지칭되는 ZK Rollup 기반 L2 체인의 구조와 핵심 컴포넌트를 실무 관점에서 정리한 문서. 목적은 해당 체인의 트랜잭션 흐름, 증명 생성·검증 과정, 네이티브 계정 추상화와 스마트 컨트랙트 지갑(글로벌 지갑)의 동작 방식에 대한 명확한 이해 제공.
배경과 목적 이더리움 기반의 확장성 한계(TPS, 가스비 부담) 보완을 위해 L2 솔루션 도입 필요성 ZK Rollup 계열은 메인넷의 보안성 유지하면서 트랜잭션 처리량을 늘리고 온체인 비용을 낮추는 목적 핵심 개념과 정의 ZK Rollup: 오프체인에서 트랜잭션을 집계하고, 집계 결과에 대한 유효성 증명을 온체인에 제출하여 상태 변경을 최종화하는 기술 ZK Stack: ZK Rollup 계열의 L2를 구축하기 위한 프레임워크 집합(증명 회로, 배포 파이프라인, 런타임 도구 등) Sequencer: L2 트랜잭션 수신 및 블록화 담당 서비스 Prover/Verifier: 배치 단위의 트랜잭션 결과에 대해 영지식 증명을 생성하고, 온체인에서 검증하는 구성요소 Account Abstraction(네이티브): 체인상의 모든 계정을 스마트 컨트랙트 계정으로 통일하여 트랜잭션 검증·유연한 결제 방식 지원 동작 원리 / 트랜잭션 생명주기 트랜잭션 제출 사용자 또는 클라이언트가 JSON-RPC로 트랜잭션 제출. 트랜잭션은 L2 멤풀에 적재 시퀀싱 및 실행 시퀀서가 멤풀에서 트랜잭션을 읽어 블록 단위로 정리 부트로더 또는 실행 환경이 각 트랜잭션을 실행하고 사용자에게 즉시 실행 결과(성공 여부, txId) 응답 배치 생성 및 증명 준비 시퀀서는 블록들을 prover에 전달하여 여러 블록을 포함하는 배치 생성 Prover는 배치에 대한 증인(witness) 생성, 회로 실행, 증명 생성 과정을 수행 생성된 증명은 크기가 클 수 있어 압축 과정을 거쳐 온체인 검증이 용이한 형태로 변환 L1에 배치 커밋 및 증명 제출 상태 변경만을 요약한 최적화된 데이터(예: blobs 형태, EIP-4844 표준)에 따라 L1에 배치 데이터 가용성 확보 및 커밋 최종적으로 압축된 ZK-SNARK(또는 유사한 간결 증명)를 L1의 롤업 컨트랙트에 제출하여 proveBatches 호출 검증 및 실행 확정 L1 스마트 컨트랙트에서 증명 검증. 검증 완료 시 executeBatches 호출로 상태 최종 확정 L2 로그 및 머클 트리 루트 저장 구성요소 상세 Sequencer 영역"><meta property="og:locale" content="ko-kr"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-09-24T13:09:24+00:00"><meta property="article:modified_time" content="2025-09-24T13:09:24+00:00"><meta property="article:tag" content="Zk-Rollup"><meta property="article:tag" content="Layer-2"><meta property="article:tag" content="Account-Abstraction"><meta property="article:tag" content="Smart-Contract-Wallet"><meta name=twitter:card content="summary"><meta name=twitter:title content="Abstract 체인 개요 및 핵심 구성 요소 정리"><meta name=twitter:description content="개요
이 글은 &lsquo;Abstract&rsquo;로 지칭되는 ZK Rollup 기반 L2 체인의 구조와 핵심 컴포넌트를 실무 관점에서 정리한 문서. 목적은 해당 체인의 트랜잭션 흐름, 증명 생성·검증 과정, 네이티브 계정 추상화와 스마트 컨트랙트 지갑(글로벌 지갑)의 동작 방식에 대한 명확한 이해 제공.
배경과 목적

이더리움 기반의 확장성 한계(TPS, 가스비 부담) 보완을 위해 L2 솔루션 도입 필요성
ZK Rollup 계열은 메인넷의 보안성 유지하면서 트랜잭션 처리량을 늘리고 온체인 비용을 낮추는 목적

핵심 개념과 정의

ZK Rollup: 오프체인에서 트랜잭션을 집계하고, 집계 결과에 대한 유효성 증명을 온체인에 제출하여 상태 변경을 최종화하는 기술
ZK Stack: ZK Rollup 계열의 L2를 구축하기 위한 프레임워크 집합(증명 회로, 배포 파이프라인, 런타임 도구 등)
Sequencer: L2 트랜잭션 수신 및 블록화 담당 서비스
Prover/Verifier: 배치 단위의 트랜잭션 결과에 대해 영지식 증명을 생성하고, 온체인에서 검증하는 구성요소
Account Abstraction(네이티브): 체인상의 모든 계정을 스마트 컨트랙트 계정으로 통일하여 트랜잭션 검증·유연한 결제 방식 지원

동작 원리 / 트랜잭션 생명주기

트랜잭션 제출


사용자 또는 클라이언트가 JSON-RPC로 트랜잭션 제출. 트랜잭션은 L2 멤풀에 적재


시퀀싱 및 실행


시퀀서가 멤풀에서 트랜잭션을 읽어 블록 단위로 정리
부트로더 또는 실행 환경이 각 트랜잭션을 실행하고 사용자에게 즉시 실행 결과(성공 여부, txId) 응답


배치 생성 및 증명 준비


시퀀서는 블록들을 prover에 전달하여 여러 블록을 포함하는 배치 생성
Prover는 배치에 대한 증인(witness) 생성, 회로 실행, 증명 생성 과정을 수행
생성된 증명은 크기가 클 수 있어 압축 과정을 거쳐 온체인 검증이 용이한 형태로 변환


L1에 배치 커밋 및 증명 제출


상태 변경만을 요약한 최적화된 데이터(예: blobs 형태, EIP-4844 표준)에 따라 L1에 배치 데이터 가용성 확보 및 커밋
최종적으로 압축된 ZK-SNARK(또는 유사한 간결 증명)를 L1의 롤업 컨트랙트에 제출하여 proveBatches 호출


검증 및 실행 확정


L1 스마트 컨트랙트에서 증명 검증. 검증 완료 시 executeBatches 호출로 상태 최종 확정
L2 로그 및 머클 트리 루트 저장

구성요소 상세


Sequencer 영역"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://handsupmin.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Abstract 체인 개요 및 핵심 구성 요소 정리","item":"https://handsupmin.github.io/posts/abstract-chain-overview-274b74/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Abstract 체인 개요 및 핵심 구성 요소 정리","name":"Abstract 체인 개요 및 핵심 구성 요소 정리","description":"개요 이 글은 \u0026lsquo;Abstract\u0026rsquo;로 지칭되는 ZK Rollup 기반 L2 체인의 구조와 핵심 컴포넌트를 실무 관점에서 정리한 문서. 목적은 해당 체인의 트랜잭션 흐름, 증명 생성·검증 과정, 네이티브 계정 추상화와 스마트 컨트랙트 지갑(글로벌 지갑)의 동작 방식에 대한 명확한 이해 제공.\n배경과 목적 이더리움 기반의 확장성 한계(TPS, 가스비 부담) 보완을 위해 L2 솔루션 도입 필요성 ZK Rollup 계열은 메인넷의 보안성 유지하면서 트랜잭션 처리량을 늘리고 온체인 비용을 낮추는 목적 핵심 개념과 정의 ZK Rollup: 오프체인에서 트랜잭션을 집계하고, 집계 결과에 대한 유효성 증명을 온체인에 제출하여 상태 변경을 최종화하는 기술 ZK Stack: ZK Rollup 계열의 L2를 구축하기 위한 프레임워크 집합(증명 회로, 배포 파이프라인, 런타임 도구 등) Sequencer: L2 트랜잭션 수신 및 블록화 담당 서비스 Prover/Verifier: 배치 단위의 트랜잭션 결과에 대해 영지식 증명을 생성하고, 온체인에서 검증하는 구성요소 Account Abstraction(네이티브): 체인상의 모든 계정을 스마트 컨트랙트 계정으로 통일하여 트랜잭션 검증·유연한 결제 방식 지원 동작 원리 / 트랜잭션 생명주기 트랜잭션 제출 사용자 또는 클라이언트가 JSON-RPC로 트랜잭션 제출. 트랜잭션은 L2 멤풀에 적재 시퀀싱 및 실행 시퀀서가 멤풀에서 트랜잭션을 읽어 블록 단위로 정리 부트로더 또는 실행 환경이 각 트랜잭션을 실행하고 사용자에게 즉시 실행 결과(성공 여부, txId) 응답 배치 생성 및 증명 준비 시퀀서는 블록들을 prover에 전달하여 여러 블록을 포함하는 배치 생성 Prover는 배치에 대한 증인(witness) 생성, 회로 실행, 증명 생성 과정을 수행 생성된 증명은 크기가 클 수 있어 압축 과정을 거쳐 온체인 검증이 용이한 형태로 변환 L1에 배치 커밋 및 증명 제출 상태 변경만을 요약한 최적화된 데이터(예: blobs 형태, EIP-4844 표준)에 따라 L1에 배치 데이터 가용성 확보 및 커밋 최종적으로 압축된 ZK-SNARK(또는 유사한 간결 증명)를 L1의 롤업 컨트랙트에 제출하여 proveBatches 호출 검증 및 실행 확정 L1 스마트 컨트랙트에서 증명 검증. 검증 완료 시 executeBatches 호출로 상태 최종 확정 L2 로그 및 머클 트리 루트 저장 구성요소 상세 Sequencer 영역\n","keywords":["zk-rollup","layer-2","account-abstraction","smart-contract-wallet"],"articleBody":"개요 이 글은 ‘Abstract’로 지칭되는 ZK Rollup 기반 L2 체인의 구조와 핵심 컴포넌트를 실무 관점에서 정리한 문서. 목적은 해당 체인의 트랜잭션 흐름, 증명 생성·검증 과정, 네이티브 계정 추상화와 스마트 컨트랙트 지갑(글로벌 지갑)의 동작 방식에 대한 명확한 이해 제공.\n배경과 목적 이더리움 기반의 확장성 한계(TPS, 가스비 부담) 보완을 위해 L2 솔루션 도입 필요성 ZK Rollup 계열은 메인넷의 보안성 유지하면서 트랜잭션 처리량을 늘리고 온체인 비용을 낮추는 목적 핵심 개념과 정의 ZK Rollup: 오프체인에서 트랜잭션을 집계하고, 집계 결과에 대한 유효성 증명을 온체인에 제출하여 상태 변경을 최종화하는 기술 ZK Stack: ZK Rollup 계열의 L2를 구축하기 위한 프레임워크 집합(증명 회로, 배포 파이프라인, 런타임 도구 등) Sequencer: L2 트랜잭션 수신 및 블록화 담당 서비스 Prover/Verifier: 배치 단위의 트랜잭션 결과에 대해 영지식 증명을 생성하고, 온체인에서 검증하는 구성요소 Account Abstraction(네이티브): 체인상의 모든 계정을 스마트 컨트랙트 계정으로 통일하여 트랜잭션 검증·유연한 결제 방식 지원 동작 원리 / 트랜잭션 생명주기 트랜잭션 제출 사용자 또는 클라이언트가 JSON-RPC로 트랜잭션 제출. 트랜잭션은 L2 멤풀에 적재 시퀀싱 및 실행 시퀀서가 멤풀에서 트랜잭션을 읽어 블록 단위로 정리 부트로더 또는 실행 환경이 각 트랜잭션을 실행하고 사용자에게 즉시 실행 결과(성공 여부, txId) 응답 배치 생성 및 증명 준비 시퀀서는 블록들을 prover에 전달하여 여러 블록을 포함하는 배치 생성 Prover는 배치에 대한 증인(witness) 생성, 회로 실행, 증명 생성 과정을 수행 생성된 증명은 크기가 클 수 있어 압축 과정을 거쳐 온체인 검증이 용이한 형태로 변환 L1에 배치 커밋 및 증명 제출 상태 변경만을 요약한 최적화된 데이터(예: blobs 형태, EIP-4844 표준)에 따라 L1에 배치 데이터 가용성 확보 및 커밋 최종적으로 압축된 ZK-SNARK(또는 유사한 간결 증명)를 L1의 롤업 컨트랙트에 제출하여 proveBatches 호출 검증 및 실행 확정 L1 스마트 컨트랙트에서 증명 검증. 검증 완료 시 executeBatches 호출로 상태 최종 확정 L2 로그 및 머클 트리 루트 저장 구성요소 상세 Sequencer 영역\nRPC 게이트웨이: 트랜잭션 전송 및 상태 조회 API 제공 시퀀서 프로세스: 트랜잭션 정리, 블록 생성, 배치 제출 트리거 L1 동기화 모듈: 입출금, 시스템 이벤트 모니터링 Prover \u0026 Verifier 영역\n증인 생성: 배치 실행 결과를 증명할 입력 생성 회로 실행: VM 동작, 스토리지/프리컴파일 연산 통합 검증 회로 증명 압축: 초기 ZK-STARK 등 대형 증명을 간결한 ZK-SNARK 형태로 압축 온체인 검증 인터페이스: 검증 함수 호출 패턴 L1 Rollup Contract 기능\n배치 커밋 및 데이터 가용성 확보 제출된 증명 검증 및 상태 업데이트 실행 크로스체인 메시지 및 브리징 인터페이스 네이티브 계정 추상화 (Native Account Abstraction) 모든 계정이 스마트 컨트랙트 계정으로 통일되어 트랜잭션 라이프사이클 일관성 확보 계정 구현은 표준 인터페이스(IAccount 유사)를 따름 기존 EOA 지갑 사용자는 제출 시 네트워크에서 해당 트랜잭션이 DefaultAccount로 취급되는 흐름 페이마스터 지원을 통해 가스비 대납 또는 ERC-20 결제 방식 허용 트랜잭션 처리 흐름 요약\n제출: JSON-RPC로 tx 제출, from 필드에 스마트 컨트랙트 주소 지정 가능 부트로더: 멤풀에서 트랜잭션 읽어 배치 처리, nonce 검증(시스템 컨트랙트 사용) 계정 검증/실행: validateTransaction -\u003e executeTransaction -\u003e payForTransaction 또는 prepareForPaymaster 호출 페이마스터: 선택적 가스비 대납 로직, validate 및 postTransaction 훅 스마트 컨트랙트 지갑(글로벌 지갑, AGW) 설계 요점 사용자는 이메일/소셜/패스키 등 친숙한 로그인으로 내부 EOA 생성 후 스마트 컨트랙트 지갑 배포 및 서명자 연결 지갑 기능: 복구 모듈, 페이마스터 연동, 다중 서명자, 다양한 서명 알고리즘(예: secp256k1/패스키 기반) 지원 배포 패턴: 내부 EOA의 공개키를 초기 승인 서명자로 설정하는 초기화 트랜잭션 필요 서명 검증 권장 방식 스마트 컨트랙트 계정은 서명 검증 표준(EIP-1271)을 구현하여 체인 내에서 서명 유효성 검증 지원 핵심 인터페이스 예시(요약) contract ERC1271 { bytes4 constant internal MAGICVALUE = 0x1626ba7e; function isValidSignature(bytes32 _hash, bytes memory _signature) public view returns (bytes4 magicValue); } 실무 포인트(주의사항 및 베스트 프랙티스) 데이터 가용성 고려: 배치 커밋 시 필요한 온체인 데이터와 blobs 저장 비용 절감 전략 검토 증명 생성 비용과 지연: 대형 배치의 경우 증명 생성 시간이 길어질 수 있어 배치 크기 조절 필요 회로 커버리지: VM opcode, 프리컴파일, 스토리지 상호작용 모두 회로에 포함되었는지 검증 nonce 관리: 시스템 컨트랙트 기반의 nonce 처리 방식 이해 및 재진입/중복 제출 방지 로직 구현 페이마스터 위험도: 가스비 대납 정책 및 남용 가능성에 대한 검증 로직과 리스크 제한 장치 필요 스마트 지갑 업그레이드/복구 전략: 키 상실·복구 시나리오 대비한 모듈 설계 간단 운영 예시 트랜잭션 제출 후 사용자에게 즉시 응답 제공. 시퀀서가 블록을 모아 배치로 제출하고, 프로버가 증명을 생성해 온체인에 제출. 온체인 검증 완료 시 최종 확정 처리 개발 시 테스트넷에서 증명 생성 시간, 배치 사이즈, L1 비용을 측정하여 운영 파라미터 조정 참고자료 EIP-4844: https://eip4844.com/ EIP-1271: https://eips.ethereum.org/EIPS/eip-1271 롤업 개요(롤업 설계 원리 요약): https://vitalik.ca/general/2021/06/15/rollups.html 마무리 이 문서는 Abstract 계열 ZK Rollup 기반 L2의 핵심 흐름과 실무적 고려사항을 요약함. 구현 또는 운영 단계에서는 증명 백엔드의 설계, 배치 전략, 온체인 가스 최적화, 계정 추상화 관련 보안 검토를 우선적으로 수행할 것.\n참고자료 https://eip4844.com/ https://eips.ethereum.org/EIPS/eip-1271 https://vitalik.ca/general/2021/06/15/rollups.html ","wordCount":"719","inLanguage":"en","datePublished":"2025-09-24T13:09:24.81Z","dateModified":"2025-09-24T13:09:24.81Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://handsupmin.github.io/posts/abstract-chain-overview-274b74/"},"publisher":{"@type":"Organization","name":"HandsLog","logo":{"@type":"ImageObject","url":"https://handsupmin.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://handsupmin.github.io/ accesskey=h title="HandsLog (Alt + H)">HandsLog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Abstract 체인 개요 및 핵심 구성 요소 정리</h1><div class=post-meta><span title='2025-09-24 13:09:24.81 +0000 UTC'>September 24, 2025</span></div></header><div class=post-content><h3 id=개요>개요<a hidden class=anchor aria-hidden=true href=#개요>#</a></h3><p>이 글은 &lsquo;Abstract&rsquo;로 지칭되는 ZK Rollup 기반 L2 체인의 구조와 핵심 컴포넌트를 실무 관점에서 정리한 문서. 목적은 해당 체인의 트랜잭션 흐름, 증명 생성·검증 과정, 네이티브 계정 추상화와 스마트 컨트랙트 지갑(글로벌 지갑)의 동작 방식에 대한 명확한 이해 제공.</p><h3 id=배경과-목적>배경과 목적<a hidden class=anchor aria-hidden=true href=#배경과-목적>#</a></h3><ul><li>이더리움 기반의 확장성 한계(TPS, 가스비 부담) 보완을 위해 L2 솔루션 도입 필요성</li><li>ZK Rollup 계열은 메인넷의 보안성 유지하면서 트랜잭션 처리량을 늘리고 온체인 비용을 낮추는 목적</li></ul><h3 id=핵심-개념과-정의>핵심 개념과 정의<a hidden class=anchor aria-hidden=true href=#핵심-개념과-정의>#</a></h3><ul><li>ZK Rollup: 오프체인에서 트랜잭션을 집계하고, 집계 결과에 대한 유효성 증명을 온체인에 제출하여 상태 변경을 최종화하는 기술</li><li>ZK Stack: ZK Rollup 계열의 L2를 구축하기 위한 프레임워크 집합(증명 회로, 배포 파이프라인, 런타임 도구 등)</li><li>Sequencer: L2 트랜잭션 수신 및 블록화 담당 서비스</li><li>Prover/Verifier: 배치 단위의 트랜잭션 결과에 대해 영지식 증명을 생성하고, 온체인에서 검증하는 구성요소</li><li>Account Abstraction(네이티브): 체인상의 모든 계정을 스마트 컨트랙트 계정으로 통일하여 트랜잭션 검증·유연한 결제 방식 지원</li></ul><h3 id=동작-원리--트랜잭션-생명주기>동작 원리 / 트랜잭션 생명주기<a hidden class=anchor aria-hidden=true href=#동작-원리--트랜잭션-생명주기>#</a></h3><ol><li>트랜잭션 제출</li></ol><ul><li>사용자 또는 클라이언트가 JSON-RPC로 트랜잭션 제출. 트랜잭션은 L2 멤풀에 적재</li></ul><ol start=2><li>시퀀싱 및 실행</li></ol><ul><li>시퀀서가 멤풀에서 트랜잭션을 읽어 블록 단위로 정리</li><li>부트로더 또는 실행 환경이 각 트랜잭션을 실행하고 사용자에게 즉시 실행 결과(성공 여부, txId) 응답</li></ul><ol start=3><li>배치 생성 및 증명 준비</li></ol><ul><li>시퀀서는 블록들을 prover에 전달하여 여러 블록을 포함하는 배치 생성</li><li>Prover는 배치에 대한 증인(witness) 생성, 회로 실행, 증명 생성 과정을 수행</li><li>생성된 증명은 크기가 클 수 있어 압축 과정을 거쳐 온체인 검증이 용이한 형태로 변환</li></ul><ol start=4><li>L1에 배치 커밋 및 증명 제출</li></ol><ul><li>상태 변경만을 요약한 최적화된 데이터(예: blobs 형태, EIP-4844 표준)에 따라 L1에 배치 데이터 가용성 확보 및 커밋</li><li>최종적으로 압축된 ZK-SNARK(또는 유사한 간결 증명)를 L1의 롤업 컨트랙트에 제출하여 proveBatches 호출</li></ul><ol start=5><li>검증 및 실행 확정</li></ol><ul><li>L1 스마트 컨트랙트에서 증명 검증. 검증 완료 시 executeBatches 호출로 상태 최종 확정</li><li>L2 로그 및 머클 트리 루트 저장</li></ul><h3 id=구성요소-상세>구성요소 상세<a hidden class=anchor aria-hidden=true href=#구성요소-상세>#</a></h3><ul><li><p>Sequencer 영역</p><ul><li>RPC 게이트웨이: 트랜잭션 전송 및 상태 조회 API 제공</li><li>시퀀서 프로세스: 트랜잭션 정리, 블록 생성, 배치 제출 트리거</li><li>L1 동기화 모듈: 입출금, 시스템 이벤트 모니터링</li></ul></li><li><p>Prover & Verifier 영역</p><ul><li>증인 생성: 배치 실행 결과를 증명할 입력 생성</li><li>회로 실행: VM 동작, 스토리지/프리컴파일 연산 통합 검증 회로</li><li>증명 압축: 초기 ZK-STARK 등 대형 증명을 간결한 ZK-SNARK 형태로 압축</li><li>온체인 검증 인터페이스: 검증 함수 호출 패턴</li></ul></li><li><p>L1 Rollup Contract 기능</p><ul><li>배치 커밋 및 데이터 가용성 확보</li><li>제출된 증명 검증 및 상태 업데이트 실행</li><li>크로스체인 메시지 및 브리징 인터페이스</li></ul></li></ul><h3 id=네이티브-계정-추상화-native-account-abstraction>네이티브 계정 추상화 (Native Account Abstraction)<a hidden class=anchor aria-hidden=true href=#네이티브-계정-추상화-native-account-abstraction>#</a></h3><ul><li>모든 계정이 스마트 컨트랙트 계정으로 통일되어 트랜잭션 라이프사이클 일관성 확보</li><li>계정 구현은 표준 인터페이스(IAccount 유사)를 따름</li><li>기존 EOA 지갑 사용자는 제출 시 네트워크에서 해당 트랜잭션이 DefaultAccount로 취급되는 흐름</li><li>페이마스터 지원을 통해 가스비 대납 또는 ERC-20 결제 방식 허용</li></ul><p>트랜잭션 처리 흐름 요약</p><ul><li>제출: JSON-RPC로 tx 제출, from 필드에 스마트 컨트랙트 주소 지정 가능</li><li>부트로더: 멤풀에서 트랜잭션 읽어 배치 처리, nonce 검증(시스템 컨트랙트 사용)</li><li>계정 검증/실행: validateTransaction -> executeTransaction -> payForTransaction 또는 prepareForPaymaster 호출</li><li>페이마스터: 선택적 가스비 대납 로직, validate 및 postTransaction 훅</li></ul><h3 id=스마트-컨트랙트-지갑글로벌-지갑-agw-설계-요점>스마트 컨트랙트 지갑(글로벌 지갑, AGW) 설계 요점<a hidden class=anchor aria-hidden=true href=#스마트-컨트랙트-지갑글로벌-지갑-agw-설계-요점>#</a></h3><ul><li>사용자는 이메일/소셜/패스키 등 친숙한 로그인으로 내부 EOA 생성 후 스마트 컨트랙트 지갑 배포 및 서명자 연결</li><li>지갑 기능: 복구 모듈, 페이마스터 연동, 다중 서명자, 다양한 서명 알고리즘(예: secp256k1/패스키 기반) 지원</li><li>배포 패턴: 내부 EOA의 공개키를 초기 승인 서명자로 설정하는 초기화 트랜잭션 필요</li></ul><h3 id=서명-검증-권장-방식>서명 검증 권장 방식<a hidden class=anchor aria-hidden=true href=#서명-검증-권장-방식>#</a></h3><ul><li>스마트 컨트랙트 계정은 서명 검증 표준(EIP-1271)을 구현하여 체인 내에서 서명 유효성 검증 지원</li><li>핵심 인터페이스 예시(요약)</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-solidity data-lang=solidity><span style=display:flex><span><span style=color:#66d9ef>contract</span> <span style=color:#a6e22e>ERC1271</span> {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>bytes4</span> <span style=color:#66d9ef>constant</span> <span style=color:#66d9ef>internal</span> MAGICVALUE <span style=color:#f92672>=</span> <span style=color:#ae81ff>0x1626ba7e</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>isValidSignature</span>(<span style=color:#66d9ef>bytes32</span> _hash, <span style=color:#66d9ef>bytes</span> <span style=color:#66d9ef>memory</span> _signature)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>view</span> <span style=color:#66d9ef>returns</span> (<span style=color:#66d9ef>bytes4</span> magicValue);
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=실무-포인트주의사항-및-베스트-프랙티스>실무 포인트(주의사항 및 베스트 프랙티스)<a hidden class=anchor aria-hidden=true href=#실무-포인트주의사항-및-베스트-프랙티스>#</a></h3><ul><li>데이터 가용성 고려: 배치 커밋 시 필요한 온체인 데이터와 blobs 저장 비용 절감 전략 검토</li><li>증명 생성 비용과 지연: 대형 배치의 경우 증명 생성 시간이 길어질 수 있어 배치 크기 조절 필요</li><li>회로 커버리지: VM opcode, 프리컴파일, 스토리지 상호작용 모두 회로에 포함되었는지 검증</li><li>nonce 관리: 시스템 컨트랙트 기반의 nonce 처리 방식 이해 및 재진입/중복 제출 방지 로직 구현</li><li>페이마스터 위험도: 가스비 대납 정책 및 남용 가능성에 대한 검증 로직과 리스크 제한 장치 필요</li><li>스마트 지갑 업그레이드/복구 전략: 키 상실·복구 시나리오 대비한 모듈 설계</li></ul><h3 id=간단-운영-예시>간단 운영 예시<a hidden class=anchor aria-hidden=true href=#간단-운영-예시>#</a></h3><ul><li>트랜잭션 제출 후 사용자에게 즉시 응답 제공. 시퀀서가 블록을 모아 배치로 제출하고, 프로버가 증명을 생성해 온체인에 제출. 온체인 검증 완료 시 최종 확정 처리</li><li>개발 시 테스트넷에서 증명 생성 시간, 배치 사이즈, L1 비용을 측정하여 운영 파라미터 조정</li></ul><h3 id=참고자료>참고자료<a hidden class=anchor aria-hidden=true href=#참고자료>#</a></h3><ul><li>EIP-4844: <a href=https://eip4844.com/>https://eip4844.com/</a></li><li>EIP-1271: <a href=https://eips.ethereum.org/EIPS/eip-1271>https://eips.ethereum.org/EIPS/eip-1271</a></li><li>롤업 개요(롤업 설계 원리 요약): <a href=https://vitalik.ca/general/2021/06/15/rollups.html>https://vitalik.ca/general/2021/06/15/rollups.html</a></li></ul><h3 id=마무리>마무리<a hidden class=anchor aria-hidden=true href=#마무리>#</a></h3><p>이 문서는 Abstract 계열 ZK Rollup 기반 L2의 핵심 흐름과 실무적 고려사항을 요약함. 구현 또는 운영 단계에서는 증명 백엔드의 설계, 배치 전략, 온체인 가스 최적화, 계정 추상화 관련 보안 검토를 우선적으로 수행할 것.</p><h3 id=참고자료-1>참고자료<a hidden class=anchor aria-hidden=true href=#참고자료-1>#</a></h3><ul><li><a href=https://eip4844.com/>https://eip4844.com/</a></li><li><a href=https://eips.ethereum.org/EIPS/eip-1271>https://eips.ethereum.org/EIPS/eip-1271</a></li><li><a href=https://vitalik.ca/general/2021/06/15/rollups.html>https://vitalik.ca/general/2021/06/15/rollups.html</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://handsupmin.github.io/tags/zk-rollup/>Zk-Rollup</a></li><li><a href=https://handsupmin.github.io/tags/layer-2/>Layer-2</a></li><li><a href=https://handsupmin.github.io/tags/account-abstraction/>Account-Abstraction</a></li><li><a href=https://handsupmin.github.io/tags/smart-contract-wallet/>Smart-Contract-Wallet</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://handsupmin.github.io/>HandsLog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>