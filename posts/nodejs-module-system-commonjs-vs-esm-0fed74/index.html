<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Node.js 모듈 시스템 정리: CommonJS와 ESM의 차이, 선택 기준, 상호 운용 | HandsLog</title>
<meta name=keywords content="nodejs,javascript,modules,commonjs,esm,tree-shaking,bundling,typescript,nodenext"><meta name=description content="개요
Node.js에서 CommonJS(CJS)와 ESM(ES Modules)은 공존 상태이며, 신규 프로젝트는 ESM으로 전환되는 추세임. 두 시스템의 차이를 이해하면 번들 크기, 로딩 성능, 정적 분석, 생태계 호환에서 불필요한 시행착오 감소 가능
배경

2009년 Node.js는 표준 모듈 시스템이 없던 시기라 CommonJS 채택
2015년 ES6에서 ESM이 언어 차원의 공식 표준으로 확정
2020년대 들어 Node.js가 ESM을 정식 지원, 브라우저와 규약 수렴 진행

CommonJS 요약
// export
module.exports = { foo: 1 }
exports.bar = 2

// import
const { foo, bar } = require('./utils')특성"><meta name=author content><link rel=canonical href=https://blog.jsontapose.com/posts/nodejs-module-system-commonjs-vs-esm-0fed74/><link crossorigin=anonymous href=/assets/css/stylesheet.08f7d74f0ada0f975d29ae436285b61ed7a719d05f350cb888d00341642995a2.css integrity="sha256-CPfXTwraD5ddKa5DYoW2HtenGdBfNQy4iNADQWQplaI=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.jsontapose.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.jsontapose.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.jsontapose.com/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.jsontapose.com/apple-touch-icon.png><link rel=mask-icon href=https://blog.jsontapose.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/json href=https://blog.jsontapose.com/posts/nodejs-module-system-commonjs-vs-esm-0fed74/index.json><link rel=alternate hreflang=en href=https://blog.jsontapose.com/posts/nodejs-module-system-commonjs-vs-esm-0fed74/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=module>
  import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";

  const isDark = () =>
    document.body.classList.contains("dark") ||
    window.matchMedia?.("(prefers-color-scheme: dark)")?.matches;

  const getThemeOptions = () => {
    const dark = isDark();
    return {
      startOnLoad: false,
      securityLevel: "loose", 
      theme: dark ? "dark" : "default",
      themeVariables: dark
        ? {
            primaryColor: "#0f172a"  ,
            primaryTextColor: "#e5e7eb"  ,
            primaryBorderColor: "#94a3b8"  ,
            lineColor: "#94a3b8",
            textColor: "#e5e7eb",
            nodeTextColor: "#e5e7eb",
            edgeLabelBackground: "#0f172a",
          }
        : {
            primaryColor: "#f8fafc"  ,
            primaryTextColor: "#111827",
            primaryBorderColor: "#374151",
            lineColor: "#374151",
            textColor: "#111827",
            nodeTextColor: "#111827",
            edgeLabelBackground: "#ffffff",
          },
    };
  };

  const renderMermaid = () => {
    
    document.querySelectorAll(".mermaid[data-processed]").forEach((el) => {
      el.removeAttribute("data-processed");
    });
    mermaid.initialize(getThemeOptions());
    mermaid.run({ querySelector: ".mermaid" });
  };

  
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", renderMermaid, {
      once: true,
    });
  } else {
    renderMermaid();
  }

  
  const btn = document.getElementById("theme-toggle");
  if (btn) {
    btn.addEventListener("click", () => {
      
      setTimeout(renderMermaid, 0);
    });
  }

  
  const mql = window.matchMedia?.("(prefers-color-scheme: dark)");
  if (mql && mql.addEventListener) {
    mql.addEventListener("change", renderMermaid);
  }
</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-6NKJRT1NC1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6NKJRT1NC1")</script><meta name=google-adsense-account content="ca-pub-6022353980017733"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6022353980017733" crossorigin=anonymous></script><meta property="og:url" content="https://blog.jsontapose.com/posts/nodejs-module-system-commonjs-vs-esm-0fed74/"><meta property="og:site_name" content="HandsLog"><meta property="og:title" content="Node.js 모듈 시스템 정리: CommonJS와 ESM의 차이, 선택 기준, 상호 운용"><meta property="og:description" content="개요 Node.js에서 CommonJS(CJS)와 ESM(ES Modules)은 공존 상태이며, 신규 프로젝트는 ESM으로 전환되는 추세임. 두 시스템의 차이를 이해하면 번들 크기, 로딩 성능, 정적 분석, 생태계 호환에서 불필요한 시행착오 감소 가능
배경 2009년 Node.js는 표준 모듈 시스템이 없던 시기라 CommonJS 채택 2015년 ES6에서 ESM이 언어 차원의 공식 표준으로 확정 2020년대 들어 Node.js가 ESM을 정식 지원, 브라우저와 규약 수렴 진행 CommonJS 요약 // export module.exports = { foo: 1 } exports.bar = 2 // import const { foo, bar } = require('./utils')특성"><meta property="og:locale" content="ko-kr"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-12-16T13:14:04+00:00"><meta property="article:modified_time" content="2025-12-16T13:14:04+00:00"><meta property="article:tag" content="Nodejs"><meta property="article:tag" content="Javascript"><meta property="article:tag" content="Modules"><meta property="article:tag" content="Commonjs"><meta property="article:tag" content="Esm"><meta property="article:tag" content="Tree-Shaking"><meta name=twitter:card content="summary"><meta name=twitter:title content="Node.js 모듈 시스템 정리: CommonJS와 ESM의 차이, 선택 기준, 상호 운용"><meta name=twitter:description content="개요
Node.js에서 CommonJS(CJS)와 ESM(ES Modules)은 공존 상태이며, 신규 프로젝트는 ESM으로 전환되는 추세임. 두 시스템의 차이를 이해하면 번들 크기, 로딩 성능, 정적 분석, 생태계 호환에서 불필요한 시행착오 감소 가능
배경

2009년 Node.js는 표준 모듈 시스템이 없던 시기라 CommonJS 채택
2015년 ES6에서 ESM이 언어 차원의 공식 표준으로 확정
2020년대 들어 Node.js가 ESM을 정식 지원, 브라우저와 규약 수렴 진행

CommonJS 요약
// export
module.exports = { foo: 1 }
exports.bar = 2

// import
const { foo, bar } = require('./utils')특성"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.jsontapose.com/posts/"},{"@type":"ListItem","position":2,"name":"Node.js 모듈 시스템 정리: CommonJS와 ESM의 차이, 선택 기준, 상호 운용","item":"https://blog.jsontapose.com/posts/nodejs-module-system-commonjs-vs-esm-0fed74/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Node.js 모듈 시스템 정리: CommonJS와 ESM의 차이, 선택 기준, 상호 운용","name":"Node.js 모듈 시스템 정리: CommonJS와 ESM의 차이, 선택 기준, 상호 운용","description":"개요 Node.js에서 CommonJS(CJS)와 ESM(ES Modules)은 공존 상태이며, 신규 프로젝트는 ESM으로 전환되는 추세임. 두 시스템의 차이를 이해하면 번들 크기, 로딩 성능, 정적 분석, 생태계 호환에서 불필요한 시행착오 감소 가능\n배경 2009년 Node.js는 표준 모듈 시스템이 없던 시기라 CommonJS 채택 2015년 ES6에서 ESM이 언어 차원의 공식 표준으로 확정 2020년대 들어 Node.js가 ESM을 정식 지원, 브라우저와 규약 수렴 진행 CommonJS 요약 // export module.exports = { foo: 1 } exports.bar = 2 // import const { foo, bar } = require(\u0026#39;./utils\u0026#39;)특성\n","keywords":["nodejs","javascript","modules","commonjs","esm","tree-shaking","bundling","typescript","nodenext"],"articleBody":"개요 Node.js에서 CommonJS(CJS)와 ESM(ES Modules)은 공존 상태이며, 신규 프로젝트는 ESM으로 전환되는 추세임. 두 시스템의 차이를 이해하면 번들 크기, 로딩 성능, 정적 분석, 생태계 호환에서 불필요한 시행착오 감소 가능\n배경 2009년 Node.js는 표준 모듈 시스템이 없던 시기라 CommonJS 채택 2015년 ES6에서 ESM이 언어 차원의 공식 표준으로 확정 2020년대 들어 Node.js가 ESM을 정식 지원, 브라우저와 규약 수렴 진행 CommonJS 요약 // export module.exports = { foo: 1 } exports.bar = 2 // import const { foo, bar } = require('./utils')특성\nrequire와 module.exports 사용 동기 로딩, 호출 시점에 블로킹 발생 런타임 해석 기반, 동적 require 가능 상대 경로에서 확장자 생략 가능 ESM 요약 // export export const foo = 1 export default function main() {} // import import { foo } from './utils.js' import lodash from 'lodash'특성\nimport와 export 사용 비동기 로딩, 병렬 가능 정적 분석 가능, tree-shaking 전제 충족 Node.js에서 상대 경로 사용 시 확장자 명시 필요 Tree-shaking 핵심 요지 사용하지 않는 export를 번들 단계에서 제거하는 최적화 기법 ESM의 정적 import 그래프가 전제 조건 CommonJS는 require가 동적이어서 안전한 제거가 어려움 간단 예시\n// utils.js export function add(a, b) { return a + b } export function sub(a, b) { return a - b } // main.js import { add } from './utils.js' console.log(add(1, 2))번들러는 add만 포함 가능. sub는 제거 대상\n잘 동작하려면\n패키지와 앱 코드 ESM 사용 권장 사이드 이펙트 없는 모듈 구성 라이브러리는 package.json에 sideEffects: false 명시 또는 예외 파일만 whitelisting lodash 사례 요지\nimport _ from ’lodash’는 전체 포함 위험 import { get } from ’lodash-es’는 필요한 함수만 포함 유리 핵심 차이점 정리 문법\nCJS: module.exports, require ESM: export, export default, import 로딩 방식\nCJS: 동기 로딩, require 호출 지점 블로킹 ESM: 비동기 로딩, 브라우저 네이티브에서 병렬 요청 정합 정적 vs 동적 분석\nCJS: 런타임 결정, require(변수) 등 동적 패턴 허용, 사전 분석 어려움 ESM: 컴파일 타임 확정, import는 정적 문자열과 파일 상단 배치 요구, 미사용 코드 제거 가능 this 바인딩\nCJS: 최상위 this는 module.exports와 동일 ESM: 최상위 this는 undefined __dirname, __filename\nCJS: 기본 제공 ESM: 직접 생성 필요 import { fileURLToPath } from 'url' import { dirname } from 'path' const __filename = fileURLToPath(import.meta.url) const __dirname = dirname(__filename)JSON import\nCJS: require(’./config.json’) 가능 ESM: Node 18+에서 import assertions 사용 권장 import config from './config.json' assert { type: 'json' }또는 fs로 읽어 파싱\n브라우저 호환성\nCJS: 번들러 필요 ESM: 네이티브 지원, 동일 문법 사용 Top-level await\nCJS: 미지원 ESM: 지원 Node.js에서 ESM 사용하기 방법 1, package.json에 type 지정\n{ \"type\": \"module\" }이 경우 .js는 ESM으로 해석, .cjs는 CJS로 강제 해석\n방법 2, 확장자로 구분\n.mjs는 ESM .cjs는 CJS .js는 package.json의 type 규칙을 따름 상대 경로 import 시 확장자 또는 exports 매핑 필요. 브라우저와 규칙을 맞추려면 확장자 명시 권장\n상호 운용성 ESM에서 CJS 가져오기\nimport lodash from 'lodash'일반적으로 기본 내보내기 형태로 동작. 일부 라이브러리는 네임드 내보내기 호환성 제한 존재\nCJS에서 ESM 가져오기\n// require로 직접 로딩 불가 // 필요 시 동적 import 사용 const esm = await import('./esm-module.mjs')트레이드오프\nCJS 프로젝트에서 ESM 모듈을 섞을 때 비동기 경계 발생 초기화 순서와 로딩 타이밍에 주의 필요 번들링과 성능 관점 ESM은 정적 분석 기반으로 dead code 제거, 코드 스플리팅 최적화에 유리 CJS 패키지를 번들링할 때는 번들러가 안전을 위해 전체 포함하는 경우 빈번 라이브러리 선택 시 ESM 제공 여부와 sideEffects 메타데이터 확인 권장 현재 생태계 상황 신규 프로젝트는 ESM 권장 흐름 기존 라이브러리 상당수가 여전히 CJS를 배포하나, 점진적으로 dual package 또는 ESM 우선 제공으로 이동 중 Node.js는 CJS와 ESM 모두 지원. 브라우저와 번들러는 ESM 우선 설계가 보편 실무 선택 가이드 새 프로젝트는 ESM 우선. 브라우저와 서버 모두에서 일관된 모듈 해석 확보 기존 CJS 코드베이스는 점진 전환 전략 적용. 외부 의존성 호환성, 빌드 파이프라인 영향, 배포 타깃 고려 번들러 사용 환경에서는 ESM 의존성 채택이 번들 크기와 트리쉐이킹 품질에 유리 상대 경로 import에는 확장자 명시. 경로 해석 차이로 인한 런타임 오류 방지 JSON, __dirname 등 CJS 편의 기능은 ESM 전환 시 대체 패턴을 사전에 확보 TypeScript에서 nodenext의 의미 tsconfig 예시\n{ \"module\": \"nodenext\", \"moduleResolution\": \"nodenext\" }의미\nNode.js의 최신 ESM 해석 규칙을 따르는 모듈 시스템 적용 import, export 문법과 package.json의 exports, type에 맞춘 해석 수행 상대 경로에는 확장자 요구. CJS와 ESM의 혼합 구성에 대한 Node 규칙을 TS 레벨에서 일치시킴 한 줄 요약\nnodenext는 타입스크립트의 모듈 시스템과 해석을 Node ESM 규칙에 정합시키는 설정 마무리 요약\nCommonJS는 역사적 배경과 생태계 호환에서 여전히 유효하나, 동기 로딩과 동적 해석으로 인해 정적 최적화에 불리 ESM은 언어 표준, 정적 분석, 브라우저 네이티브, top‑level await 등 현대적 요구에 부합 신규 개발은 ESM을 기본값으로 두고, CJS 상호 운용은 경계 최소화와 비동기 초기화 관리에 집중 권장 번들 크기와 로딩 성능이 중요하면 ESM과 sideEffects 메타데이터를 우선 고려 참고자료 https://nodejs.org/api/esm.html https://nodejs.org/api/modules.html https://nodejs.org/api/packages.html#type https://nodejs.org/api/esm.html#json-modules https://webpack.js.org/guides/tree-shaking/ https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules https://www.typescriptlang.org/tsconfig#moduleResolution https://nodejs.org/api/esm.html#import-assertions ","wordCount":"746","inLanguage":"en","datePublished":"2025-12-16T13:14:04.304Z","dateModified":"2025-12-16T13:14:04.304Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.jsontapose.com/posts/nodejs-module-system-commonjs-vs-esm-0fed74/"},"publisher":{"@type":"Organization","name":"HandsLog","logo":{"@type":"ImageObject","url":"https://blog.jsontapose.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.jsontapose.com/ accesskey=h title="HandsLog (Alt + H)">HandsLog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.jsontapose.com/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://blog.jsontapose.com/categories/ title=categories><span>categories</span></a></li><li><a href=https://jsontapose.com/ title="compare JSON"><span>compare JSON</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.jsontapose.com/>Home</a>&nbsp;»&nbsp;<a href=https://blog.jsontapose.com/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Node.js 모듈 시스템 정리: CommonJS와 ESM의 차이, 선택 기준, 상호 운용</h1><div class=post-meta><span title='2025-12-16 13:14:04.304 +0000 UTC'>December 16, 2025</span></div></header><div class=post-content><h3 id=개요>개요<a hidden class=anchor aria-hidden=true href=#개요>#</a></h3><p>Node.js에서 CommonJS(CJS)와 ESM(ES Modules)은 공존 상태이며, 신규 프로젝트는 ESM으로 전환되는 추세임. 두 시스템의 차이를 이해하면 번들 크기, 로딩 성능, 정적 분석, 생태계 호환에서 불필요한 시행착오 감소 가능</p><h3 id=배경>배경<a hidden class=anchor aria-hidden=true href=#배경>#</a></h3><ul><li>2009년 Node.js는 표준 모듈 시스템이 없던 시기라 CommonJS 채택</li><li>2015년 ES6에서 ESM이 언어 차원의 공식 표준으로 확정</li><li>2020년대 들어 Node.js가 ESM을 정식 지원, 브라우저와 규약 수렴 진행</li></ul><h3 id=commonjs-요약>CommonJS 요약<a hidden class=anchor aria-hidden=true href=#commonjs-요약>#</a></h3><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#616e87;font-style:italic>// export
</span></span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic></span>module<span style=color:#eceff4>.</span>exports <span style=color:#81a1c1>=</span> <span style=color:#eceff4>{</span> foo<span style=color:#81a1c1>:</span> <span style=color:#b48ead>1</span> <span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>exports<span style=color:#eceff4>.</span>bar <span style=color:#81a1c1>=</span> <span style=color:#b48ead>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>// import
</span></span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic></span><span style=color:#81a1c1;font-weight:700>const</span> <span style=color:#eceff4>{</span> foo<span style=color:#eceff4>,</span> bar <span style=color:#eceff4>}</span> <span style=color:#81a1c1>=</span> require<span style=color:#eceff4>(</span><span style=color:#a3be8c>&#39;./utils&#39;</span><span style=color:#eceff4>)</span></span></span></code></pre></div><p>특성</p><ul><li>require와 module.exports 사용</li><li>동기 로딩, 호출 시점에 블로킹 발생</li><li>런타임 해석 기반, 동적 require 가능</li><li>상대 경로에서 확장자 생략 가능</li></ul><h3 id=esm-요약>ESM 요약<a hidden class=anchor aria-hidden=true href=#esm-요약>#</a></h3><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#616e87;font-style:italic>// export
</span></span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic></span><span style=color:#81a1c1;font-weight:700>export</span> <span style=color:#81a1c1;font-weight:700>const</span> foo <span style=color:#81a1c1>=</span> <span style=color:#b48ead>1</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>export</span> <span style=color:#81a1c1;font-weight:700>default</span> <span style=color:#81a1c1;font-weight:700>function</span> main<span style=color:#eceff4>()</span> <span style=color:#eceff4>{}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>// import
</span></span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic></span><span style=color:#81a1c1;font-weight:700>import</span> <span style=color:#eceff4>{</span> foo <span style=color:#eceff4>}</span> from <span style=color:#a3be8c>&#39;./utils.js&#39;</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>import</span> lodash from <span style=color:#a3be8c>&#39;lodash&#39;</span></span></span></code></pre></div><p>특성</p><ul><li>import와 export 사용</li><li>비동기 로딩, 병렬 가능</li><li>정적 분석 가능, tree-shaking 전제 충족</li><li>Node.js에서 상대 경로 사용 시 확장자 명시 필요</li></ul><h3 id=tree-shaking-핵심-요지>Tree-shaking 핵심 요지<a hidden class=anchor aria-hidden=true href=#tree-shaking-핵심-요지>#</a></h3><ul><li>사용하지 않는 export를 번들 단계에서 제거하는 최적화 기법</li><li>ESM의 정적 import 그래프가 전제 조건</li><li>CommonJS는 require가 동적이어서 안전한 제거가 어려움</li></ul><p>간단 예시</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#616e87;font-style:italic>// utils.js
</span></span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic></span><span style=color:#81a1c1;font-weight:700>export</span> <span style=color:#81a1c1;font-weight:700>function</span> add<span style=color:#eceff4>(</span>a<span style=color:#eceff4>,</span> b<span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span> <span style=color:#81a1c1;font-weight:700>return</span> a <span style=color:#81a1c1>+</span> b <span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>export</span> <span style=color:#81a1c1;font-weight:700>function</span> sub<span style=color:#eceff4>(</span>a<span style=color:#eceff4>,</span> b<span style=color:#eceff4>)</span> <span style=color:#eceff4>{</span> <span style=color:#81a1c1;font-weight:700>return</span> a <span style=color:#81a1c1>-</span> b <span style=color:#eceff4>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>// main.js
</span></span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic></span><span style=color:#81a1c1;font-weight:700>import</span> <span style=color:#eceff4>{</span> add <span style=color:#eceff4>}</span> from <span style=color:#a3be8c>&#39;./utils.js&#39;</span>
</span></span><span style=display:flex><span>console<span style=color:#eceff4>.</span>log<span style=color:#eceff4>(</span>add<span style=color:#eceff4>(</span><span style=color:#b48ead>1</span><span style=color:#eceff4>,</span> <span style=color:#b48ead>2</span><span style=color:#eceff4>))</span></span></span></code></pre></div><p>번들러는 add만 포함 가능. sub는 제거 대상</p><p>잘 동작하려면</p><ul><li>패키지와 앱 코드 ESM 사용 권장</li><li>사이드 이펙트 없는 모듈 구성</li><li>라이브러리는 package.json에 sideEffects: false 명시 또는 예외 파일만 whitelisting</li></ul><p>lodash 사례 요지</p><ul><li>import _ from &rsquo;lodash&rsquo;는 전체 포함 위험</li><li>import { get } from &rsquo;lodash-es&rsquo;는 필요한 함수만 포함 유리</li></ul><h3 id=핵심-차이점-정리>핵심 차이점 정리<a hidden class=anchor aria-hidden=true href=#핵심-차이점-정리>#</a></h3><p>문법</p><ul><li>CJS: module.exports, require</li><li>ESM: export, export default, import</li></ul><p>로딩 방식</p><ul><li>CJS: 동기 로딩, require 호출 지점 블로킹</li><li>ESM: 비동기 로딩, 브라우저 네이티브에서 병렬 요청 정합</li></ul><p>정적 vs 동적 분석</p><ul><li>CJS: 런타임 결정, require(변수) 등 동적 패턴 허용, 사전 분석 어려움</li><li>ESM: 컴파일 타임 확정, import는 정적 문자열과 파일 상단 배치 요구, 미사용 코드 제거 가능</li></ul><p>this 바인딩</p><ul><li>CJS: 최상위 this는 module.exports와 동일</li><li>ESM: 최상위 this는 undefined</li></ul><p>__dirname, __filename</p><ul><li>CJS: 기본 제공</li><li>ESM: 직접 생성 필요</li></ul><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>import</span> <span style=color:#eceff4>{</span> fileURLToPath <span style=color:#eceff4>}</span> from <span style=color:#a3be8c>&#39;url&#39;</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>import</span> <span style=color:#eceff4>{</span> dirname <span style=color:#eceff4>}</span> from <span style=color:#a3be8c>&#39;path&#39;</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>const</span> __filename <span style=color:#81a1c1>=</span> fileURLToPath<span style=color:#eceff4>(</span><span style=color:#81a1c1;font-weight:700>import</span><span style=color:#eceff4>.</span>meta<span style=color:#eceff4>.</span>url<span style=color:#eceff4>)</span>
</span></span><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>const</span> __dirname <span style=color:#81a1c1>=</span> dirname<span style=color:#eceff4>(</span>__filename<span style=color:#eceff4>)</span></span></span></code></pre></div><p>JSON import</p><ul><li>CJS: require(&rsquo;./config.json&rsquo;) 가능</li><li>ESM: Node 18+에서 import assertions 사용 권장</li></ul><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>import</span> config from <span style=color:#a3be8c>&#39;./config.json&#39;</span> assert <span style=color:#eceff4>{</span> type<span style=color:#81a1c1>:</span> <span style=color:#a3be8c>&#39;json&#39;</span> <span style=color:#eceff4>}</span></span></span></code></pre></div><p>또는 fs로 읽어 파싱</p><p>브라우저 호환성</p><ul><li>CJS: 번들러 필요</li><li>ESM: 네이티브 지원, 동일 문법 사용</li></ul><p>Top-level await</p><ul><li>CJS: 미지원</li><li>ESM: 지원</li></ul><h3 id=nodejs에서-esm-사용하기>Node.js에서 ESM 사용하기<a hidden class=anchor aria-hidden=true href=#nodejs에서-esm-사용하기>#</a></h3><p>방법 1, package.json에 type 지정</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  <span style=color:#81a1c1>&#34;type&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;module&#34;</span>
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span></span></span></code></pre></div><p>이 경우 .js는 ESM으로 해석, .cjs는 CJS로 강제 해석</p><p>방법 2, 확장자로 구분</p><ul><li>.mjs는 ESM</li><li>.cjs는 CJS</li><li>.js는 package.json의 type 규칙을 따름</li></ul><p>상대 경로 import 시 확장자 또는 exports 매핑 필요. 브라우저와 규칙을 맞추려면 확장자 명시 권장</p><h3 id=상호-운용성>상호 운용성<a hidden class=anchor aria-hidden=true href=#상호-운용성>#</a></h3><p>ESM에서 CJS 가져오기</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#81a1c1;font-weight:700>import</span> lodash from <span style=color:#a3be8c>&#39;lodash&#39;</span></span></span></code></pre></div><p>일반적으로 기본 내보내기 형태로 동작. 일부 라이브러리는 네임드 내보내기 호환성 제한 존재</p><p>CJS에서 ESM 가져오기</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span><span style=color:#616e87;font-style:italic>// require로 직접 로딩 불가
</span></span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic>// 필요 시 동적 import 사용
</span></span></span><span style=display:flex><span><span style=color:#616e87;font-style:italic></span><span style=color:#81a1c1;font-weight:700>const</span> esm <span style=color:#81a1c1>=</span> <span style=color:#81a1c1;font-weight:700>await</span> <span style=color:#81a1c1;font-weight:700>import</span><span style=color:#eceff4>(</span><span style=color:#a3be8c>&#39;./esm-module.mjs&#39;</span><span style=color:#eceff4>)</span></span></span></code></pre></div><p>트레이드오프</p><ul><li>CJS 프로젝트에서 ESM 모듈을 섞을 때 비동기 경계 발생</li><li>초기화 순서와 로딩 타이밍에 주의 필요</li></ul><h3 id=번들링과-성능-관점>번들링과 성능 관점<a hidden class=anchor aria-hidden=true href=#번들링과-성능-관점>#</a></h3><ul><li>ESM은 정적 분석 기반으로 dead code 제거, 코드 스플리팅 최적화에 유리</li><li>CJS 패키지를 번들링할 때는 번들러가 안전을 위해 전체 포함하는 경우 빈번</li><li>라이브러리 선택 시 ESM 제공 여부와 sideEffects 메타데이터 확인 권장</li></ul><h3 id=현재-생태계-상황>현재 생태계 상황<a hidden class=anchor aria-hidden=true href=#현재-생태계-상황>#</a></h3><ul><li>신규 프로젝트는 ESM 권장 흐름</li><li>기존 라이브러리 상당수가 여전히 CJS를 배포하나, 점진적으로 dual package 또는 ESM 우선 제공으로 이동 중</li><li>Node.js는 CJS와 ESM 모두 지원. 브라우저와 번들러는 ESM 우선 설계가 보편</li></ul><h3 id=실무-선택-가이드>실무 선택 가이드<a hidden class=anchor aria-hidden=true href=#실무-선택-가이드>#</a></h3><ul><li>새 프로젝트는 ESM 우선. 브라우저와 서버 모두에서 일관된 모듈 해석 확보</li><li>기존 CJS 코드베이스는 점진 전환 전략 적용. 외부 의존성 호환성, 빌드 파이프라인 영향, 배포 타깃 고려</li><li>번들러 사용 환경에서는 ESM 의존성 채택이 번들 크기와 트리쉐이킹 품질에 유리</li><li>상대 경로 import에는 확장자 명시. 경로 해석 차이로 인한 런타임 오류 방지</li><li>JSON, __dirname 등 CJS 편의 기능은 ESM 전환 시 대체 패턴을 사전에 확보</li></ul><h3 id=typescript에서-nodenext의-의미>TypeScript에서 nodenext의 의미<a hidden class=anchor aria-hidden=true href=#typescript에서-nodenext의-의미>#</a></h3><p>tsconfig 예시</p><div class=highlight><pre tabindex=0 style=color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span><span style=color:#eceff4>{</span>
</span></span><span style=display:flex><span>  <span style=color:#81a1c1>&#34;module&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;nodenext&#34;</span><span style=color:#eceff4>,</span>
</span></span><span style=display:flex><span>  <span style=color:#81a1c1>&#34;moduleResolution&#34;</span><span style=color:#eceff4>:</span> <span style=color:#a3be8c>&#34;nodenext&#34;</span>
</span></span><span style=display:flex><span><span style=color:#eceff4>}</span></span></span></code></pre></div><p>의미</p><ul><li>Node.js의 최신 ESM 해석 규칙을 따르는 모듈 시스템 적용</li><li>import, export 문법과 package.json의 exports, type에 맞춘 해석 수행</li><li>상대 경로에는 확장자 요구. CJS와 ESM의 혼합 구성에 대한 Node 규칙을 TS 레벨에서 일치시킴</li></ul><p>한 줄 요약</p><ul><li>nodenext는 타입스크립트의 모듈 시스템과 해석을 Node ESM 규칙에 정합시키는 설정</li></ul><h3 id=마무리>마무리<a hidden class=anchor aria-hidden=true href=#마무리>#</a></h3><p>요약</p><ul><li>CommonJS는 역사적 배경과 생태계 호환에서 여전히 유효하나, 동기 로딩과 동적 해석으로 인해 정적 최적화에 불리</li><li>ESM은 언어 표준, 정적 분석, 브라우저 네이티브, top‑level await 등 현대적 요구에 부합</li><li>신규 개발은 ESM을 기본값으로 두고, CJS 상호 운용은 경계 최소화와 비동기 초기화 관리에 집중 권장</li><li>번들 크기와 로딩 성능이 중요하면 ESM과 sideEffects 메타데이터를 우선 고려</li></ul><h3 id=참고자료>참고자료<a hidden class=anchor aria-hidden=true href=#참고자료>#</a></h3><ul><li><a href=https://nodejs.org/api/esm.html>https://nodejs.org/api/esm.html</a></li><li><a href=https://nodejs.org/api/modules.html>https://nodejs.org/api/modules.html</a></li><li><a href=https://nodejs.org/api/packages.html#type>https://nodejs.org/api/packages.html#type</a></li><li><a href=https://nodejs.org/api/esm.html#json-modules>https://nodejs.org/api/esm.html#json-modules</a></li><li><a href=https://webpack.js.org/guides/tree-shaking/>https://webpack.js.org/guides/tree-shaking/</a></li><li><a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules>https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules</a></li><li><a href=https://www.typescriptlang.org/tsconfig#moduleResolution>https://www.typescriptlang.org/tsconfig#moduleResolution</a></li><li><a href=https://nodejs.org/api/esm.html#import-assertions>https://nodejs.org/api/esm.html#import-assertions</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.jsontapose.com/tags/nodejs/>Nodejs</a></li><li><a href=https://blog.jsontapose.com/tags/javascript/>Javascript</a></li><li><a href=https://blog.jsontapose.com/tags/modules/>Modules</a></li><li><a href=https://blog.jsontapose.com/tags/commonjs/>Commonjs</a></li><li><a href=https://blog.jsontapose.com/tags/esm/>Esm</a></li><li><a href=https://blog.jsontapose.com/tags/tree-shaking/>Tree-Shaking</a></li><li><a href=https://blog.jsontapose.com/tags/bundling/>Bundling</a></li><li><a href=https://blog.jsontapose.com/tags/typescript/>Typescript</a></li><li><a href=https://blog.jsontapose.com/tags/nodenext/>Nodenext</a></li></ul><nav class=paginav><a class=prev href=https://blog.jsontapose.com/posts/merkle-tree-blockchain-role-274b74/><span class=title>« Prev</span><br><span>머클트리(Merkle Tree)란? 머클트리의 개념과 블록체인에서의 역할</span>
</a><a class=next href=https://blog.jsontapose.com/posts/ethereum-gas-gas-limit-gas-price-eip-1559-157947/><span class=title>Next »</span><br><span>이더리움 가스 이해하기: Gas Limit, Gas Price, EIP-1559 정리</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Node.js 모듈 시스템 정리: CommonJS와 ESM의 차이, 선택 기준, 상호 운용 on x" href="https://x.com/intent/tweet/?text=Node.js%20%eb%aa%a8%eb%93%88%20%ec%8b%9c%ec%8a%a4%ed%85%9c%20%ec%a0%95%eb%a6%ac%3a%20CommonJS%ec%99%80%20ESM%ec%9d%98%20%ec%b0%a8%ec%9d%b4%2c%20%ec%84%a0%ed%83%9d%20%ea%b8%b0%ec%a4%80%2c%20%ec%83%81%ed%98%b8%20%ec%9a%b4%ec%9a%a9&amp;url=https%3a%2f%2fblog.jsontapose.com%2fposts%2fnodejs-module-system-commonjs-vs-esm-0fed74%2f&amp;hashtags=nodejs%2cjavascript%2cmodules%2ccommonjs%2cesm%2ctree-shaking%2cbundling%2ctypescript%2cnodenext"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Node.js 모듈 시스템 정리: CommonJS와 ESM의 차이, 선택 기준, 상호 운용 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.jsontapose.com%2fposts%2fnodejs-module-system-commonjs-vs-esm-0fed74%2f&amp;title=Node.js%20%eb%aa%a8%eb%93%88%20%ec%8b%9c%ec%8a%a4%ed%85%9c%20%ec%a0%95%eb%a6%ac%3a%20CommonJS%ec%99%80%20ESM%ec%9d%98%20%ec%b0%a8%ec%9d%b4%2c%20%ec%84%a0%ed%83%9d%20%ea%b8%b0%ec%a4%80%2c%20%ec%83%81%ed%98%b8%20%ec%9a%b4%ec%9a%a9&amp;summary=Node.js%20%eb%aa%a8%eb%93%88%20%ec%8b%9c%ec%8a%a4%ed%85%9c%20%ec%a0%95%eb%a6%ac%3a%20CommonJS%ec%99%80%20ESM%ec%9d%98%20%ec%b0%a8%ec%9d%b4%2c%20%ec%84%a0%ed%83%9d%20%ea%b8%b0%ec%a4%80%2c%20%ec%83%81%ed%98%b8%20%ec%9a%b4%ec%9a%a9&amp;source=https%3a%2f%2fblog.jsontapose.com%2fposts%2fnodejs-module-system-commonjs-vs-esm-0fed74%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Node.js 모듈 시스템 정리: CommonJS와 ESM의 차이, 선택 기준, 상호 운용 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.jsontapose.com%2fposts%2fnodejs-module-system-commonjs-vs-esm-0fed74%2f&title=Node.js%20%eb%aa%a8%eb%93%88%20%ec%8b%9c%ec%8a%a4%ed%85%9c%20%ec%a0%95%eb%a6%ac%3a%20CommonJS%ec%99%80%20ESM%ec%9d%98%20%ec%b0%a8%ec%9d%b4%2c%20%ec%84%a0%ed%83%9d%20%ea%b8%b0%ec%a4%80%2c%20%ec%83%81%ed%98%b8%20%ec%9a%b4%ec%9a%a9"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Node.js 모듈 시스템 정리: CommonJS와 ESM의 차이, 선택 기준, 상호 운용 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.jsontapose.com%2fposts%2fnodejs-module-system-commonjs-vs-esm-0fed74%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Node.js 모듈 시스템 정리: CommonJS와 ESM의 차이, 선택 기준, 상호 운용 on whatsapp" href="https://api.whatsapp.com/send?text=Node.js%20%eb%aa%a8%eb%93%88%20%ec%8b%9c%ec%8a%a4%ed%85%9c%20%ec%a0%95%eb%a6%ac%3a%20CommonJS%ec%99%80%20ESM%ec%9d%98%20%ec%b0%a8%ec%9d%b4%2c%20%ec%84%a0%ed%83%9d%20%ea%b8%b0%ec%a4%80%2c%20%ec%83%81%ed%98%b8%20%ec%9a%b4%ec%9a%a9%20-%20https%3a%2f%2fblog.jsontapose.com%2fposts%2fnodejs-module-system-commonjs-vs-esm-0fed74%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Node.js 모듈 시스템 정리: CommonJS와 ESM의 차이, 선택 기준, 상호 운용 on telegram" href="https://telegram.me/share/url?text=Node.js%20%eb%aa%a8%eb%93%88%20%ec%8b%9c%ec%8a%a4%ed%85%9c%20%ec%a0%95%eb%a6%ac%3a%20CommonJS%ec%99%80%20ESM%ec%9d%98%20%ec%b0%a8%ec%9d%b4%2c%20%ec%84%a0%ed%83%9d%20%ea%b8%b0%ec%a4%80%2c%20%ec%83%81%ed%98%b8%20%ec%9a%b4%ec%9a%a9&amp;url=https%3a%2f%2fblog.jsontapose.com%2fposts%2fnodejs-module-system-commonjs-vs-esm-0fed74%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Node.js 모듈 시스템 정리: CommonJS와 ESM의 차이, 선택 기준, 상호 운용 on ycombinator" href="https://news.ycombinator.com/submitlink?t=Node.js%20%eb%aa%a8%eb%93%88%20%ec%8b%9c%ec%8a%a4%ed%85%9c%20%ec%a0%95%eb%a6%ac%3a%20CommonJS%ec%99%80%20ESM%ec%9d%98%20%ec%b0%a8%ec%9d%b4%2c%20%ec%84%a0%ed%83%9d%20%ea%b8%b0%ec%a4%80%2c%20%ec%83%81%ed%98%b8%20%ec%9a%b4%ec%9a%a9&u=https%3a%2f%2fblog.jsontapose.com%2fposts%2fnodejs-module-system-commonjs-vs-esm-0fed74%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://blog.jsontapose.com/>HandsLog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>