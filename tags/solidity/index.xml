<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Solidity on HandsLog</title>
    <link>https://blog.jsontapose.com/tags/solidity/</link>
    <description>Recent content in Solidity on HandsLog</description>
    <generator>Hugo -- 0.146.0</generator>
    <language>ko-kr</language>
    <lastBuildDate>Tue, 20 Jan 2026 13:17:15 +0000</lastBuildDate>
    <atom:link href="https://blog.jsontapose.com/tags/solidity/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>오프체인 서명 검증(Off-chain Signature Verification)이란?</title>
      <link>https://blog.jsontapose.com/posts/off-chain-signature-verification-542a33/</link>
      <pubDate>Sun, 21 Sep 2025 03:11:23 +0000</pubDate>
      <guid>https://blog.jsontapose.com/posts/off-chain-signature-verification-542a33/</guid>
      <description>&lt;h2 id=&#34;개요&#34;&gt;개요&lt;/h2&gt;
&lt;p&gt;블록체인 기술에서 모든 것을 온체인(On-chain)으로 처리하는 것은 비효율적이거나 불가능한 경우가 많음
이때 &lt;strong&gt;오프체인 서명 검증&lt;/strong&gt;(Off-chain Signature Verification)은 오프체인(서버)의 유연성과 온체인(컨트랙트)의 신뢰성을 결합하는 강력한 해결책이 됨&lt;/p&gt;
&lt;p&gt;쉽게 비유하자면, 클럽 매니저(서버)가 VIP 손님(사용자)에게만 특별한 싸인이 담긴 입장권(서명)을 발급하고, 입구의 가드(스마트 컨트랙트)는 그 싸인만 확인하고 들여보내는 것과 같음
가드는 매번 매니저에게 연락할 필요 없이, 위조되지 않은 싸인인지 확인만 하면 됨&lt;/p&gt;
&lt;p&gt;이 글에서는 오프체인 서명 검증이 무엇인지, 어떤 용어들이 사용되는지, 그리고 가장 중요하게는 어떤 원리로 동작하는지 상세히 알아봄&lt;/p&gt;</description>
    </item>
    <item>
      <title>안전한 가스비 대납을 위한 오프체인 서명 검증 페이마스터 (in ZkSync Era)</title>
      <link>https://blog.jsontapose.com/posts/zksync-era-paymaster-off-chain-signature-verification-274b74/</link>
      <pubDate>Sun, 21 Sep 2025 02:14:08 +0000</pubDate>
      <guid>https://blog.jsontapose.com/posts/zksync-era-paymaster-off-chain-signature-verification-274b74/</guid>
      <description>&lt;h2 id=&#34;개요&#34;&gt;개요&lt;/h2&gt;
&lt;p&gt;블록체인 서비스에서 사용자가 겪는 가장 큰 장벽 중 하나는 단연 &lt;strong&gt;가스비&lt;/strong&gt;(Gas Fee)임
아무리 좋은 서비스를 만들어도, 사용자가 지갑에 가스비로 쓸 코인(ETH 등)을 보유하고 있어야 한다는 점은 대중화를 가로막는 결정적인 요인임
이 문제를 해결해 사용자가 가스비 걱정 없이 서비스 핵심 가치에만 집중하게 만드는 것, 즉 &lt;strong&gt;가스리스 트랜잭션&lt;/strong&gt;(Gasless Transaction)을 구현하는 것이 이번 개발의 최종 목표였음&lt;/p&gt;
&lt;p&gt;zkSync Era는 이를 위해 &lt;strong&gt;페이마스터&lt;/strong&gt;(Paymaster)라는 강력한 시스템을 제공함. 페이마스터는 서비스 제공자 같은 제3자가 사용자를 대신해 트랜잭션 수수료를 지불할 수 있게 해주는 스마트 컨트랙트임&lt;/p&gt;</description>
    </item>
    <item>
      <title>이더리움 단위 정리: ETH, Gwei, Wei와 ERC-20 decimals 18</title>
      <link>https://blog.jsontapose.com/posts/ethereum-units-eth-gwei-wei-decimals-18-83ba11/</link>
      <pubDate>Tue, 20 Jan 2026 13:17:15 +0000</pubDate>
      <guid>https://blog.jsontapose.com/posts/ethereum-units-eth-gwei-wei-decimals-18-83ba11/</guid>
      <description>&lt;h3 id=&#34;개요&#34;&gt;개요&lt;/h3&gt;
&lt;p&gt;이더리움 단위 체계는 10의 지수 기반으로 딱 떨어지게 설계됨
EVM은 부동소수점을 지원하지 않으므로 모든 값은 정수로 표현, 단위 나눔과 스케일링이 필수&lt;/p&gt;
&lt;h3 id=&#34;단위-환산&#34;&gt;단위 환산&lt;/h3&gt;
&lt;p&gt;1 ETH = 10^9 Gwei = 10^18 Wei&lt;/p&gt;
&lt;p&gt;풀어서 보면 다음과 같음&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1 ETH&lt;/li&gt;
&lt;li&gt;= 1,000,000,000 Gwei (10억 그웨이)&lt;/li&gt;
&lt;li&gt;= 1,000,000,000,000,000,000 Wei (100경 웨이)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;용도별-구분&#34;&gt;용도별 구분&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Wei: 최소 단위, 스마트 컨트랙트 내부 연산에 사용. Solidity에 소수점 개념 없음&lt;/li&gt;
&lt;li&gt;Gwei: 10^9 Wei. 가스 가격 표시 단위로 사용, 사람이 읽고 비교하기 쉬움&lt;/li&gt;
&lt;li&gt;Ether: 10^18 Wei. 지갑 잔고, 일상적 송금 금액 표시에 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;개발자-상식-erc-20-decimals--18&#34;&gt;개발자 상식: ERC-20 decimals = 18&lt;/h3&gt;
&lt;p&gt;ERC-20 토큰에서 decimals를 18로 두는 관례는 이더리움 기본 최소 단위(Wei) 스케일을 그대로 따름
의미: 토큰 1개가 10^18의 최소 단위로 분할 가능
예외: 스테이블 코인처럼 법정화폐 소수 자리를 맞추는 토큰은 decimals 6 등으로 설정하는 경우 있음&lt;/p&gt;</description>
    </item>
    <item>
      <title>CEI 패턴 Checks-Effects-Interactions로 재진입 방어</title>
      <link>https://blog.jsontapose.com/posts/cei-pattern-checks-effects-interactions-940c92/</link>
      <pubDate>Sat, 17 Jan 2026 13:10:03 +0000</pubDate>
      <guid>https://blog.jsontapose.com/posts/cei-pattern-checks-effects-interactions-940c92/</guid>
      <description>&lt;h3 id=&#34;개념배경&#34;&gt;개념/배경&lt;/h3&gt;
&lt;p&gt;CEI 패턴은 Checks-Effects-Interactions의 약자
스마트 컨트랙트 함수에서 실행 순서를 명확히 해 재진입 공격을 줄이는 코드 규칙
핵심은 검증 후 상태 변경을 먼저 완료하고, 외부 호출을 마지막에 수행하는 흐름 유지&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;3단계-순서&#34;&gt;3단계 순서&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-plain&#34; data-lang=&#34;plain&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;1. Checks (검증)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   ↓
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;2. Effects (상태 변경)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   ↓
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;3. Interactions (외부 호출)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;이 순서를 지키면 외부로 제어권이 나가기 전에 내부 상태가 이미 안전하게 반영됨
재진입 시도는 변경된 상태에 의해 자연스럽게 차단됨&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&#34;예시로-이해하기&#34;&gt;예시로 이해하기&lt;/h3&gt;
&lt;h4 id=&#34;잘못된-순서-위험&#34;&gt;잘못된 순서 위험&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-solidity&#34; data-lang=&#34;solidity&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#81a1c1;font-weight:bold&#34;&gt;function&lt;/span&gt; &lt;span style=&#34;color:#88c0d0&#34;&gt;withdraw&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#81a1c1&#34;&gt;uint256&lt;/span&gt; amount&lt;span style=&#34;color:#eceff4&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#81a1c1;font-weight:bold&#34;&gt;external&lt;/span&gt; &lt;span style=&#34;color:#eceff4&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#616e87;font-style:italic&#34;&gt;// 1. Checks
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#616e87;font-style:italic&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#81a1c1&#34;&gt;require&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;(&lt;/span&gt;balances&lt;span style=&#34;color:#eceff4&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#81a1c1&#34;&gt;msg&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#81a1c1&#34;&gt;sender&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#81a1c1&#34;&gt;&amp;gt;=&lt;/span&gt; amount&lt;span style=&#34;color:#eceff4&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#616e87;font-style:italic&#34;&gt;// 2. Interactions ← 너무 빠름
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#616e87;font-style:italic&#34;&gt;&lt;/span&gt;    &lt;span style=&#34;color:#eceff4&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#81a1c1&#34;&gt;bool&lt;/span&gt; success&lt;span style=&#34;color:#eceff4&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#eceff4&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#81a1c1&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#81a1c1&#34;&gt;msg&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#81a1c1&#34;&gt;sender&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#81a1c1&#34;&gt;call&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#81a1c1&#34;&gt;value&lt;/span&gt;&lt;span style=&#34;color:#81a1c1&#34;&gt;:&lt;/span&gt; amount&lt;span style=&#34;color:#eceff4&#34;&gt;}(&lt;/span&gt;&lt;span style=&#34;color:#a3be8c&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#81a1c1&#34;&gt;require&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;(&lt;/span&gt;success&lt;span style=&#34;color:#eceff4&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#616e87;font-style:italic&#34;&gt;// 3. Effects ← 너무 늦음
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#616e87;font-style:italic&#34;&gt;&lt;/span&gt;    balances&lt;span style=&#34;color:#eceff4&#34;&gt;[&lt;/span&gt;&lt;span style=&#34;color:#81a1c1&#34;&gt;msg&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#81a1c1&#34;&gt;sender&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;]&lt;/span&gt; &lt;span style=&#34;color:#81a1c1&#34;&gt;-=&lt;/span&gt; amount&lt;span style=&#34;color:#eceff4&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;문제점&lt;/p&gt;</description>
    </item>
    <item>
      <title>스마트 컨트랙트 재진입 공격 방지 가이드 — CEI 패턴과 ReentrancyGuard</title>
      <link>https://blog.jsontapose.com/posts/smart-contract-reentrancy-defense-cei-reentrancy-guard-229684/</link>
      <pubDate>Thu, 15 Jan 2026 13:14:49 +0000</pubDate>
      <guid>https://blog.jsontapose.com/posts/smart-contract-reentrancy-defense-cei-reentrancy-guard-229684/</guid>
      <description>&lt;h3 id=&#34;개요&#34;&gt;개요&lt;/h3&gt;
&lt;p&gt;리엔트란시 재진입은 외부 호출 중 컨트랙트의 같은 함수 또는 다른 함수가 다시 호출되는 상황을 의미함
상태 변경 전 외부 호출이 발생하면 공격자가 재진입을 통해 상태 검증을 우회하거나 중복 실행을 유도할 수 있음
대표적 피해 사례로 The DAO 사건이 알려져 있음&lt;/p&gt;
&lt;p&gt;실무 기본 원칙은 CEI 패턴 Checks-Effects-Interactions 준수와 ReentrancyGuard를 통한 보강 적용임
두 방법을 함께 쓰는 것이 표준에 가까움&lt;/p&gt;
&lt;h3 id=&#34;유명한-사례와-최소-취약-패턴&#34;&gt;유명한 사례와 최소 취약 패턴&lt;/h3&gt;
&lt;p&gt;취약한 순서 패턴 핵심&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;외부 전송 또는 외부 컨트랙트 호출이 상태 변경보다 먼저 발생&lt;/li&gt;
&lt;li&gt;이후 상태 변경이 이루어져도 재진입 시점에는 이전 상태가 유효하여 중복 집행 가능&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;최소 취약 스니펫 예시&lt;/p&gt;</description>
    </item>
    <item>
      <title>ERC-721 승인 패턴 정리 approve vs setApprovalForAll 사용법과 권한 확인</title>
      <link>https://blog.jsontapose.com/posts/erc-721-approve-vs-setapprovalforall-50a1bb/</link>
      <pubDate>Wed, 14 Jan 2026 13:15:05 +0000</pubDate>
      <guid>https://blog.jsontapose.com/posts/erc-721-approve-vs-setapprovalforall-50a1bb/</guid>
      <description>&lt;h3 id=&#34;개요&#34;&gt;개요&lt;/h3&gt;
&lt;p&gt;ERC-721에서 전송 권한 위임을 처리하는 두 가지 승인 방식 정리
권한 범위와 사용 시나리오가 달라 오용 시 과권한 위험 발생 가능
핵심 동작과 권한 확인 패턴 중심으로 정리&lt;/p&gt;
&lt;h3 id=&#34;핵심-개념&#34;&gt;핵심 개념&lt;/h3&gt;
&lt;p&gt;approve(address to, uint256 tokenId)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;특정 NFT 1개에 대한 전송 권한만 부여&lt;/li&gt;
&lt;li&gt;예 123번 토큰만 지정한 대상이 전송 가능&lt;/li&gt;
&lt;li&gt;토큰별 개별 승인 필요&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;setApprovalForAll(address operator, bool approved)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;소유한 모든 NFT에 대한 전송 권한 일괄 부여&lt;/li&gt;
&lt;li&gt;한 번 승인 시 현재 보유분 + 이후 수령분까지 포함&lt;/li&gt;
&lt;li&gt;관리 편의성 높지만 권한 범위 큼&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;권한-확인-패턴&#34;&gt;권한 확인 패턴&lt;/h3&gt;
&lt;p&gt;컨트랙트에서 호출 주체가 대상 토큰에 대해 승인 받았는지 확인 필요
두 방식 모두 대응하는 조건을 만족해야 안전&lt;/p&gt;</description>
    </item>
    <item>
      <title>ERC-1155 vs ERC-721: 멀티 토큰 표준과 단일 NFT 표준의 차이와 선택 기준</title>
      <link>https://blog.jsontapose.com/posts/erc-1155-vs-erc-721-multi-token-standard-vs-single-nft-03f5a7/</link>
      <pubDate>Wed, 07 Jan 2026 13:14:32 +0000</pubDate>
      <guid>https://blog.jsontapose.com/posts/erc-1155-vs-erc-721-multi-token-standard-vs-single-nft-03f5a7/</guid>
      <description>&lt;h3 id=&#34;개요&#34;&gt;개요&lt;/h3&gt;
&lt;p&gt;ERC-1155는 게임 아이템처럼 대량의 토큰을 효율적으로 관리하기 위해 등장한 멀티 토큰 표준으로, ERC-721의 전송·배포 측면 비효율을 줄이려는 목적을 가짐&lt;/p&gt;
&lt;p&gt;편의점 비유로 직관화 가능&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ERC-721 개별 포장 모델, 물건 10개 결제에 결제 10번·영수증 10장&lt;/li&gt;
&lt;li&gt;ERC-1155 장바구니 모델, 물건 10개를 한 번에 결제·영수증 1장&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;핵심-개념&#34;&gt;핵심 개념&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ERC-721 단일 NFT 표준, 토큰 ID 하나가 유일한 자산을 대표&lt;/li&gt;
&lt;li&gt;ERC-1155 멀티 토큰 표준, 하나의 컨트랙트에서 다수의 ID 발행과 각 ID별 수량 관리&lt;/li&gt;
&lt;li&gt;동일 ID에 수량이 붙는 구조로 FT·NFT·SFT를 한 컨트랙트에서 혼합 가능&lt;/li&gt;
&lt;li&gt;세미 펀지블 SFT, 같은 ID를 공유하는 동일 품질의 여러 개 토큰을 표현&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;동작과-구조&#34;&gt;동작과 구조&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;단일 컨트랙트에 다수의 tokenId와 balance 맵핑 보유&lt;/li&gt;
&lt;li&gt;전송 함수 &lt;code&gt;safeTransferFrom&lt;/code&gt; 단건, &lt;code&gt;safeBatchTransferFrom&lt;/code&gt; 묶음 전송 지원&lt;/li&gt;
&lt;li&gt;이벤트는 &lt;code&gt;TransferSingle&lt;/code&gt;과 &lt;code&gt;TransferBatch&lt;/code&gt;로 발행, 동일 ID 다건 이동에 최적화&lt;/li&gt;
&lt;li&gt;메타데이터는 ID 기반 템플릿 URI 방식 활용이 일반적 &lt;code&gt;{id}&lt;/code&gt; 플레이스홀더 패턴 사용&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;장점-비교&#34;&gt;장점 비교&lt;/h3&gt;
&lt;p&gt;A. 가스비 및 처리량 개선&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
