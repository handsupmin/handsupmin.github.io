<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Logging on HandsLog</title>
    <link>https://blog.jsontapose.com/tags/logging/</link>
    <description>Recent content in Logging on HandsLog</description>
    <generator>Hugo -- 0.146.0</generator>
    <language>ko-kr</language>
    <lastBuildDate>Fri, 16 Jan 2026 13:13:56 +0000</lastBuildDate>
    <atom:link href="https://blog.jsontapose.com/tags/logging/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>NestJS 전역 예외 필터와 표준 오류 응답 설계 가이드</title>
      <link>https://blog.jsontapose.com/posts/nestjs-global-exception-filter-standard-error-response-81191e/</link>
      <pubDate>Fri, 16 Jan 2026 13:13:56 +0000</pubDate>
      <guid>https://blog.jsontapose.com/posts/nestjs-global-exception-filter-standard-error-response-81191e/</guid>
      <description>&lt;h3 id=&#34;개요&#34;&gt;개요&lt;/h3&gt;
&lt;p&gt;API 에러 응답을 일관된 JSON 포맷으로 통일하고, 비즈니스 예외와 프레임워크 예외를 한 경로로 수집하는 전역 예외 필터 설계와 구현 정리
핵심은 표준 에러 코드 정의, AppError 기반의 명시적 예외 던지기, GlobalExceptionFilter에서의 단일 포맷 출력, ValidationPipe 결과의 구조화, traceId 기반 상관관계 추적&lt;/p&gt;
&lt;p&gt;요청 흐름 개요&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;요청 진입 → ValidationPipe 검증&lt;/li&gt;
&lt;li&gt;검증 실패 → 전역 필터에서 표준 응답 변환&lt;/li&gt;
&lt;li&gt;검증 통과 → Controller/Service 실행&lt;/li&gt;
&lt;li&gt;비즈니스 로직 예외 → AppError 서브클래스 throw → 전역 필터 처리&lt;/li&gt;
&lt;li&gt;알 수 없는 예외 → 500으로 표준 응답 변환&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;최종 응답 포맷은 단일 구조 유지&lt;/p&gt;</description>
    </item>
    <item>
      <title>TID 전파 베스트 프랙티스: HTTP 헤더와 메시지 큐 Payload 기준</title>
      <link>https://blog.jsontapose.com/posts/tid-propagation-best-practices-http-header-vs-queue-payload-b25f8e/</link>
      <pubDate>Tue, 06 Jan 2026 13:13:56 +0000</pubDate>
      <guid>https://blog.jsontapose.com/posts/tid-propagation-best-practices-http-header-vs-queue-payload-b25f8e/</guid>
      <description>&lt;h3 id=&#34;개념배경&#34;&gt;개념/배경&lt;/h3&gt;
&lt;p&gt;마이크로서비스와 비동기 작업이 섞인 환경에서 요청의 전 흐름을 좇기 위한 상관 식별자 필요
일반적으로 trace id를 tid로 표기해 서비스 경계를 넘나들며 전파함
HTTP 같은 동기 호출과 메시지 큐 같은 비동기 처리의 전파 매체가 다르므로 매체별 규칙을 명확히 두는 것이 핵심
산업 표준은 W3C Trace Context와 OpenTelemetry가 사실상 기본값
프로세스 내부 전파에는 비동기 컨텍스트 저장소 사용 권장&lt;/p&gt;
&lt;h3 id=&#34;핵심-개념과-정의&#34;&gt;핵심 개념과 정의&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;TID(trace id)와 span id 구분, tid는 전체 요청 상관을 위한 루트 식별자 역할&lt;/li&gt;
&lt;li&gt;W3C Trace Context의 traceparent와 tracestate 헤더로 표준 전파&lt;/li&gt;
&lt;li&gt;OpenTelemetry는 위 표준을 구현하고 언어별 SDK 제공&lt;/li&gt;
&lt;li&gt;프로세스 내 컨텍스트 전파는 AsyncLocalStorage 등 런타임 컨텍스트로 처리&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;표준-패턴&#34;&gt;표준 패턴&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;HTTP 및 gRPC 같은 동기 네트워크 통신은 헤더 사용이 기본 원칙&lt;/li&gt;
&lt;li&gt;메시지 큐나 비동기 작업은 메시지 Body 또는 시스템이 제공하는 메시지 속성 사용&lt;/li&gt;
&lt;li&gt;지원되는 경우 메시지 헤더를 우선 사용, 없으면 Payload에 포함&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;요약&lt;/p&gt;</description>
    </item>
    <item>
      <title>Node.js 글로벌 에러 핸들러 가이드</title>
      <link>https://blog.jsontapose.com/posts/nodejs-global-error-handler-3ae1d7/</link>
      <pubDate>Fri, 12 Dec 2025 13:13:05 +0000</pubDate>
      <guid>https://blog.jsontapose.com/posts/nodejs-global-error-handler-3ae1d7/</guid>
      <description>&lt;h3 id=&#34;개념배경&#34;&gt;개념/배경&lt;/h3&gt;
&lt;p&gt;Node.js 프로세스 레벨에서 잡히지 않은 에러를 마지막으로 처리하는 안전망을 두는 목적 정리
애플리케이션 어디에서도 처리되지 못한 오류를 기록하고 종료 경로를 일관되게 관리하기 위함
프로덕션 환경에서 원인 파악과 사후 조치 자동화를 위한 최소 장치로 간주&lt;/p&gt;
&lt;h3 id=&#34;핵심-이벤트&#34;&gt;핵심 이벤트&lt;/h3&gt;
&lt;p&gt;두 가지 이벤트가 글로벌 핸들러의 대상&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;uncaughtException
&lt;ul&gt;
&lt;li&gt;try-catch로 포착되지 않은 동기 오류가 호출 스택 끝까지 전파될 때 발생&lt;/li&gt;
&lt;li&gt;핸들러가 없으면 프로세스가 비정상 종료됨&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#616e87;font-style:italic&#34;&gt;// 동기 에러가 상위에서 잡히지 않은 경우
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#616e87;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#81a1c1;font-weight:bold&#34;&gt;function&lt;/span&gt; boom&lt;span style=&#34;color:#eceff4&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#eceff4&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#81a1c1;font-weight:bold&#34;&gt;throw&lt;/span&gt; &lt;span style=&#34;color:#81a1c1;font-weight:bold&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#81a1c1&#34;&gt;Error&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#a3be8c&#34;&gt;&amp;#39;폭발&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;boom&lt;span style=&#34;color:#eceff4&#34;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;unhandledRejection
&lt;ul&gt;
&lt;li&gt;Promise가 reject되었으나 await 혹은 .catch로 처리되지 않은 경우 발생&lt;/li&gt;
&lt;li&gt;Node.js 15+ 기본 동작은 핸들러가 없을 때 프로세스 종료&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#d8dee9;background-color:#2e3440;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#616e87;font-style:italic&#34;&gt;// reject가 소비되지 않은 경우
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#616e87;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#81a1c1;font-weight:bold&#34;&gt;async&lt;/span&gt; &lt;span style=&#34;color:#81a1c1;font-weight:bold&#34;&gt;function&lt;/span&gt; asyncBoom&lt;span style=&#34;color:#eceff4&#34;&gt;()&lt;/span&gt; &lt;span style=&#34;color:#eceff4&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#81a1c1;font-weight:bold&#34;&gt;throw&lt;/span&gt; &lt;span style=&#34;color:#81a1c1;font-weight:bold&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#81a1c1&#34;&gt;Error&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#a3be8c&#34;&gt;&amp;#39;비동기 폭발&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#eceff4&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;asyncBoom&lt;span style=&#34;color:#eceff4&#34;&gt;()&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;왜-글로벌-핸들러인가&#34;&gt;왜 글로벌 핸들러인가&lt;/h3&gt;
&lt;p&gt;코드 최상위에서 아무도 잡지 못한 에러에 대한 마지막 안전망 역할&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
