[{"content":"ê°œë…/ë°°ê²½ Array.prototype.mapì€ ë°°ì—´ì˜ ê° ìš”ì†Œì— ëŒ€í•´ ì½œë°±ì„ í˜¸ì¶œí•´ ë³€í™˜ëœ ê²°ê³¼ë¡œ ìƒˆ ë°°ì—´ì„ ë§Œë“œëŠ” ë©”ì„œë“œì„ ì›ë³¸ ë°°ì—´ ë¶ˆë³€ ìœ ì§€, ë™ì¼ ê¸¸ì´ì˜ ìƒˆ ë°°ì—´ ìƒì„±ì´ í•µì‹¬ íŠ¹ì§•ì„\nê¸°ë³¸ ë¬¸ë²• const newArray = array.map((element, index, array) =\u0026gt; { return element }) element í˜„ì¬ ìš”ì†Œ index í˜„ì¬ ì¸ë±ìŠ¤ array ì›ë³¸ ë°°ì—´ ì°¸ì¡° ì½œë°±ì€ ìš”ì†Œ ìˆ˜ë§Œí¼ í˜¸ì¶œë˜ê³ , ì½œë°±ì˜ ë°˜í™˜ê°’ì´ ìƒˆ ë°°ì—´ì˜ ê°™ì€ ìœ„ì¹˜ì— ë°°ì¹˜ë¨\nì‚¬ìš© ì˜ˆì‹œ ìˆ«ì ë°°ì—´ ë³€í™˜\nconst numbers = [1, 2, 3, 4, 5] const doubled = numbers.map(n =\u0026gt; n * 2) // [2, 4, 6, 8, 10] ê°ì²´ ë°°ì—´ì—ì„œ íŠ¹ì • ì†ì„± ì¶”ì¶œ\nconst users = [{ name: \u0026#39;Alice\u0026#39; }, { name: \u0026#39;Bob\u0026#39; }] const names = users.map(u =\u0026gt; u.name) // [\u0026#39;Alice\u0026#39;, \u0026#39;Bob\u0026#39;] ì¸ë±ìŠ¤ í™œìš©\nconst arr = [10, 20, 30] const result = arr.map((n, i) =\u0026gt; n + i) // [10, 21, 32] ì¤‘ì²© ë°°ì—´ ë³€í™˜\nconst nested = [[1, 2], [3, 4]] const sums = nested.map(a =\u0026gt; a.reduce((x, y) =\u0026gt; x + y, 0)) // [3, 7] ì›ë³¸ ë°°ì—´ê³¼ ë¶ˆë³€ì„± mapì€ ì›ë³¸ ë°°ì—´ì„ ìˆ˜ì •í•˜ì§€ ì•ŠìŒ\nconst numbers = [1, 2, 3] const squared = numbers.map(n =\u0026gt; n ** 2) // numbers -\u0026gt; [1, 2, 3] // squared -\u0026gt; [1, 4, 9] null/undefinedì™€ ë¹ˆ ìŠ¬ë¡¯ ì²˜ë¦¬ ì£¼ì˜ ëª…ì‹œì  undefined ê°’ì´ë‚˜ null ê°’ì€ ì½œë°±ì´ í˜¸ì¶œë¨ ë°˜ë©´, ë°°ì—´ì˜ ë¹ˆ ìŠ¬ë¡¯(hole)ì€ ì½œë°±ì´ í˜¸ì¶œë˜ì§€ ì•ŠìŒ. ìƒˆ ë°°ì—´ì—ë„ ë™ì¼í•œ ìœ„ì¹˜ì˜ ë¹ˆ ìŠ¬ë¡¯ì´ ìœ ì§€ë¨ // ëª…ì‹œì  undefinedëŠ” ì½œë°± í˜¸ì¶œë¨ const a = [1, undefined, 3] const r1 = a.map(x =\u0026gt; x === undefined ? \u0026#39;empty\u0026#39; : x * 2) // [2, \u0026#39;empty\u0026#39;, 6] // ë¹ˆ ìŠ¬ë¡¯ì€ ì½œë°± ë¯¸í˜¸ì¶œ, ê·¸ëŒ€ë¡œ ë¹ˆ ìŠ¬ë¡¯ ìœ ì§€ë¨ const b = [1, , 3] // sparse array const r2 = b.map(x =\u0026gt; \u0026#39;seen\u0026#39;) // r2ëŠ” [\u0026#39;seen\u0026#39;, , \u0026#39;seen\u0026#39;] í˜•íƒœ. ê°€ìš´ë°ëŠ” ì—¬ì „íˆ ë¹ˆ ìŠ¬ë¡¯ ì´ ì°¨ì´ë¥¼ í˜¼ë™í•˜ë©´ ë°ì´í„° í’ˆì§ˆ ì´ìŠˆ ë°œìƒ ê°€ëŠ¥. sparse arrayë¥¼ ë‹¤ë£¨ëŠ” ê²½ìš° ì‚¬ì „ì— ì±„ìš°ê¸° ë˜ëŠ” filterì™€ì˜ ì¡°í•© ê³ ë ¤ ê¶Œì¥\nforEachì™€ì˜ ì°¨ì´ map ìƒˆ ë°°ì—´ ë°˜í™˜, ë³€í™˜ ëª©ì  forEach ë°˜í™˜ê°’ ì—†ìŒ, ë¶€ìˆ˜ íš¨ê³¼ ëª©ì  const nums = [1, 2, 3] nums.forEach(n =\u0026gt; console.log(n * 2)) // ì¶œë ¥ë§Œ ìˆ˜í–‰ const doubled = nums.map(n =\u0026gt; n * 2) // [2, 4, 6] ì¥ì  ë¶ˆë³€ì„± ìœ ì§€ ì„ ì–¸ì  ë°ì´í„° ë³€í™˜ ì²´ì´ë‹ì— ìœ ë¦¬, ê°€ë…ì„± í–¥ìƒ ì£¼ì˜ì™€ íŒ ì½œë°±ì€ ìˆœìˆ˜ í•¨ìˆ˜ ì§€í–¥. ë¶€ìˆ˜ íš¨ê³¼ëŠ” forEach ì‚¬ìš© ê¶Œì¥ mapì€ ë°°ì—´ ê¸¸ì´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë™ì‘. ìˆœíšŒ ì¤‘ ìƒˆ ìš”ì†Œë¥¼ pushí•´ë„ ë°©ë¬¸í•˜ì§€ ì•ŠìŒ, ì‚­ì œëœ ìš”ì†ŒëŠ” ë°©ë¬¸ë˜ì§€ ì•ŠìŒ ë°°ì—´ ìš”ì†Œê°€ ë°°ì—´ì„ ë°˜í™˜í•˜ëŠ” ë³€í™˜ì´ ë§ë‹¤ë©´ flatMap ê³ ë ¤. map í›„ flatë³´ë‹¤ ê°„ê²°í•œ ì„ íƒì§€ ì„±ëŠ¥ ë¯¼ê° êµ¬ê°„ì—ì„œëŠ” ë¶ˆí•„ìš”í•œ ì¤‘ê°„ ë°°ì—´ ìƒì„±ì„ í”¼í•˜ë„ë¡ íŒŒì´í”„ë¼ì¸ ì¬ê²€í†  ê¶Œì¥ ì •ë¦¬ mapì€ ê° ìš”ì†Œë¥¼ ë³€í™˜í•´ ë™ì¼ ê¸¸ì´ì˜ ìƒˆ ë°°ì—´ì„ ë§Œë“œëŠ” í‘œì¤€ ë„êµ¬ ì›ë³¸ ë¶ˆë³€, ëª…ì‹œì  undefinedì™€ ë¹ˆ ìŠ¬ë¡¯ ì²˜ë¦¬ ì°¨ì´, forEachì™€ì˜ ì—­í•  ë¶„ë¦¬ê°€ í•µì‹¬ í¬ì¸íŠ¸ ë°ì´í„° ë³€í™˜ ì¤‘ì‹¬ ë¡œì§ì—ì„œ ì„ ì–¸ì ì´ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì½”ë“œ ì‘ì„±ì— ì í•©í•¨\nì°¸ê³ ìë£Œ https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map https://tc39.es/ecma262/multipage/indexed-collections.html#sec-array.prototype.map ","permalink":"https://blog.jsontapose.com/posts/javascript-array-prototype-map-01352e/","summary":"\u003ch3 id=\"ê°œë…ë°°ê²½\"\u003eê°œë…/ë°°ê²½\u003c/h3\u003e\n\u003cp\u003eArray.prototype.mapì€ ë°°ì—´ì˜ ê° ìš”ì†Œì— ëŒ€í•´ ì½œë°±ì„ í˜¸ì¶œí•´ ë³€í™˜ëœ ê²°ê³¼ë¡œ ìƒˆ ë°°ì—´ì„ ë§Œë“œëŠ” ë©”ì„œë“œì„\nì›ë³¸ ë°°ì—´ ë¶ˆë³€ ìœ ì§€, ë™ì¼ ê¸¸ì´ì˜ ìƒˆ ë°°ì—´ ìƒì„±ì´ í•µì‹¬ íŠ¹ì§•ì„\u003c/p\u003e\n\u003ch3 id=\"ê¸°ë³¸-ë¬¸ë²•\"\u003eê¸°ë³¸ ë¬¸ë²•\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-javascript\" data-lang=\"javascript\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003enewArray\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003earray\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emap\u003c/span\u003e((\u003cspan style=\"color:#a6e22e\"\u003eelement\u003c/span\u003e, \u003cspan style=\"color:#a6e22e\"\u003eindex\u003c/span\u003e, \u003cspan style=\"color:#a6e22e\"\u003earray\u003c/span\u003e) =\u0026gt; {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#66d9ef\"\u003ereturn\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eelement\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e})\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\n\u003cli\u003eelement í˜„ì¬ ìš”ì†Œ\u003c/li\u003e\n\u003cli\u003eindex í˜„ì¬ ì¸ë±ìŠ¤\u003c/li\u003e\n\u003cli\u003earray ì›ë³¸ ë°°ì—´ ì°¸ì¡°\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eì½œë°±ì€ ìš”ì†Œ ìˆ˜ë§Œí¼ í˜¸ì¶œë˜ê³ , ì½œë°±ì˜ ë°˜í™˜ê°’ì´ ìƒˆ ë°°ì—´ì˜ ê°™ì€ ìœ„ì¹˜ì— ë°°ì¹˜ë¨\u003c/p\u003e\n\u003ch3 id=\"ì‚¬ìš©-ì˜ˆì‹œ\"\u003eì‚¬ìš© ì˜ˆì‹œ\u003c/h3\u003e\n\u003cp\u003eìˆ«ì ë°°ì—´ ë³€í™˜\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-javascript\" data-lang=\"javascript\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003enumbers\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e [\u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e3\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e4\u003c/span\u003e, \u003cspan style=\"color:#ae81ff\"\u003e5\u003c/span\u003e]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003edoubled\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003enumbers\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003emap\u003c/span\u003e(\u003cspan style=\"color:#a6e22e\"\u003en\u003c/span\u003e =\u0026gt; \u003cspan style=\"color:#a6e22e\"\u003en\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e2\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e// [2, 4, 6, 8, 10]\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eê°ì²´ ë°°ì—´ì—ì„œ íŠ¹ì • ì†ì„± ì¶”ì¶œ\u003c/p\u003e","title":"JavaScript Array.prototype.map ê°œë…ê³¼ ì‚¬ìš©ë²• ì •ë¦¬"},{"content":"ê°œìš” ExpressëŠ” ìœ ì—°í•˜ê³  ììœ ë„ê°€ ë†’ì•„ ì†Œê·œëª¨ í”„ë¡œì íŠ¸ë‚˜ ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ì— ì í•©í•¨ ì •í•´ì§„ êµ¬ì¡°ê°€ ì—†ì–´ íŒ€ ì—­ëŸ‰ê³¼ í•©ì˜ëœ ì»¨ë²¤ì…˜ì— ë”°ë¼ ì½”ë“œ í’ˆì§ˆ í¸ì°¨ ë°œìƒ ê°€ëŠ¥ ê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ êµ¬ì¡° ë³µì¡ë„ì™€ ì¼ê´€ì„± ë¬¸ì œë¡œ ìœ ì§€ë³´ìˆ˜ ë‚œì´ë„ ìƒìŠ¹\nNestJSëŠ” ì²´ê³„ì ì¸ ì•„í‚¤í…ì²˜ë¥¼ ê°•ì œí•´ ì½”ë“œ ì¼ê´€ì„±ê³¼ ì˜ˆì¸¡ ê°€ëŠ¥ì„±ì„ ë†’ì´ëŠ” ì„ íƒì§€ì„ íŒ€ ì˜¨ë³´ë”© ì†ë„ì™€ ë³€í™” ì˜í–¥ ë²”ìœ„ íŒŒì•…ì„ ê°œì„ í•´ ì¥ê¸° ìš´ì˜ì— ìœ ë¦¬í•¨\ní•µì‹¬ ê°œë…ê³¼ ì •ì˜ Express: ìµœì†Œí•œì˜ ì½”ì–´ë§Œ ì œê³µí•˜ëŠ” ë¹„ì˜ê²¬ì  í”„ë ˆì„ì›Œí¬, êµ¬ì¡° ììœ¨ì„± ë†’ìŒ NestJS: ì˜ê²¬ ìˆëŠ” í”„ë ˆì„ì›Œí¬, ëª¨ë“ˆÂ·ì»¨íŠ¸ë¡¤ëŸ¬Â·ì„œë¹„ìŠ¤ë¡œ ì—­í•  ë¶„ë¦¬, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ê¸°ë³¸ ì±„íƒ ë™ì‘ ì›ë¦¬ì™€ êµ¬ì¡° ì •í˜•í™”ëœ ì•„í‚¤í…ì²˜ NestJSëŠ” ëª¨ë“ˆ, ì»¨íŠ¸ë¡¤ëŸ¬, ì„œë¹„ìŠ¤ë¡œ ì±…ì„ì„ ë¶„ë¦¬í•´ êµ¬ì¡°ë¥¼ í•œëˆˆì— íŒŒì•… ê°€ëŠ¥ ì—­í•  ê²½ê³„ë¥¼ í†µí•´ ë³€ê²½ ì˜í–¥ ë²”ìœ„ ì˜ˆì¸¡ ìš©ì´í•˜ë©° ìƒˆ ì¸ì›ì´ ë¹ ë¥´ê²Œ ì ì‘ ê°€ëŠ¥\níƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ê¸°ë³¸ ì§€ì› ì •ì  íƒ€ì´í•‘ìœ¼ë¡œ ì¡°ê¸° ì˜¤ë¥˜ íƒì§€ì™€ ë¦¬íŒ©í„°ë§ ì•ˆì •ì„± í™•ë³´ IDE ìë™ì™„ì„±ê³¼ íƒ€ì… ë‚´ë¹„ê²Œì´ì…˜ ë“± ë„êµ¬ íš¨ìœ¨ ê·¹ëŒ€í™” ExpressëŠ” ê¸°ë³¸ì´ ìë°”ìŠ¤í¬ë¦½íŠ¸ì´ë©° íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© ì‹œ ë³„ë„ ì„¤ì •ê³¼ ì»¨ë²¤ì…˜ í•„ìš”\nì˜ì¡´ì„± ì£¼ì… ë‚´ì¥ NestJS DI ì»¨í…Œì´ë„ˆê°€ ì˜ì¡´ì„± í•´ì„ê³¼ ë¼ì´í”„ì‚¬ì´í´ì„ ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸ ê²°í•©ë„ ê°ì†Œ, í…ŒìŠ¤íŠ¸ì—ì„œ ëª¨í‚¹ ì£¼ì…ì´ ìš©ì´ ExpressëŠ” ì§ì ‘ ì˜ì¡´ì„± ê´€ë¦¬ í˜¹ì€ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë„ì… í•„ìš”\nëª¨ë“ˆ ê¸°ë°˜ ì„¤ê³„ ê¸°ëŠ¥ ë˜ëŠ” ë„ë©”ì¸ ë‹¨ìœ„ë¡œ ëª¨ë“ˆ ë¶„ë¦¬í•˜ì—¬ ê²½ê³„ ëª…í™•í™” ì¬ì‚¬ìš©ê³¼ ì ì§„ì  í™•ì¥ì— ìœ ë¦¬í•˜ë©° ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì „í™˜ ì‹œ ë¶„í•´ ê¸°ì¤€ìœ¼ë¡œ í™œìš© ê°€ëŠ¥\nì£¼ì˜ì™€ íŠ¸ë ˆì´ë“œì˜¤í”„ NestJSëŠ” í•™ìŠµ ë¹„ìš©ê³¼ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì¦ê°€ ê°€ëŠ¥ ë‹¨ìˆœí•œ APIë‚˜ ë‹¨ê¸° MVPì—ëŠ” í”„ë ˆì„ì›Œí¬ ì¶”ìƒí™”ê°€ ê³¼í•  ìˆ˜ ìˆìŒ ê¸°ì¡´ Express ì½”ë“œë² ì´ìŠ¤ ì „í™˜ ì‹œ ë§ˆì´ê·¸ë ˆì´ì…˜ ë¹„ìš©ê³¼ ë¦¬ìŠ¤í¬ ì¡´ì¬ ì„±ëŠ¥ì€ í”„ë ˆì„ì›Œí¬ë³´ë‹¤ëŠ” I O íŒ¨í„´, ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼, ìºì‹± ì „ëµ ë“± ì„¤ê³„ ìš”ì†Œì˜ ì˜í–¥ì´ ë” í¼ ì„ íƒ ê¸°ì¤€ Express ìœ ì§€ì— ìœ ë¦¬í•œ ê²½ìš° ë‹¨ìˆœí•œ ì—”ë“œí¬ì¸íŠ¸ ìœ„ì£¼ì˜ ì†Œê·œëª¨ ì„œë¹„ìŠ¤ ë¹ ë¥¸ ì‹¤í—˜ê³¼ í”„ë¡œí† íƒ€ì´í•‘ì´ ì£¼ìš” ëª©í‘œ íŒ€ í•©ì˜ í•˜ì— ê²½ëŸ‰ ì»¨ë²¤ì…˜ì„ ìŠ¤ìŠ¤ë¡œ ê´€ë¦¬í•  ìì‹ ì´ ìˆëŠ” ê²½ìš°\nNestJS ì±„íƒ ë˜ëŠ” ì „í™˜ì´ ìœ ë¦¬í•œ ê²½ìš° ì¥ê¸° ìš´ì˜ ë° í™•ì¥ì´ ì˜ˆìƒë˜ëŠ” ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ ì—¬ëŸ¬ ê°œë°œìê°€ í˜‘ì—…í•˜ëŠ” íŒ€ í™˜ê²½ ì¼ê´€ì„±ê³¼ ì•ˆì •ì„±ì´ ì¤‘ìš”í•œ ë„ë©”ì¸ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±ê³¼ ìë™í™”ê°€ í•„ìˆ˜ì¸ í”„ë¡œì íŠ¸\në§ˆë¬´ë¦¬ ëª¨ë“  ìƒí™©ì—ì„œ í•˜ë‚˜ì˜ ì •ë‹µì€ ì—†ìŒ í”„ë¡œì íŠ¸ ìˆ˜ëª…, íŒ€ ê·œëª¨, ì½”ë“œ ì¼ê´€ì„± ìš”êµ¬, í…ŒìŠ¤íŠ¸ ì „ëµì„ ê¸°ì¤€ìœ¼ë¡œ ì„ íƒí•˜ëŠ” ê²ƒì´ í˜„ì‹¤ì  ì „í™˜ì„ ê²°ì •í–ˆë‹¤ë©´ ê³µí†µ ì½”ë”© ê·œì¹™, ëª¨ë“ˆ ê²½ê³„ ì •ì˜, í…ŒìŠ¤íŠ¸ ì „ëµì„ ì„ ë°˜ì˜í•˜ê³  ì ì§„ì  ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íšìœ¼ë¡œ ë¦¬ìŠ¤í¬ë¥¼ ê´€ë¦¬í•˜ëŠ” ì ‘ê·¼ ê¶Œì¥\nì°¸ê³ ìë£Œ https://expressjs.com/ https://docs.nestjs.com/ https://www.typescriptlang.org/ ","permalink":"https://blog.jsontapose.com/posts/express-vs-nestjs-maintainability-team-guide-d0f6e1/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eExpressëŠ” ìœ ì—°í•˜ê³  ììœ ë„ê°€ ë†’ì•„ ì†Œê·œëª¨ í”„ë¡œì íŠ¸ë‚˜ ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ì— ì í•©í•¨\nì •í•´ì§„ êµ¬ì¡°ê°€ ì—†ì–´ íŒ€ ì—­ëŸ‰ê³¼ í•©ì˜ëœ ì»¨ë²¤ì…˜ì— ë”°ë¼ ì½”ë“œ í’ˆì§ˆ í¸ì°¨ ë°œìƒ ê°€ëŠ¥\nê·œëª¨ê°€ ì»¤ì§ˆìˆ˜ë¡ êµ¬ì¡° ë³µì¡ë„ì™€ ì¼ê´€ì„± ë¬¸ì œë¡œ ìœ ì§€ë³´ìˆ˜ ë‚œì´ë„ ìƒìŠ¹\u003c/p\u003e\n\u003cp\u003eNestJSëŠ” ì²´ê³„ì ì¸ ì•„í‚¤í…ì²˜ë¥¼ ê°•ì œí•´ ì½”ë“œ ì¼ê´€ì„±ê³¼ ì˜ˆì¸¡ ê°€ëŠ¥ì„±ì„ ë†’ì´ëŠ” ì„ íƒì§€ì„\níŒ€ ì˜¨ë³´ë”© ì†ë„ì™€ ë³€í™” ì˜í–¥ ë²”ìœ„ íŒŒì•…ì„ ê°œì„ í•´ ì¥ê¸° ìš´ì˜ì— ìœ ë¦¬í•¨\u003c/p\u003e\n\u003ch3 id=\"í•µì‹¬-ê°œë…ê³¼-ì •ì˜\"\u003eí•µì‹¬ ê°œë…ê³¼ ì •ì˜\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eExpress: ìµœì†Œí•œì˜ ì½”ì–´ë§Œ ì œê³µí•˜ëŠ” ë¹„ì˜ê²¬ì  í”„ë ˆì„ì›Œí¬, êµ¬ì¡° ììœ¨ì„± ë†’ìŒ\u003c/li\u003e\n\u003cli\u003eNestJS: ì˜ê²¬ ìˆëŠ” í”„ë ˆì„ì›Œí¬, ëª¨ë“ˆÂ·ì»¨íŠ¸ë¡¤ëŸ¬Â·ì„œë¹„ìŠ¤ë¡œ ì—­í•  ë¶„ë¦¬, íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ê¸°ë³¸ ì±„íƒ\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ë™ì‘-ì›ë¦¬ì™€-êµ¬ì¡°\"\u003eë™ì‘ ì›ë¦¬ì™€ êµ¬ì¡°\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eì •í˜•í™”ëœ ì•„í‚¤í…ì²˜\nNestJSëŠ” ëª¨ë“ˆ, ì»¨íŠ¸ë¡¤ëŸ¬, ì„œë¹„ìŠ¤ë¡œ ì±…ì„ì„ ë¶„ë¦¬í•´ êµ¬ì¡°ë¥¼ í•œëˆˆì— íŒŒì•… ê°€ëŠ¥\nì—­í•  ê²½ê³„ë¥¼ í†µí•´ ë³€ê²½ ì˜í–¥ ë²”ìœ„ ì˜ˆì¸¡ ìš©ì´í•˜ë©° ìƒˆ ì¸ì›ì´ ë¹ ë¥´ê²Œ ì ì‘ ê°€ëŠ¥\u003c/p\u003e","title":"Express vs NestJS ë¹„êµ ê°€ì´ë“œ: ìœ ì§€ë³´ìˆ˜ì„±ê³¼ íŒ€ í˜‘ì—… ê´€ì ì—ì„œì˜ ì„ íƒ"},{"content":"ê°œìš” ì»¤ë§ Curryingì€ ì—¬ëŸ¬ ê°œì˜ ì¸ìë¥¼ ë°›ëŠ” í•¨ìˆ˜ë¥¼ ë‹¨ì¼ ì¸ì í•¨ìˆ˜ë“¤ì˜ ì—°ì†ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê¸°ë²• nê°œì˜ ì¸ìë¥¼ ë°›ëŠ” í•¨ìˆ˜ â†’ në²ˆì— ê±¸ì³ í•œ ê°œ ì¸ìì”© ë°›ëŠ” í•¨ìˆ˜ ì²´ì¸ìœ¼ë¡œ ë¶„í•´ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ë§¥ë½ì—ì„œ ì¬ì‚¬ìš©ì„±ê³¼ ì¡°í•©ì„± í–¥ìƒ ëª©ì \ní•µì‹¬ ê°œë… ì»¤ë§ currying: f(a, b, c) í˜•íƒœë¥¼ f(a)(b)(c)ë¡œ ë°”ê¾¸ëŠ” ë³€í™˜ ë¶€ë¶„ ì ìš© partial application: ì „ì²´ ì¸ì ì¤‘ ì¼ë¶€ë¥¼ ê³ ì •í•´ ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ê¸°ë²• ê´€ê³„: ì»¤ë§ëœ í•¨ìˆ˜ëŠ” ë¶€ë¶„ ì ìš©ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì§€ì›í•¨ ë™ì‘ ì›ë¦¬ì™€ ê°„ë‹¨ ì˜ˆì‹œ ì¼ë°˜ í•¨ìˆ˜\nfunction add(a: number, b: number): number { return a + b; } add(1, 2) // 3 ì»¤ë§ ì ìš©\nfunction curriedAdd(a: number) { return (b: number): number =\u0026gt; a + b } const addOne = curriedAdd(1) addOne(2) // 3 addOne(5) // 6 ì²« ë²ˆì§¸ ì¸ì ê³ ì • í›„ ë‚˜ë¨¸ì§€ ì¸ìë¥¼ ë‚˜ì¤‘ì— ì ìš© ê°€ëŠ¥\nRamdaë¡œ ë³´ëŠ” ìë™ ì»¤ë§ Ramdaì˜ í•¨ìˆ˜ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìë™ ì»¤ë§ ë™ì‘ ë¶€ë¶„ ì ìš©ì´ ì¼ê´€ë˜ê²Œ ê°€ëŠ¥\nimport * as R from \u0026#39;ramda\u0026#39; const add = R.add(1) // ì²« ë²ˆì§¸ ì¸ì 1 ê³ ì • add(2) // 3 í•¨ìˆ˜ ì¡°í•© íŒŒì´í”„ë¼ì¸ê³¼ ê²°í•© ì‹œ í‘œí˜„ ê°„ê²°\nì»¤ë§ê³¼ ë¶€ë¶„ ì ìš©ì˜ ì°¨ì´ ì»¤ë§: ë‹¤ì¸ì í•¨ìˆ˜ë¥¼ ë‹¨ì¼ ì¸ì í•¨ìˆ˜ë“¤ì˜ ì—°ì†ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì • ë¶€ë¶„ ì ìš©: ì „ì²´ ì¸ì ì¤‘ ì¼ë¶€ë§Œ ë¨¼ì € ì±„ì›Œ ìƒˆ í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ê¸°ë²• ê°„ë‹¨ ì˜ˆì‹œ\nconst multiply = (a: number, b: number) =\u0026gt; a * b const double = multiply.bind(null, 2) // ì²« ì¸ì 2 ê³ ì • double(5) // 10 ì»¤ë§ì€ êµ¬ì¡° ë³€í™˜, ë¶€ë¶„ ì ìš©ì€ ì‚¬ìš© íŒ¨í„´ì— ì´ˆì \ní•¨ìˆ˜ ì¡°í•©ê³¼ì˜ ê¶í•© ì»¤ë§ëœ í•¨ìˆ˜ëŠ” í•©ì„± í•¨ìˆ˜ì™€ ê²°í•© ì‹œ ì¥ì  í¼\nimport * as R from \u0026#39;ramda\u0026#39; const increment = (x: number) =\u0026gt; x + 1 const double = (x: number) =\u0026gt; x * 2 const process = R.pipe(increment, double) process(3) // 8 ì…ë ¥ì—ì„œ ì¶œë ¥ê¹Œì§€ ë‹¨ê³„ì  ë³€í™˜ì„ ì‘ê²Œ ë‚˜ëˆ  ì¡°í•© ê°€ëŠ¥\nì¥ì  ìš”ì•½ ì¬ì‚¬ìš©ì„± í–¥ìƒ: ìì£¼ ì“°ëŠ” ì¸ì ê³ ì • í•¨ìˆ˜ ìƒì„± ìš©ì´ ê°€ë…ì„± ê°œì„ : ë³µì¡í•œ ë³€í™˜ì„ ì‘ì€ ë‹¨ìœ„ë¡œ ë¶„í•´ ê°€ëŠ¥ ì¡°í•©ì„± ì¦ê°€: íŒŒì´í”„ë¼ì¸ê³¼ ì»´í¬ì§€ì…˜ì— ìì—°ìŠ¤ëŸ½ê²Œ ì í•© í…ŒìŠ¤íŠ¸ ìš©ì´: ë¶€ë¶„ ì ìš©ëœ ë‹¨ì¼ ì±…ì„ í•¨ìˆ˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ìˆ˜ì›” ì£¼ì˜ ì‚¬í•­ ê³¼ë„í•œ ì¤‘ì²© ì‚¬ìš© ì‹œ ê°€ë…ì„± ì €í•˜ ìœ„í—˜ ì¡´ì¬ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë³µì¡í•œ ì»¤ë§ ì‹œ ì œë„¤ë¦­ê³¼ ì¶”ë¡  í•œê³„ ê³ ë ¤ í•„ìš” bindë¥¼ ì´ìš©í•œ ë¶€ë¶„ ì ìš©ì€ this ë°”ì¸ë”©ê¹Œì§€ ê´€ì—¬í•˜ë¯€ë¡œ ì˜ë„í•œ this ë¬¸ë§¥ í™•ì¸ í•„ìš” ì •ë¦¬ ì»¤ë§ì€ ë‹¤ì¸ì í•¨ìˆ˜ë¥¼ ë‹¨ì¼ ì¸ì í•¨ìˆ˜ì˜ ì—°ì†ìœ¼ë¡œ ë°”ê¾¸ëŠ” ë³€í™˜ì´ë©° ë¶€ë¶„ ì ìš©ì€ ì¼ë¶€ ì¸ìë§Œ ë¨¼ì € ê³ ì •í•´ ìƒˆ í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ê¸°ë²• Ramda ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ìë™ ì»¤ë§ì„ í™œìš©í•˜ë©´ ì¬ì‚¬ìš©ì„±ê³¼ ì¡°í•©ì„±ì´ ë†’ì•„ì§ ì‘ê²Œ ìª¼ê°œê³  í•„ìš”í•  ë•Œ ë¶€ë¶„ ì ìš©í•´ íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ì‡ëŠ” íŒ¨í„´ì´ í•µì‹¬\nì°¸ê³ ìë£Œ https://ramdajs.com/docs/#curry https://ramdajs.com/docs/#add https://en.wikipedia.org/wiki/Currying https://en.wikipedia.org/wiki/Partial_application ","permalink":"https://blog.jsontapose.com/posts/currying-and-partial-application-e5bae4/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eì»¤ë§ Curryingì€ ì—¬ëŸ¬ ê°œì˜ ì¸ìë¥¼ ë°›ëŠ” í•¨ìˆ˜ë¥¼ ë‹¨ì¼ ì¸ì í•¨ìˆ˜ë“¤ì˜ ì—°ì†ìœ¼ë¡œ ë³€í™˜í•˜ëŠ” ê¸°ë²•\nnê°œì˜ ì¸ìë¥¼ ë°›ëŠ” í•¨ìˆ˜ â†’ në²ˆì— ê±¸ì³ í•œ ê°œ ì¸ìì”© ë°›ëŠ” í•¨ìˆ˜ ì²´ì¸ìœ¼ë¡œ ë¶„í•´\ní•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ë§¥ë½ì—ì„œ ì¬ì‚¬ìš©ì„±ê³¼ ì¡°í•©ì„± í–¥ìƒ ëª©ì \u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"í•µì‹¬-ê°œë…\"\u003eí•µì‹¬ ê°œë…\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eì»¤ë§ currying: f(a, b, c) í˜•íƒœë¥¼ f(a)(b)(c)ë¡œ ë°”ê¾¸ëŠ” ë³€í™˜\u003c/li\u003e\n\u003cli\u003eë¶€ë¶„ ì ìš© partial application: ì „ì²´ ì¸ì ì¤‘ ì¼ë¶€ë¥¼ ê³ ì •í•´ ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ë§Œë“œëŠ” ê¸°ë²•\u003c/li\u003e\n\u003cli\u003eê´€ê³„: ì»¤ë§ëœ í•¨ìˆ˜ëŠ” ë¶€ë¶„ ì ìš©ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì§€ì›í•¨\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3 id=\"ë™ì‘-ì›ë¦¬ì™€-ê°„ë‹¨-ì˜ˆì‹œ\"\u003eë™ì‘ ì›ë¦¬ì™€ ê°„ë‹¨ ì˜ˆì‹œ\u003c/h3\u003e\n\u003cp\u003eì¼ë°˜ í•¨ìˆ˜\u003c/p\u003e","title":"ì»¤ë§ê³¼ ë¶€ë¶„ ì ìš© ì´í•´í•˜ê¸°: í•¨ìˆ˜í˜• ìë°”ìŠ¤í¬ë¦½íŠ¸ í•µì‹¬ íŒ¨í„´"},{"content":"ê°œìš” findUniqueë¡œ ë‹¨ì¼ ë ˆì½”ë“œ ì¡°íšŒí•˜ë©´ì„œ ê´€ë ¨ëœ ë°ì´í„°ê¹Œì§€ í•œ ë²ˆì— ê°€ì ¸ì˜¤ê³  ì‹¶ì„ ë•Œ whereì™€ includeë¥¼ ì–´ë–»ê²Œ ì¡°í•©í•´ì•¼ í•˜ëŠ”ì§€ ì •ë¦¬í•¨ ê´€ê³„ í•„í„°ë§ì„ whereì— ë„£ì„ ìˆ˜ ìˆëŠ”ì§€, includeì—ì„œ í•„í„°ê°€ ê°€ëŠ¥í•œì§€ í—·ê°ˆë¦¬ê¸° ì‰¬ìš´ ì§€ì  ì •ë¦¬\ní•µì‹¬ ê°œë… findUniqueëŠ” ìœ ë‹ˆí¬ í‚¤ë¡œ ì •í™•íˆ í•˜ë‚˜ì˜ ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ìš©ë„ findUniqueì˜ whereëŠ” ìœ ë‹ˆí¬ í•„ë“œë§Œ í—ˆìš©ë¨, ê´€ê³„ í•„í„°ë‚˜ ì¼ë°˜ ì¡°ê±´ ê²°í•© ë¶ˆê°€ includeëŠ” ì¡°íšŒëœ ë ˆì½”ë“œì— ëŒ€í•œ ì—°ê´€ ë ˆì½”ë“œë¥¼ í•¨ê»˜ ê°€ì ¸ì˜¤ëŠ” ì˜µì…˜ to-many ê´€ê³„ì— í•œí•´ include ë‚´ë¶€ì—ì„œ where ì‚¬ìš© ê°€ëŠ¥, to-one ê´€ê³„ëŠ” where ë¶ˆê°€ where ì‚¬ìš© íŒ¨í„´ ì˜ëª»ëœ ì˜ˆì‹œ // findUniqueì— ê´€ê³„ í•„í„° ê²°í•© ì‹œë„ â†’ íƒ€ì… ì—ëŸ¬ // (User(1) â†’ Post(N) â†’ Metadata(1) ê´€ê³„) await db.user.findUnique({ where: { id: userId, // \u0026#39;posts\u0026#39;ëŠ” ìœ ë‹ˆí¬ í•„ë“œê°€ ì•„ë‹ˆë¯€ë¡œ \u0026#39;where\u0026#39;ì—ì„œ ê´€ê³„ í•„í„°ë§ ë¶ˆê°€ posts: { some: { metadata: { editorEmail: email } } }, }, }); ì˜¬ë°”ë¥¸ ìµœì†Œ ì¡°ê±´ await db.user.findUnique({ where: { id: userId }, // \u0026#39;id\u0026#39;ëŠ” ìœ ë‹ˆí¬ í•„ë“œ }); ê´€ê³„ ì¡°ê±´ì´ í•„ìš”í•˜ë©´ findFirst ë˜ëŠ” findMany ì‚¬ìš© // \u0026#39;findUnique\u0026#39;ê°€ ì•„ë‹Œ \u0026#39;findFirst\u0026#39;ë¥¼ ì‚¬ìš©í•˜ë©´ // \u0026#39;where\u0026#39;ì— ê´€ê³„ í•„í„°ë¥¼ í¬í•¨í•  ìˆ˜ ìˆìŒ await db.user.findFirst({ where: { id: userId, posts: { some: { metadata: { editorEmail: email } } }, }, }); ìš”ì•½í•˜ë©´ findUniqueì—ëŠ” ìœ ë‹ˆí¬ ì¡°ê±´ë§Œ, ê´€ê³„ ê¸°ë°˜ í•„í„°ëŠ” findFirst ë˜ëŠ” findManyë¡œ ì²˜ë¦¬í•¨\ninclude ì‚¬ìš© íŒ¨í„´ ì˜¬ë°”ë¥¸ ê¸°ë³¸ í˜•íƒœ (User â†’ Posts â†’ Metadata ê´€ê³„) await db.user.findUnique({ where: { id: userId }, include: { posts: { include: { metadata: true } }, // \u0026#39;posts\u0026#39;ì™€ ì¤‘ì²©ëœ \u0026#39;metadata\u0026#39; í¬í•¨ }, }); ì˜ëª»ëœ í˜•íƒœ // includeì— ê´€ê³„ í•„í„°ë¥¼ ì§ì ‘ ë„£ëŠ” êµ¬ë¬¸ì€ ë¶ˆê°€ include: { posts: { // \u0026#39;include\u0026#39; ë‚´ë¶€ì—ì„œ í•„í„°ë§ì„ ì´ë ‡ê²Œ í•  ìˆ˜ ì—†ìŒ (Prisma 4.x ì´í•˜) // \u0026#39;include\u0026#39;ëŠ” \u0026#39;true\u0026#39; ë˜ëŠ” ë‹¤ë¥¸ include/select ê°ì²´ë§Œ ë°›ìŒ include: { metadata: { editorEmail: email } }, }, } ì˜ë„ì— ë¶€í•©í•˜ëŠ” í˜•íƒœ (Prisma 5.x+ ê¶Œì¥) await db.user.findUnique({ where: { id: userId }, include: { posts: { // to-many ê´€ê³„ì¸ \u0026#39;posts\u0026#39;ì— \u0026#39;where\u0026#39;ë¥¼ ê±¸ì–´ í•„í„°ë§ where: { metadata: { editorEmail: email } }, // í•„í„°ë§ëœ \u0026#39;posts\u0026#39;ì— ì—°ê²°ëœ \u0026#39;metadata\u0026#39;ë¥¼ í¬í•¨ include: { metadata: true }, }, }, }); ì„¤ëª…\nto-many ê´€ê³„ì¸ postsì— whereë¥¼ ê±¸ì–´ í•˜ìœ„ metadataì˜ editorEmailë¡œ í•„í„°ë§ ê°€ëŠ¥ ì¡°ê±´ì— ë§ì§€ ì•ŠëŠ” postsëŠ” ì œì™¸ë˜ì–´ ë¹ˆ ë°°ì—´([])ë¡œ ë°˜í™˜ë¨ to-one ê´€ê³„ëŠ” includeì—ì„œ whereë¥¼ ì“¸ ìˆ˜ ì—†ìœ¼ë©°, ê´€ê³„ê°€ ì—†ìœ¼ë©´ í•´ë‹¹ í•„ë“œëŠ” null ë°˜í™˜ ê²°ë¡  ì˜ˆì‹œ ë‹¨ì¼ Userë¥¼ ìœ ë‹ˆí¬ í‚¤ë¡œ ì°¾ê³ , ì—°ê´€ëœ PostsëŠ” íŠ¹ì • emailì„ ê°€ì§„ Metadataê°€ ìˆëŠ” ê²½ìš°ë§Œ í¬í•¨í•˜ê³ , ì‚¬ìš©ìì˜ Profileê³¼ Roleë„ í•¨ê»˜ ê°€ì ¸ì˜¤ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ í˜•íƒœë¥¼ ê¶Œì¥\nconst userId = \u0026#34;user-unique-id-123\u0026#34;; const email = \u0026#34;target-editor@example.com\u0026#34;; await db.user.findUnique({ where: { id: userId }, include: { // 1. (to-many) \u0026#39;posts\u0026#39; ê´€ê³„ posts: { // 2. \u0026#39;posts\u0026#39; ëª©ë¡ì„ \u0026#39;metadata.editorEmail\u0026#39; ê¸°ì¤€ìœ¼ë¡œ í•„í„°ë§ where: { metadata: { editorEmail: email } }, // 3. í•„í„°ë§ì„ í†µê³¼í•œ \u0026#39;posts\u0026#39;ì˜ \u0026#39;metadata\u0026#39;ë„ í•¨ê»˜ ë¡œë“œ include: { metadata: true }, }, // 4. (to-one) \u0026#39;profile\u0026#39; ê´€ê³„ profile: true, // 5. (to-one) \u0026#39;role\u0026#39; ê´€ê³„ role: true, }, }); ì£¼ì˜ ì‚¬í•­ findUniqueì˜ whereì—ëŠ” ìœ ë‹ˆí¬ í•„ë“œë§Œ ì…ë ¥ ê°€ëŠ¥, ê´€ê³„ í•„í„° ê²°í•© ë¶ˆê°€ ê´€ê³„ ì¡°ê±´ì´ ê²°í•©ëœ ì¡°íšŒê°€ í•„ìš”í•˜ë©´ findFirst ë˜ëŠ” findManyë¡œ ìƒìœ„ whereì— ê´€ê³„ í•„í„° ì‚¬ìš© includeì˜ whereëŠ” to-many ê´€ê³„ì—ë§Œ ì ìš© ê°€ëŠ¥ to-many ê´€ê³„ì—ì„œ includeì˜ where ì¡°ê±´ ë¯¸ë§¤ì¹­ ì‹œ, í•´ë‹¹ ê´€ê³„ëŠ” nullì´ ì•„ë‹Œ ë¹ˆ ë°°ì—´([]) ë°˜í™˜ ì„ íƒì  í•„ë“œ ì œì–´ê°€ í•„ìš”í•˜ë©´ selectì™€ includeë¥¼ ëª©ì ì— ë§ê²Œ í˜¼ìš© ê¶Œì¥ ì°¸ê³ ìë£Œ https://www.prisma.io/docs/orm/prisma-client/queries/retrieving-data#findunique https://www.prisma.io/docs/orm/prisma-client/queries/retrieving-data#including-relations https://www.prisma.io/docs/orm/prisma-client/queries/relation-queries#filtering-by-a-related-records-fields ","permalink":"https://blog.jsontapose.com/posts/prisma-findunique-where-include-1ada6d/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003efindUnique\u003c/code\u003eë¡œ ë‹¨ì¼ ë ˆì½”ë“œ ì¡°íšŒí•˜ë©´ì„œ ê´€ë ¨ëœ ë°ì´í„°ê¹Œì§€ í•œ ë²ˆì— ê°€ì ¸ì˜¤ê³  ì‹¶ì„ ë•Œ \u003ccode\u003ewhere\u003c/code\u003eì™€ \u003ccode\u003einclude\u003c/code\u003eë¥¼ ì–´ë–»ê²Œ ì¡°í•©í•´ì•¼ í•˜ëŠ”ì§€ ì •ë¦¬í•¨\nê´€ê³„ í•„í„°ë§ì„ \u003ccode\u003ewhere\u003c/code\u003eì— ë„£ì„ ìˆ˜ ìˆëŠ”ì§€, \u003ccode\u003einclude\u003c/code\u003eì—ì„œ í•„í„°ê°€ ê°€ëŠ¥í•œì§€ í—·ê°ˆë¦¬ê¸° ì‰¬ìš´ ì§€ì  ì •ë¦¬\u003c/p\u003e\n\u003ch3 id=\"í•µì‹¬-ê°œë…\"\u003eí•µì‹¬ ê°œë…\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003efindUnique\u003c/code\u003eëŠ” ìœ ë‹ˆí¬ í‚¤ë¡œ ì •í™•íˆ \u003cstrong\u003eí•˜ë‚˜\u003c/strong\u003eì˜ ë ˆì½”ë“œë¥¼ ì°¾ëŠ” ìš©ë„\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003efindUnique\u003c/code\u003eì˜ \u003ccode\u003ewhere\u003c/code\u003eëŠ” \u003cstrong\u003eìœ ë‹ˆí¬ í•„ë“œë§Œ\u003c/strong\u003e í—ˆìš©ë¨, ê´€ê³„ í•„í„°ë‚˜ ì¼ë°˜ ì¡°ê±´ ê²°í•© ë¶ˆê°€\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003einclude\u003c/code\u003eëŠ” ì¡°íšŒëœ ë ˆì½”ë“œì— ëŒ€í•œ ì—°ê´€ ë ˆì½”ë“œë¥¼ í•¨ê»˜ ê°€ì ¸ì˜¤ëŠ” ì˜µì…˜\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eto-many ê´€ê³„\u003c/strong\u003eì— í•œí•´ \u003ccode\u003einclude\u003c/code\u003e ë‚´ë¶€ì—ì„œ \u003ccode\u003ewhere\u003c/code\u003e ì‚¬ìš© ê°€ëŠ¥, to-one ê´€ê³„ëŠ” \u003ccode\u003ewhere\u003c/code\u003e ë¶ˆê°€\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"where-ì‚¬ìš©-íŒ¨í„´\"\u003ewhere ì‚¬ìš© íŒ¨í„´\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eì˜ëª»ëœ ì˜ˆì‹œ\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-ts\" data-lang=\"ts\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e// findUniqueì— ê´€ê³„ í•„í„° ê²°í•© ì‹œë„ â†’ íƒ€ì… ì—ëŸ¬\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e// (User(1) â†’ Post(N) â†’ Metadata(1) ê´€ê³„)\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eawait\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003edb\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003euser\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003efindUnique\u003c/span\u003e({\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003ewhere\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eid\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003euserId\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#75715e\"\u003e// \u0026#39;posts\u0026#39;ëŠ” ìœ ë‹ˆí¬ í•„ë“œê°€ ì•„ë‹ˆë¯€ë¡œ \u0026#39;where\u0026#39;ì—ì„œ ê´€ê³„ í•„í„°ë§ ë¶ˆê°€\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e    \u003cspan style=\"color:#a6e22e\"\u003eposts\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e { \u003cspan style=\"color:#a6e22e\"\u003esome\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e { \u003cspan style=\"color:#a6e22e\"\u003emetadata\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e { \u003cspan style=\"color:#a6e22e\"\u003eeditorEmail\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003eemail\u003c/span\u003e } } },\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  },\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e});\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eì˜¬ë°”ë¥¸ ìµœì†Œ ì¡°ê±´\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-ts\" data-lang=\"ts\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eawait\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003edb\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003euser\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003efindUnique\u003c/span\u003e({\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003ewhere\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e { \u003cspan style=\"color:#a6e22e\"\u003eid\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003euserId\u003c/span\u003e }, \u003cspan style=\"color:#75715e\"\u003e// \u0026#39;id\u0026#39;ëŠ” ìœ ë‹ˆí¬ í•„ë“œ\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e});\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eê´€ê³„ ì¡°ê±´ì´ í•„ìš”í•˜ë©´ findFirst ë˜ëŠ” findMany ì‚¬ìš©\u003c/strong\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-ts\" data-lang=\"ts\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e// \u0026#39;findUnique\u0026#39;ê°€ ì•„ë‹Œ \u0026#39;findFirst\u0026#39;ë¥¼ ì‚¬ìš©í•˜ë©´\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e// \u0026#39;where\u0026#39;ì— ê´€ê³„ í•„í„°ë¥¼ í¬í•¨í•  ìˆ˜ ìˆìŒ\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eawait\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003edb\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003euser\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003efindFirst\u003c/span\u003e({\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003ewhere\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eid\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003euserId\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    \u003cspan style=\"color:#a6e22e\"\u003eposts\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e { \u003cspan style=\"color:#a6e22e\"\u003esome\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e { \u003cspan style=\"color:#a6e22e\"\u003emetadata\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e { \u003cspan style=\"color:#a6e22e\"\u003eeditorEmail\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003eemail\u003c/span\u003e } } },\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  },\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e});\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eìš”ì•½í•˜ë©´ \u003ccode\u003efindUnique\u003c/code\u003eì—ëŠ” ìœ ë‹ˆí¬ ì¡°ê±´ë§Œ, ê´€ê³„ ê¸°ë°˜ í•„í„°ëŠ” \u003ccode\u003efindFirst\u003c/code\u003e ë˜ëŠ” \u003ccode\u003efindMany\u003c/code\u003eë¡œ ì²˜ë¦¬í•¨\u003c/p\u003e","title":"Prisma findUniqueì—ì„œ whereì™€ include ì œëŒ€ë¡œ ì“°ê¸°"},{"content":"ê°œìš” Node.jsê°€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ ì–´ë–¤ êµ¬ì„±ìš”ì†Œê°€ ì–´ë–¤ ìˆœì„œë¡œ ì´ˆê¸°í™”ë˜ê³  ë™ì‘í•˜ëŠ”ì§€ ì •ë¦¬ ë°”ì´ë„ˆë¦¬ ê¸°ë™ë¶€í„° ëª¨ë“ˆ ë¡œë”©, V8 íŒŒì‹±ê³¼ ì‹¤í–‰, ì´ë²¤íŠ¸ ë£¨í”„ì™€ ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬ê¹Œì§€ì˜ ì „ì²´ íë¦„ì„ ê°œë°œì ê´€ì ì—ì„œ ê°„ê²°í•˜ê²Œ ì„¤ëª…\ní•µì‹¬ ê°œë… V8 ì—”ì§„, Ignition ë°”ì´íŠ¸ì½”ë“œì™€ JIT ìµœì í™” libuv, ë¹„ë™ê¸° I O ë°±ì—”ë“œì™€ ì´ë²¤íŠ¸ ë£¨í”„ ë‹¨ê³„ ëª¨ë“ˆ ì‹œìŠ¤í…œ, CommonJSì™€ ES Moduleì˜ ë¡œë”© ì°¨ì´ ì „ì—­ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì™€ ëŸ°íƒ€ì„ ë‚´ì¥ ê°ì²´ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì™€ process.nextTickì˜ ìš°ì„ ìˆœìœ„ ì‹¤í–‰ ìˆœì„œ ìš”ì•½ Node ë°”ì´ë„ˆë¦¬ ì‹œì‘ ëŸ°íƒ€ì„ ì´ˆê¸°í™”ì™€ ë‚´ë¶€ ë°”ì¸ë”© ì¤€ë¹„ ëª¨ë“ˆ ë¡œë” ê¸°ë™ ë° ì—”íŠ¸ë¦¬ íŒŒì¼ ë¡œë“œ V8 íŒŒì‹±ê³¼ ë°”ì´íŠ¸ì½”ë“œ ì»´íŒŒì¼ ì „ì—­ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ êµ¬ì„±ê³¼ ìµœìƒìœ„ ì½”ë“œ ì‹¤í–‰ ë¹„ë™ê¸° ì‘ì—… ë“±ë¡ ì´ë²¤íŠ¸ ë£¨í”„ ì§„ì… ë¹„ë™ê¸° ì½œë°± ì²˜ë¦¬ ë°˜ë³µ graph TD A[Node ì‹œì‘] --\u0026gt; B[V8, libuv ì´ˆê¸°í™”] B --\u0026gt; C[ëª¨ë“ˆ ë¡œë”©] C --\u0026gt; D[íŒŒì‹± ë° ì»´íŒŒì¼] D --\u0026gt; E[ìµœìƒìœ„ ì½”ë“œ ì‹¤í–‰] E --\u0026gt; F[ì´ë²¤íŠ¸ ë£¨í”„] F --\u0026gt; G[ë¹„ë™ê¸° ì²˜ë¦¬ ë°˜ë³µ] ë‹¨ê³„ë³„ ë™ì‘ 1ë‹¨ê³„ Node ë°”ì´ë„ˆë¦¬ ì‹œì‘ node yourfile.js ì‹¤í–‰ìœ¼ë¡œ C++ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ê°€ ê¸°ë™ë¨ V8, libuv, ë‚´ë¶€ ë°”ì¸ë”© ê³„ì¸µì´ ì´ˆê¸°í™”ë˜ê³  ëŸ°íƒ€ì„ ì „ì—­ ìƒíƒœê°€ ì¤€ë¹„ë¨\n2ë‹¨ê³„ ëŸ°íƒ€ì„ ì´ˆê¸°í™” V8, libuv, ì•”í˜¸í™”ì™€ ì••ì¶• ë“± í•„ìˆ˜ ì˜ì¡´ì„± ì´ˆê¸°í™” process ê°ì²´ì™€ argv, env, versions ì„¤ì • í‘œì¤€ ì…ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ ë°”ì¸ë”© ì¤€ë¹„\n3ë‹¨ê³„ ëª¨ë“ˆ ë¡œë” ì‹¤í–‰ ì—”íŠ¸ë¦¬ íŒŒì¼ì„ ê¸°ì¤€ìœ¼ë¡œ ëª¨ë“ˆ í•´ì„ê³¼ ë¡œë”© ìˆ˜í–‰\nCommonJS require ì‚¬ìš© ì‹œ ë™ê¸° ë¡œë”©ê³¼ í•¨ìˆ˜ ë˜í•‘ ì ìš© (function exports, require, module, __filename, __dirname { \u0026hellip; }) í˜•íƒœë¡œ ê°ìŒˆ __filename, __dirname ì€ CommonJSì—ì„œë§Œ ì œê³µë¨ ES Module import ì‚¬ìš© ì‹œ ë¹„ë™ê¸° ë¡œë”©ê³¼ ë§í¬ ë‹¨ê³„ ìˆ˜í–‰ mjs í™•ì¥ì ë˜ëŠ” package ì„¤ì •ì˜ type module ì¡°ê±´ì—ì„œ í™œì„±í™”ë¨ ESMì—ëŠ” __filename, __dirname ë¯¸ì œê³µì´ë©° import.meta.url ì‚¬ìš© ê¶Œì¥ ì˜ì¡´ì„± ê·¸ë˜í”„ë¥¼ êµ¬ì¶•í•˜ê³  ëª¨ë“ˆ ê²°ê³¼ë¥¼ ìºì‹œì— ë³´ê´€í•¨ 4ë‹¨ê³„ íŒŒì‹±ê³¼ ë°”ì´íŠ¸ì½”ë“œ ì»´íŒŒì¼ V8ì´ ì†ŒìŠ¤ ì½”ë“œë¥¼ ASTë¡œ íŒŒì‹±í•œ ë’¤ Ignition ë°”ì´íŠ¸ì½”ë“œë¡œ ì»´íŒŒì¼í•¨ ì‹¤í–‰ ì¤‘ ë°˜ë³µ íŒ¨í„´ì´ ê´€ì°°ë˜ë©´ JIT ìµœì í™”ê°€ ì ìš©ë¨\n5ë‹¨ê³„ ì „ì—­ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ êµ¬ì„± ExecutionContextë¥¼ ë§Œë“¤ê³  ì „ì—­ ê°ì²´ì™€ ë‚´ì¥ ë°”ì¸ë”©ì„ ì—°ê²°í•¨ global, process, require CommonJS í•œì •, import ESM ë¬¸ë§¥ ë“± í™˜ê²½ì´ í™•ì •ë¨ ì—”íŠ¸ë¦¬ íŒŒì¼ì˜ ìµœìƒìœ„ ë ˆë²¨ ì½”ë“œê°€ ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë¨\n6ë‹¨ê³„ ë¹„ë™ê¸° ì‘ì—… ë“±ë¡ setTimeout, Promise, íŒŒì¼ I O, ë„¤íŠ¸ì›Œí¬ I O ë“±ì€ ì¦‰ì‹œ ì‹¤í–‰ ëŒ€ì‹  ì½œë°±ì„ ì ì ˆí•œ íì— ë“±ë¡í•¨\níƒ€ì´ë¨¸ í, I O í, ì²´í¬ í ë“± ì´ë²¤íŠ¸ ë£¨í”„ ë‹¨ê³„ë³„ íì— ë°°ì¹˜ë¨ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ëŠ” ë³„ë„ íì— ë“±ë¡ë¨ ì´ ì‹œì ê¹Œì§€ëŠ” ì½œë°±ì´ ì‹¤í–‰ë˜ì§€ ì•Šê³  ë“±ë¡ë§Œ ì§„í–‰ë¨ 7ë‹¨ê³„ ì´ë²¤íŠ¸ ë£¨í”„ ì§„ì… ì´ˆê¸° ìŠ¤í¬ë¦½íŠ¸ í‰ê°€ê°€ ëë‚˜ë©´ ì´ë²¤íŠ¸ ë£¨í”„ë¡œ ì§„ì…í•¨ ëŒ€í‘œ ë‹¨ê³„ ìˆœì„œ\ntimers ë‹¨ê³„ì—ì„œ setTimeout, setInterval ì½œë°± ì²˜ë¦¬ pending callbacks ë‹¨ê³„ì—ì„œ ì¼ë¶€ ì‹œìŠ¤í…œ ì½œë°± ì²˜ë¦¬ idle, prepare ë‹¨ê³„ ë‚´ë¶€ ìš©ë„ poll ë‹¨ê³„ì—ì„œ I O ì²˜ë¦¬ ë° ëŒ€ê¸° check ë‹¨ê³„ì—ì„œ setImmediate ì²˜ë¦¬ close callbacks ë‹¨ê³„ì—ì„œ close ì´ë²¤íŠ¸ ì²˜ë¦¬ ê° ì½œë°± ì‹¤í–‰ ì§í›„ì— process.nextTick íì™€ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íê°€ ì†Œì§„ë¨ ìš°ì„ ìˆœìœ„ëŠ” process.nextTick ë¨¼ì €, ê·¸ ë‹¤ìŒ Promise then, queueMicrotask ìˆœìœ¼ë¡œ ì²˜ë¦¬ë¨ 8ë‹¨ê³„ ë¹„ë™ê¸° ì½œë°± ì²˜ë¦¬ ë°˜ë³µ ëŒ€ê¸° ì¤‘ì¸ íì—ì„œ ì½œë°±ì„ êº¼ë‚´ ì‹¤í–‰í•˜ê³  í•„ìš” ì‹œ ìƒˆë¡œìš´ ë¹„ë™ê¸° ì‘ì—…ì„ ë‹¤ì‹œ ë“±ë¡í•¨ ì‘ì—…ì´ ë‚¨ì•„ìˆëŠ” ë™ì•ˆ ë£¨í”„ê°€ ê³„ì† ìˆœí™˜í•¨\nCJSì™€ ESM ë¡œë”© ì°¨ì´ ìš”ì•½ require ë™ê¸° ë¡œë”©ê³¼ ìºì‹œ ê¸°ë°˜ ì¬ì‚¬ìš©, íŒŒì¼ í•´ì„ê³¼ ì‹¤í–‰ì´ í˜¸ì¶œ ì‹œì ì— ì¼ì–´ë‚¨ import ë¹„ë™ê¸° ë¡œë”©ê³¼ ë§í¬, ì •ì  ì˜ì¡´ì„± í•´ì„ ìš°ì„ , í† í´ë¡œì§€ ì •ë¦¬ í›„ ì‹¤í–‰ ëŸ°íƒ€ì„ ì „ì—­ ì œê³µ ìš”ì†Œ ì°¨ì´ ì¡´ì¬ CommonJSì˜ __filename, __dirnameì€ ESMì— ì—†ìŒ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ì™€ nextTick ì£¼ì˜ process.nextTickì€ Node ì „ìš© íë¡œ ë§¤ ë‹¨ê³„ì™€ ì½œë°± ì§í›„ ìµœìš°ì„  ì²˜ë¦¬ë¨ Promise then ë“± ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ëŠ” nextTick ì²˜ë¦¬ ì´í›„ ì‹¤í–‰ë¨ ê³¼ë„í•œ nextTick ì‚¬ìš©ì€ ì´ë²¤íŠ¸ ë£¨í”„ êµ¶ê¹€ì„ ìœ ë°œí•  ìˆ˜ ìˆìŒ ì¢…ë£Œ ì¡°ê±´ í™œì„± íƒ€ì´ë¨¸, ë³´ë¥˜ëœ I O, ë“±ë¡ëœ ì½œë°± ë“± ì´ë²¤íŠ¸ ë£¨í”„ì—ì„œ ì²˜ë¦¬í•  ì‘ì—…ì´ ë” ì´ìƒ ì—†ìŒ ëª…ì‹œì  process.exit í˜¸ì¶œ ê°„ë‹¨ ì˜ˆì‹œ ì•„ë˜ ì½”ë“œëŠ” ë™ê¸° ì‹¤í–‰ê³¼ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬, íƒ€ì´ë¨¸ì˜ ìƒëŒ€ì  ìˆœì„œë¥¼ ë³´ì—¬ì¤Œ\nconsole.log(\u0026#39;start\u0026#39;) setTimeout(() =\u0026gt; { console.log(\u0026#39;timeout\u0026#39;) }, 0) Promise.resolve().then(() =\u0026gt; { console.log(\u0026#39;promise\u0026#39;) }) console.log(\u0026#39;end\u0026#39;) ì‹¤í–‰ ìˆœì„œ 1 start ë™ê¸° 2 end ë™ê¸° 3 promise ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ 4 timeout íƒ€ì´ë¨¸\nì •ë¦¬ Node.jsëŠ” ë°”ì´ë„ˆë¦¬ ê¸°ë™ í›„ V8ê³¼ libuvë¥¼ ì´ˆê¸°í™”í•˜ê³  ëª¨ë“ˆì„ ë¡œë”©í•œ ë’¤ ìµœìƒìœ„ ì½”ë“œë¥¼ ì‹¤í–‰í•¨ ë¹„ë™ê¸° ì‘ì—…ì€ ë“±ë¡ë§Œ ìˆ˜í–‰ë˜ê³  ì´ˆê¸° í‰ê°€ê°€ ëë‚˜ë©´ ì´ë²¤íŠ¸ ë£¨í”„ì— ì§„ì…í•˜ì—¬ ë‹¨ê³„ë³„ë¡œ ì½œë°±ì„ ì²˜ë¦¬í•¨ process.nextTickì´ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ë³´ë‹¤ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” ì , CommonJSì™€ ESMì˜ ë¡œë”© ë° ì „ì—­ ì°¨ì´ë¥¼ êµ¬ë¶„í•  ê²ƒ\nì°¸ê³ ìë£Œ https://nodejs.org/en/learn/asynchronous/event-loop-timers-and-nexttick https://nodejs.org/api/modules.html https://nodejs.org/api/esm.html https://docs.libuv.org/en/v1.x/design.html https://v8.dev/docs ","permalink":"https://blog.jsontapose.com/posts/nodejs-execution-flow-event-loop-b04459/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eNode.jsê°€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ ì–´ë–¤ êµ¬ì„±ìš”ì†Œê°€ ì–´ë–¤ ìˆœì„œë¡œ ì´ˆê¸°í™”ë˜ê³  ë™ì‘í•˜ëŠ”ì§€ ì •ë¦¬\në°”ì´ë„ˆë¦¬ ê¸°ë™ë¶€í„° ëª¨ë“ˆ ë¡œë”©, V8 íŒŒì‹±ê³¼ ì‹¤í–‰, ì´ë²¤íŠ¸ ë£¨í”„ì™€ ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬ê¹Œì§€ì˜ ì „ì²´ íë¦„ì„ ê°œë°œì ê´€ì ì—ì„œ ê°„ê²°í•˜ê²Œ ì„¤ëª…\u003c/p\u003e\n\u003ch3 id=\"í•µì‹¬-ê°œë…\"\u003eí•µì‹¬ ê°œë…\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eV8 ì—”ì§„, Ignition ë°”ì´íŠ¸ì½”ë“œì™€ JIT ìµœì í™”\u003c/li\u003e\n\u003cli\u003elibuv, ë¹„ë™ê¸° I O ë°±ì—”ë“œì™€ ì´ë²¤íŠ¸ ë£¨í”„ ë‹¨ê³„\u003c/li\u003e\n\u003cli\u003eëª¨ë“ˆ ì‹œìŠ¤í…œ, CommonJSì™€ ES Moduleì˜ ë¡œë”© ì°¨ì´\u003c/li\u003e\n\u003cli\u003eì „ì—­ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì™€ ëŸ°íƒ€ì„ ë‚´ì¥ ê°ì²´\u003c/li\u003e\n\u003cli\u003eë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì™€ process.nextTickì˜ ìš°ì„ ìˆœìœ„\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ì‹¤í–‰-ìˆœì„œ-ìš”ì•½\"\u003eì‹¤í–‰ ìˆœì„œ ìš”ì•½\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003eNode ë°”ì´ë„ˆë¦¬ ì‹œì‘\u003c/li\u003e\n\u003cli\u003eëŸ°íƒ€ì„ ì´ˆê¸°í™”ì™€ ë‚´ë¶€ ë°”ì¸ë”© ì¤€ë¹„\u003c/li\u003e\n\u003cli\u003eëª¨ë“ˆ ë¡œë” ê¸°ë™ ë° ì—”íŠ¸ë¦¬ íŒŒì¼ ë¡œë“œ\u003c/li\u003e\n\u003cli\u003eV8 íŒŒì‹±ê³¼ ë°”ì´íŠ¸ì½”ë“œ ì»´íŒŒì¼\u003c/li\u003e\n\u003cli\u003eì „ì—­ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ êµ¬ì„±ê³¼ ìµœìƒìœ„ ì½”ë“œ ì‹¤í–‰\u003c/li\u003e\n\u003cli\u003eë¹„ë™ê¸° ì‘ì—… ë“±ë¡\u003c/li\u003e\n\u003cli\u003eì´ë²¤íŠ¸ ë£¨í”„ ì§„ì…\u003c/li\u003e\n\u003cli\u003eë¹„ë™ê¸° ì½œë°± ì²˜ë¦¬ ë°˜ë³µ\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre tabindex=\"0\"\u003e\u003ccode class=\"language-mermaid\" data-lang=\"mermaid\"\u003egraph TD\nA[Node ì‹œì‘] --\u0026gt; B[V8, libuv ì´ˆê¸°í™”]\nB --\u0026gt; C[ëª¨ë“ˆ ë¡œë”©]\nC --\u0026gt; D[íŒŒì‹± ë° ì»´íŒŒì¼]\nD --\u0026gt; E[ìµœìƒìœ„ ì½”ë“œ ì‹¤í–‰]\nE --\u0026gt; F[ì´ë²¤íŠ¸ ë£¨í”„]\nF --\u0026gt; G[ë¹„ë™ê¸° ì²˜ë¦¬ ë°˜ë³µ]\n\u003c/code\u003e\u003c/pre\u003e\u003ch3 id=\"ë‹¨ê³„ë³„-ë™ì‘\"\u003eë‹¨ê³„ë³„ ë™ì‘\u003c/h3\u003e\n\u003ch4 id=\"1ë‹¨ê³„-node-ë°”ì´ë„ˆë¦¬-ì‹œì‘\"\u003e1ë‹¨ê³„ Node ë°”ì´ë„ˆë¦¬ ì‹œì‘\u003c/h4\u003e\n\u003cp\u003enode yourfile.js ì‹¤í–‰ìœ¼ë¡œ C++ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ê°€ ê¸°ë™ë¨\nV8, libuv, ë‚´ë¶€ ë°”ì¸ë”© ê³„ì¸µì´ ì´ˆê¸°í™”ë˜ê³  ëŸ°íƒ€ì„ ì „ì—­ ìƒíƒœê°€ ì¤€ë¹„ë¨\u003c/p\u003e","title":"Node.js ì‹¤í–‰ íë¦„ê³¼ ì´ë²¤íŠ¸ ë£¨í”„ ë‹¨ê³„ ì •ë¦¬"},{"content":"ê°œë…/ë°°ê²½ DI(Dependency Injection, ì˜ì¡´ì„± ì£¼ì…)ì˜ í•µì‹¬ ì•„ì´ë””ì–´ëŠ” ëª…í™•í•¨ ê°ì²´ê°€ ìì‹ ì´ ì‚¬ìš©í•  ì˜ì¡´ ê°ì²´ë¥¼ ìŠ¤ìŠ¤ë¡œ ìƒì„±í•˜ì§€ ì•Šê³ , ì™¸ë¶€ë¡œë¶€í„° ì „ë‹¬ë°›ì•„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì´ ë‹¨ìˆœí•œ ì„¤ê³„ ë³€ê²½ë§Œìœ¼ë¡œë„ ì½”ë“œì˜ ë³€ê²½ ìš©ì´ì„±, í…ŒìŠ¤íŠ¸ í¸ì˜ì„±, ê·¸ë¦¬ê³  ì „ì²´ ì‹œìŠ¤í…œì˜ í™•ì¥ì„±ì—ì„œ ê±°ëŒ€í•œ ì°¨ì´ê°€ ë°œìƒí•¨\në¬¸ì œ ìƒí™©: ê°•í•œ ê²°í•© (Tight Coupling) ì „í˜•ì ì¸ ë¬¸ì œ íŒ¨í„´ì€ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ ë‹¤ë¥¸ êµ¬ì²´ì ì¸ í´ë˜ìŠ¤(Concrete Class)ë¥¼ new í‚¤ì›Œë“œë¡œ ì§ì ‘ ìƒì„±í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²ƒì„\nì˜ì¡´ ëŒ€ìƒì˜ êµ¬í˜„ì´ ë³€ê²½ë˜ë©´, í•´ë‹¹ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ ë‚´ë¶€ ì½”ë“œë„ ë°˜ë“œì‹œ í•¨ê»˜ ìˆ˜ì •í•´ì•¼ í•¨ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸(Unit Test)ë¥¼ ì‘ì„±í•  ë•Œ, í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ê°ì²´ê°€ ì˜ì¡´í•˜ëŠ” ì‹¤ì œ ê°ì²´ë“¤ê¹Œì§€ ëª¨ë‘ í•¨ê»˜ ì—®ì—¬ ë“¤ì–´ì™€ í…ŒìŠ¤íŠ¸ê°€ ë³µì¡í•˜ê³  ë¬´ê±°ì›Œì§ ì˜ˆë¥¼ ë“¤ì–´ Gamerê°€ BlueSwitchKeyboardë¥¼ ì§ì ‘ ìƒì„±í•´ ì‚¬ìš©í•œë‹¤ë©´, GamerëŠ” BlueSwitchKeyboardë¼ëŠ” êµ¬ì²´ì ì¸ êµ¬í˜„ì— ì˜êµ¬ì ìœ¼ë¡œ ê³ ì •ë¨ ë§Œì•½ í‚¤ë³´ë“œ ì¢…ë¥˜ë¥¼ RedSwitchSilentKeyboardë¡œ ë°”ê¾¸ë ¤ë©´ Gamer í´ë˜ìŠ¤ì˜ ë‚´ë¶€ ì½”ë“œë¥¼ ì§ì ‘ ìˆ˜ì •í•´ì•¼ í•¨ ì´ ìƒíƒœë¥¼ ê²°í•©ë„ê°€ ë†’ë‹¤ê³  ë¶€ë¦„\nì˜ˆì œ ì½”ë“œ (ê°•í•œ ê²°í•©) class BlueSwitchKeyboard { type() { console.log(\u0026#34;ì°°ì¹µ- ì°°ì¹µ-\u0026#34;); } } // Gamerê°€ BlueSwitchKeyboardë¼ëŠ” \u0026#39;êµ¬í˜„\u0026#39;ì— ì§ì ‘ ì˜ì¡´í•¨ class Gamer { constructor() { // ë¬¸ì œ ì§€ì : Gamerê°€ ì‚¬ìš©í•  í‚¤ë³´ë“œë¥¼ ìŠ¤ìŠ¤ë¡œ ìƒì„±í•¨ this.keyboard = new BlueSwitchKeyboard(); } play() { console.log(\u0026#34;ê²Œì„ ì‹œì‘!\u0026#34;); this.keyboard.type(); } } const gamer = new Gamer(); gamer.play(); DI ì ìš©: ëŠìŠ¨í•œ ê²°í•© (Loose Coupling) í•µì‹¬ ë³€ê²½ì ì€ ì œì–´ì˜ ì—­ì „(Inversion of Control, IoC)ì„ ì ìš©í•˜ëŠ” ê²ƒì„\nGamerëŠ” ë” ì´ìƒ í‚¤ë³´ë“œë¥¼ ì§ì ‘ ë§Œë“¤ì§€ ì•ŠìŒ (ìƒì„± ì±…ì„ ì œê±°) ì™¸ë¶€ì—ì„œ ìƒì„±ìë¥¼ í†µí•´ keyboard ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì£¼ì…ë°›ìŒ GamerëŠ” ì£¼ì…ë°›ì€ ê°ì²´ê°€ type ë©”ì„œë“œë¥¼ ê°€ì§„ë‹¤ëŠ” ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•¨ ì˜ˆì œ ì½”ë“œ (ëŠìŠ¨í•œ ê²°í•©) // ë‹¤ì–‘í•œ í‚¤ë³´ë“œ êµ¬í˜„ì²´ë“¤ class BlueSwitchKeyboard { type() { console.log(\u0026#34;ì°°ì¹µ- ì°°ì¹µ-\u0026#34;); } } class RedSwitchSilentKeyboard { type() { console.log(\u0026#34;ì„œê±±... ì„œê±±...\u0026#34;); } } // GamerëŠ” \u0026#39;type\u0026#39; ë©”ì„œë“œë¥¼ ê°€ì§„ ê°ì²´ë¼ë©´ ë¬´ì—‡ì´ë“  OK class Gamer { constructor(keyboard) { // ğŸ‘ ê°œì„  ì§€ì : ì™¸ë¶€ì—ì„œ \u0026#39;keyboard\u0026#39; ì—­í• ì„ í•˜ëŠ” ê°ì²´ë¥¼ ì£¼ì…ë°›ìŒ this.keyboard = keyboard; } play() { console.log(\u0026#34;ê²Œì„ ì‹œì‘!\u0026#34;); this.keyboard.type(); // ê·¸ëƒ¥ ê³„ì•½(type)ëŒ€ë¡œ í˜¸ì¶œí•  ë¿ì„ } } // \u0026#39;ì¡°ë¦½\u0026#39;ì€ ì™¸ë¶€ì—ì„œ ìˆ˜í–‰í•¨ // 1. íŒŒë€ ì¶• í‚¤ë³´ë“œê°€ í•„ìš”í•œ ê²½ìš° const blueKeyboard = new BlueSwitchKeyboard(); const gamer1 = new Gamer(blueKeyboard); gamer1.play(); // 2. ë¹¨ê°„ ì¶• ì €ì†ŒìŒ í‚¤ë³´ë“œê°€ í•„ìš”í•œ ê²½ìš° const redKeyboard = new RedSwitchSilentKeyboard(); const gamer2 = new Gamer(redKeyboard); gamer2.play(); // Gamer ì½”ë“œëŠ” ì „í˜€ ìˆ˜ì •ë˜ì§€ ì•Šì•˜ìŒ ì´ì œ Gamer ì½”ë“œë¥¼ ë‹¨ í•œ ì¤„ë„ ë°”ê¾¸ì§€ ì•Šê³ ë„, type ë©”ì„œë“œë¥¼ ê°€ì§„ ì–´ë–¤ í‚¤ë³´ë“œ êµ¬í˜„ì²´ë“  ììœ ë¡­ê²Œ ì£¼ì…í•˜ì—¬ êµì²´í•  ìˆ˜ ìˆìŒ\nì™œ ê²°í•©ë„ê°€ ë‚®ì•„ì§€ëŠ”ê°€ ì˜ì¡´ ëŒ€ìƒì´ êµ¬ì²´ì ì¸ êµ¬í˜„ì—ì„œ ì¶”ìƒì ì¸ ì—­í• ë¡œ ì „í™˜ë˜ê¸° ë•Œë¬¸ì„\nBefore (ê°•í•œ ê²°í•©): Gamer í´ë˜ìŠ¤ê°€ BlueSwitchKeyboardë¼ëŠ” íŠ¹ì • êµ¬í˜„ í´ë˜ìŠ¤ë¥¼ ì§ì ‘ ì•Œì•„ì•¼ í–ˆìŒ After (ëŠìŠ¨í•œ ê²°í•©): Gamer í´ë˜ìŠ¤ëŠ” \u0026lsquo;type ë©”ì„œë“œë¥¼ ì œê³µí•˜ëŠ” ë¬´ì–¸ê°€\u0026rsquo;ë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ì—ë§Œ ì˜ì¡´í•¨ GamerëŠ” ì´ì œ BlueSwitchKeyboardë‚˜ RedSwitchSilentKeyboardì˜ ì¡´ì¬ ìì²´ë¥¼ ì•Œ í•„ìš”ê°€ ì—†ìŒ ê²°í•©ì˜ ê¸°ì¤€ì ì´ \u0026lsquo;íŠ¹ì • ì œí’ˆ\u0026rsquo;ì´ ì•„ë‹Œ \u0026lsquo;ì œí’ˆì˜ ê¸°ëŠ¥ ëª…ì„¸\u0026rsquo;ë¡œ ì´ë™í•˜ë©´ì„œ, ë³€ê²½ì˜ íŒŒê¸‰ íš¨ê³¼ê°€ ê·¹ì ìœ¼ë¡œ ì¤„ì–´ë“¦\nì´ëŠ” \u0026ldquo;êµ¬ì²´ì ì¸ êµ¬í˜„ì´ ì•„ë‹Œ ì¶”ìƒí™”ì— ì˜ì¡´í•˜ë¼\u0026rdquo;(Depend on abstractions, not on concretions)ëŠ” SOLID ì›ì¹™ ì¤‘ í•˜ë‚˜ì¸ ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ì˜ í•µì‹¬ ì‹¤ì²œ ë°©ì‹ì„\ní…ŒìŠ¤íŠ¸ì™€ í™•ì¥ì„± í…ŒìŠ¤íŠ¸ ìš©ì´ì„± DIë¥¼ ì‚¬ìš©í•˜ë©´ ì‹¤ì œ ì˜ì¡´ ê°ì²´ ëŒ€ì‹  Mock Objectì„ ì‰½ê²Œ ì£¼ì…í•  ìˆ˜ ìˆìŒ ì‹¤ì œ í•˜ë“œì›¨ì–´ì— ì˜ì¡´í•˜ê±°ë‚˜ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì„ í•˜ëŠ” ë¬´ê±°ìš´ ê°ì²´ë¥¼ ê°€ë²¼ìš´ ê°€ì§œ ê°ì²´ë¡œ ëŒ€ì²´í•˜ì—¬, ë¹ ë¥´ê³  ê³ ë¦½ëœ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•´ì§\nì˜ˆì œ ì½”ë“œ (í…ŒìŠ¤íŠ¸) // í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ê°€ì§œ í‚¤ë³´ë“œ (Mock) const mockKeyboard = { type: () =\u0026gt; { console.log(\u0026#34;ê°€ì§œ í‚¤ë³´ë“œ ì…ë ¥ í…ŒìŠ¤íŠ¸\u0026#34;); // í…ŒìŠ¤íŠ¸ ê²€ì¦ ë¡œì§ ì¶”ê°€ ê°€ëŠ¥ (ì˜ˆ: í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸) }, }; // ì‹¤ì œ í‚¤ë³´ë“œ í´ë˜ìŠ¤ ì—†ì´ Gamerì˜ play ê¸°ëŠ¥ë§Œ ê³ ë¦½ì‹œì¼œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ const testGamer = new Gamer(mockKeyboard); testGamer.play(); í™•ì¥ì„± ìƒˆë¡œìš´ ê¸°ëŠ¥ì˜ í‚¤ë³´ë“œ(MembraneKeyboard, OpticalSwitchKeyboard ë“±)ê°€ ì¶”ê°€ë˜ì–´ë„ Gamer ì½”ë“œëŠ” ìˆ˜ì •í•  í•„ìš”ê°€ ì „í˜€ ì—†ìŒ ì™¸ë¶€ì—ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ì£¼ì…í•˜ëŠ” Composition Rootì—ì„œ ì–´ë–¤ êµ¬í˜„ì„ ì‚¬ìš©í• ì§€ë§Œ ê²°ì •í•˜ë©´ ë¨\nDIì™€ IoC ì»¨í…Œì´ë„ˆ ì‘ì€ ê·œëª¨ì—ì„œëŠ” ìœ„ ì˜ˆì œì²˜ëŸ¼ ìƒì„±ìë‚˜ ë©”ì„œë“œë¥¼ í†µí•œ ìˆ˜ë™ DIë§Œìœ¼ë¡œë„ ì¶©ë¶„í•œ íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆìŒ\ní•˜ì§€ë§Œ í”„ë¡œì íŠ¸ ê·œëª¨ê°€ ì»¤ì§€ë©´, ìˆ˜ì‹­ ê°œì˜ ê°ì²´ê°€ ì„œë¡œ ë³µì¡í•œ ì˜ì¡´ ê´€ê³„ë¥¼ ë§ºê³ , ì´ë“¤ì˜ ìƒì„± ìˆœì„œì™€ ìˆ˜ëª…(Lifecycle) ê´€ë¦¬ê°€ ë³µì¡í•œ ë°˜ë³µ ì‘ì—…ì´ ë¨\nIoC ì»¨í…Œì´ë„ˆëŠ” ì´ \u0026lsquo;ì¡°ë¦½\u0026rsquo; ê³¼ì •ì„ ìë™í™”í•˜ê³  ì¤‘ì•™ì—ì„œ ê´€ë¦¬í•´ì£¼ëŠ” í”„ë ˆì„ì›Œí¬ ê¸°ëŠ¥ì„\nex. NestJS, Spring, Angularì˜ DI ì‹œìŠ¤í…œ ê°œë°œìê°€ í´ë˜ìŠ¤ ìƒì„±ìì— í•„ìš”í•œ ì˜ì¡´ì„±ì„ \u0026lsquo;ì„ ì–¸\u0026rsquo;ë§Œ í•´ë‘ë©´ (ì˜ˆ: @Injectable()) ì»¨í…Œì´ë„ˆê°€ ëŸ°íƒ€ì„ì— í•„ìš”í•œ ì‹¤ì œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¾ì•„ \u0026lsquo;ì£¼ì…\u0026rsquo;í•´ ì¤Œ IoC ì»¨í…Œì´ë„ˆëŠ” ë‹¨ìˆœ ì£¼ì… ì™¸ì—ë„ ê°ì²´ì˜ ìˆ˜ëª… ì£¼ê¸°(Lifecycle) ê´€ë¦¬ (ì‹±ê¸€í†¤, ìš”ì²­ ìŠ¤ì½”í”„ ë“±), ìˆœí™˜ ì°¸ì¡° ê°ì§€ ë“± ê³ ê¸‰ ê¸°ëŠ¥ì„ ì œê³µí•¨ âš ï¸ ì£¼ì˜ì‚¬í•­ ì„œë¹„ìŠ¤ ë¡œì¼€ì´í„° íŒ¨í„´ ë‚¨ìš© ì£¼ì˜ ì„œë¹„ìŠ¤ ë¡œì¼€ì´í„°ëŠ” DIì™€ ë‹¬ë¦¬ ì˜ì¡´ì„±ì„ ì™¸ë¶€ì— ëª…ì‹œì ìœ¼ë¡œ ë“œëŸ¬ë‚´ì§€ ì•Šê³  í´ë˜ìŠ¤ ë‚´ë¶€ì— ìˆ¨ê¹€/ ì´ëŠ” í…ŒìŠ¤íŠ¸ë¥¼ ì–´ë µê²Œ í•˜ê³  ì½”ë“œì˜ ì˜ì¡´ ê´€ê³„ ì¶”ë¡ ì„ ë°©í•´í•  ìˆ˜ ìˆìŒ ê³¼ë„í•œ ìƒì„±ì ì¸ì í•œ í´ë˜ìŠ¤ì˜ ìƒì„±ìì— 5ê°œê°€ ë„˜ëŠ” ì˜ì¡´ì„±ì´ ì£¼ì…ëœë‹¤ë©´, í•´ë‹¹ í´ë˜ìŠ¤ê°€ ë‹¨ì¼ ì±…ì„ ì›ì¹™(SRP)ì„ ìœ„ë°˜í•˜ê³  ìˆì„ ê°€ëŠ¥ì„±ì´ ë†’ìŒ/ ì„¤ê³„ë¥¼ ì¬ê²€í† í•˜ê³  ì±…ì„ì„ ë¶„ë¦¬í•´ì•¼ í•¨ ëŸ°íƒ€ì„ íƒ€ì… ê²€ì¦ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ê°™ì€ ì •ì  íƒ€ì… ì‹œìŠ¤í…œì´ ì—†ë‹¤ë©´, ëŸ°íƒ€ì„ì— ì£¼ì…ëœ ê°ì²´ê°€ í•„ìš”í•œ ë©”ì„œë“œ(type ë“±)ë¥¼ ê°€ì§€ê³  ìˆëŠ”ì§€ ë³´ì¥í•˜ê¸° ì–´ë ¤ì›€/ ì´ ê²½ìš°, ì¸í„°í˜ì´ìŠ¤ ê²€ì¦ ë¡œì§ì„ ì¶”ê°€ë¡œ ê³ ë ¤í•  ìˆ˜ ìˆìŒ ìˆœí™˜ ì˜ì¡´ì„± (Circular Dependency) Aê°€ Bë¥¼, Bê°€ ë‹¤ì‹œ Aë¥¼ ì˜ì¡´í•˜ëŠ” ìƒí™©ì€ IoC ì»¨í…Œì´ë„ˆë¥¼ ë§ê°€ëœ¨ë¦¬ê³  ì„¤ê³„ ë¬¸ì œë¥¼ ì•”ì‹œí•˜ëŠ” ê°•ë ¥í•œ ì‹ í˜¸ì„/ ì—­í•  ë¶„ë¦¬ë‚˜ ì¤‘ê°„ ê³„ì¸µ(Port) ë„ì…ìœ¼ë¡œ ì˜ì¡´ì„± ë°©í–¥ì„ í•œìª½ìœ¼ë¡œ ì •ë¦¬í•´ì•¼ í•¨ ğŸ ë§ˆë¬´ë¦¬ DIì˜ ë³¸ì§ˆì€ \u0026lsquo;ìƒì„±\u0026rsquo;ì˜ ì±…ì„ê³¼ \u0026lsquo;ì‚¬ìš©\u0026rsquo;ì˜ ì±…ì„ì„ ë¶„ë¦¬í•˜ëŠ” ê²ƒì„\nì‚¬ìš© ê°ì²´(Gamer)ëŠ” ìì‹ ì´ ì‚¬ìš©í•  ëŒ€ìƒì˜ ì—­í• ë§Œ ë°”ë¼ë³´ê³  ë™ì‘í•¨ ì‹¤ì œ êµ¬í˜„ ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì±…ì„ì€ ì™¸ë¶€ì˜ Composition Rootì´ë‚˜ IoC ì»¨í…Œì´ë„ˆê°€ ë‹´ë‹¹í•¨ ì´ ê°„ë‹¨í•œ ì±…ì„ ë¶„ë¦¬ë¥¼ í†µí•´ êµ¬í˜„ êµì²´ê°€ ììœ ë¡œì›Œì§€ê³ , í…ŒìŠ¤íŠ¸ê°€ ê°€ë²¼ì›Œì§€ë©°, ì‹œìŠ¤í…œ ì „ì²´ì˜ ê²°í•©ë„ê°€ ë‚®ì•„ì ¸ ìœ ì—°í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ ì„¤ê³„ê°€ ì™„ì„±ë¨\nì°¸ê³ ìë£Œ Martin Fowler - Inversion of Control Containers and the Dependency Injection pattern Wikipedia - Dependency injection NestJS - Custom providers ","permalink":"https://blog.jsontapose.com/posts/why-di-reduces-coupling-b59160/","summary":"\u003ch2 id=\"ê°œë…ë°°ê²½\"\u003eê°œë…/ë°°ê²½\u003c/h2\u003e\n\u003cp\u003eDI(Dependency Injection, ì˜ì¡´ì„± ì£¼ì…)ì˜ í•µì‹¬ ì•„ì´ë””ì–´ëŠ” ëª…í™•í•¨\n\u003cstrong\u003eê°ì²´ê°€ ìì‹ ì´ ì‚¬ìš©í•  ì˜ì¡´ ê°ì²´ë¥¼ ìŠ¤ìŠ¤ë¡œ ìƒì„±í•˜ì§€ ì•Šê³ , ì™¸ë¶€ë¡œë¶€í„° ì „ë‹¬ë°›ì•„ ì‚¬ìš©\u003c/strong\u003eí•˜ëŠ” ê²ƒì„\nì´ ë‹¨ìˆœí•œ ì„¤ê³„ ë³€ê²½ë§Œìœ¼ë¡œë„ ì½”ë“œì˜ ë³€ê²½ ìš©ì´ì„±, í…ŒìŠ¤íŠ¸ í¸ì˜ì„±, ê·¸ë¦¬ê³  ì „ì²´ ì‹œìŠ¤í…œì˜ í™•ì¥ì„±ì—ì„œ ê±°ëŒ€í•œ ì°¨ì´ê°€ ë°œìƒí•¨\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"ë¬¸ì œ-ìƒí™©-ê°•í•œ-ê²°í•©-tight-coupling\"\u003eë¬¸ì œ ìƒí™©: ê°•í•œ ê²°í•© (Tight Coupling)\u003c/h2\u003e\n\u003cp\u003eì „í˜•ì ì¸ ë¬¸ì œ íŒ¨í„´ì€ í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ ë‹¤ë¥¸ \u003cstrong\u003eêµ¬ì²´ì ì¸ í´ë˜ìŠ¤\u003c/strong\u003e(Concrete Class)ë¥¼ \u003ccode\u003enew\u003c/code\u003e í‚¤ì›Œë“œë¡œ ì§ì ‘ ìƒì„±í•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²ƒì„\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eì˜ì¡´ ëŒ€ìƒì˜ êµ¬í˜„ì´ ë³€ê²½ë˜ë©´, í•´ë‹¹ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” í´ë˜ìŠ¤ ë‚´ë¶€ ì½”ë“œë„ \u003cstrong\u003eë°˜ë“œì‹œ í•¨ê»˜ ìˆ˜ì •\u003c/strong\u003eí•´ì•¼ í•¨\u003c/li\u003e\n\u003cli\u003eë‹¨ìœ„ í…ŒìŠ¤íŠ¸(Unit Test)ë¥¼ ì‘ì„±í•  ë•Œ, í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ê°ì²´ê°€ ì˜ì¡´í•˜ëŠ” ì‹¤ì œ ê°ì²´ë“¤ê¹Œì§€ ëª¨ë‘ í•¨ê»˜ ì—®ì—¬ ë“¤ì–´ì™€ í…ŒìŠ¤íŠ¸ê°€ ë³µì¡í•˜ê³  ë¬´ê±°ì›Œì§\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eì˜ˆë¥¼ ë“¤ì–´ \u003ccode\u003eGamer\u003c/code\u003eê°€ \u003ccode\u003eBlueSwitchKeyboard\u003c/code\u003eë¥¼ ì§ì ‘ ìƒì„±í•´ ì‚¬ìš©í•œë‹¤ë©´, \u003ccode\u003eGamer\u003c/code\u003eëŠ” \u003ccode\u003eBlueSwitchKeyboard\u003c/code\u003eë¼ëŠ” êµ¬ì²´ì ì¸ êµ¬í˜„ì— ì˜êµ¬ì ìœ¼ë¡œ ê³ ì •ë¨\në§Œì•½ í‚¤ë³´ë“œ ì¢…ë¥˜ë¥¼ \u003ccode\u003eRedSwitchSilentKeyboard\u003c/code\u003eë¡œ ë°”ê¾¸ë ¤ë©´ \u003ccode\u003eGamer\u003c/code\u003e í´ë˜ìŠ¤ì˜ ë‚´ë¶€ ì½”ë“œë¥¼ ì§ì ‘ ìˆ˜ì •í•´ì•¼ í•¨\nì´ ìƒíƒœë¥¼ \u003cstrong\u003eê²°í•©ë„ê°€ ë†’ë‹¤\u003c/strong\u003eê³  ë¶€ë¦„\u003c/p\u003e","title":"DIê°€ ê²°í•©ë„ë¥¼ ë‚®ì¶”ëŠ” ì›ë¦¬ì™€ ìµœì†Œ ì˜ˆì‹œ"},{"content":"ê°œìš” KISSëŠ” Keep It Simple, Stupid ë˜ëŠ” Keep It Simple and Straightforwardì˜ ì•½ìì´ë©° 1960ë…„ëŒ€ ë¯¸ í•´êµ°ì—ì„œ ì¶œë°œí•œ ì„¤ê³„ ì›ì¹™ì…ë‹ˆë‹¤. ì†Œí”„íŠ¸ì›¨ì–´ì—ì„œëŠ” ë¶ˆí•„ìš”í•œ ë³µì¡ì„±ì„ ì œê±°í•˜ê³  ì´í•´ì™€ ë³€ê²½ì´ ì‰¬ìš´ êµ¬ì¡°ë¥¼ ì§€í–¥í•©ë‹ˆë‹¤. ëª©í‘œëŠ” ì ì€ ê°œë…ê³¼ ì§§ì€ ê²½ë¡œë¡œ ê°™ì€ ê°€ì¹˜ë¥¼ ì œê³µí•˜ëŠ” ì‹œìŠ¤í…œì„ ë§Œë“œëŠ” ê²ƒì„\ní•µì‹¬ ê°œë… ë‹¨ìˆœí•¨ ì¶”êµ¬: í•„ìš” ìµœì†Œì˜ ê°œë…, ê·œì¹™, êµ¬ì„± ìš”ì†Œ ìœ ì§€ ì´í•´ ìš©ì´ì„±: ì½ê³  ì¶”ë¡ í•˜ê¸° ì‰¬ìš´ íë¦„ê³¼ ëª…ëª… ìœ ì§€ë³´ìˆ˜ ìš©ì´ì„±: ì‘ì§‘ë„ ë†’ì´ê³  ê²°í•©ë„ ë‚®ì¶° ë³€ê²½ ì˜í–¥ ìµœì†Œí™” ì ìš© ë°©ë²• ì²˜ìŒë¶€í„° ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í¬ê´„í•˜ë ¤ í•˜ì§€ ë§ê³  í˜„ì¬ ìš”êµ¬ì— ë§ì¶˜ ìµœì†Œ ê¸°ëŠ¥ìœ¼ë¡œ ì‹œì‘ í° ë§ŒëŠ¥ ëª¨ë“ˆ ëŒ€ì‹  ì‘ê³  ì—­í• ì´ ë¶„ë¦¬ëœ êµ¬ì„±ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ê³µê°œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìµœì†Œí™”í•˜ê³  ê¸°ë³¸ê°’ì„ í•©ë¦¬ì ìœ¼ë¡œ ì„¤ê³„ ë°ì´í„° íë¦„ì„ ë‹¨ë°©í–¥ìœ¼ë¡œ ë‹¨ìˆœí™”í•˜ê³  ì˜ˆì™¸ ê²½ë¡œëŠ” ëª…ì‹œì ìœ¼ë¡œ ì²˜ë¦¬ ê´€ë ¨ ì›ì¹™ DRY: ì¤‘ë³µ ì œê±°ë¡œ ë³€ê²½ ë¹„ìš©ê³¼ ì˜¤ë¥˜ ê°€ëŠ¥ì„± ê°ì†Œ YAGNI: ì§€ê¸ˆ í•„ìš” ì—†ëŠ” ê¸°ëŠ¥ì€ ë§Œë“¤ì§€ ì•ŠìŒ ê°„ë‹¨ ì˜ˆì‹œ ëª¨ë“  ì˜µì…˜ì„ ë°›ëŠ” doSomething(config) í•˜ë‚˜ë¡œ ì²˜ë¦¬í•˜ë ¤ëŠ” ìœ í˜¹ì„ ê²½ê³„. ëŒ€ì‹  doSimpleA, doSimpleBì²˜ëŸ¼ ëª…í™•í•œ ì—­í• ì˜ ì‘ì€ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ê³  ê¸°ë³¸ ë™ì‘ì„ ì•ˆì „í•˜ê²Œ ì„¤ê³„í•¨. ì„¤ì •ì´ ê¼­ í•„ìš”í•  ë•Œë§Œ ì œí•œëœ í˜•íƒœë¡œ ë…¸ì¶œ\nì£¼ì˜ì™€ í•œê³„ ì§€ë‚˜ì¹œ ë‹¨ìˆœí™”ëŠ” ìš”êµ¬ ì‚¬í•­ì„ ë†“ì¹˜ê±°ë‚˜ ì„±ëŠ¥ ë³‘ëª©ì„ ìˆ¨ê¸¸ ìˆ˜ ìˆìŒ. ë‹¨ìˆœí•¨ì€ ê¸°ëŠ¥ í¬ê¸°ë‚˜ ì„ì‹œë°©í¸ì´ ì•„ë‹ˆë¼ í•µì‹¬ì„ ë¶„ë¦¬í•˜ê³  ë¶ˆí•„ìš”ë¥¼ ê±·ì–´ë‚´ëŠ” êµ¬ì¡°ì  ì„ íƒì´ì–´ì•¼ í•¨. ë³€ê²½ ê°€ëŠ¥ì„±, ìš´ì˜ í™˜ê²½, íŒ€ ì—­ëŸ‰ ê°™ì€ ì œì•½ì„ ê³ ë ¤í•´ ê· í˜• ì¡íŒ íŠ¸ë ˆì´ë“œì˜¤í”„ ì„¤ê³„ í•„ìš”\në§ˆë¬´ë¦¬ KISSì˜ ë³¸ì§ˆì€ ëœ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë” ì˜ í•˜ëŠ” ê²ƒì— ìˆìŒ. ì‘ê²Œ ì‹œì‘í•˜ê³  ë°˜ë³µì ìœ¼ë¡œ ë‹¤ë“¬ìœ¼ë©´ì„œ ë³µì¡ì„±ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì»¤ì§€ì§€ ì•Šë„ë¡ ê²½ê³„í•˜ëŠ” ìŠµê´€ì´ ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥í•œ ì½”ë“œë² ì´ìŠ¤ë¥¼ ë§Œë“ ë‹¤ í•¨\nì°¸ê³ ìë£Œ https://en.wikipedia.org/wiki/KISS_principle https://en.wikipedia.org/wiki/Don%27t_repeat_yourself https://martinfowler.com/bliki/Yagni.html ","permalink":"https://blog.jsontapose.com/posts/kiss-principle-software-design-799a74/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eKISSëŠ” Keep It Simple, Stupid ë˜ëŠ” Keep It Simple and Straightforwardì˜ ì•½ìì´ë©° 1960ë…„ëŒ€ ë¯¸ í•´êµ°ì—ì„œ ì¶œë°œí•œ ì„¤ê³„ ì›ì¹™ì…ë‹ˆë‹¤. ì†Œí”„íŠ¸ì›¨ì–´ì—ì„œëŠ” ë¶ˆí•„ìš”í•œ ë³µì¡ì„±ì„ ì œê±°í•˜ê³  ì´í•´ì™€ ë³€ê²½ì´ ì‰¬ìš´ êµ¬ì¡°ë¥¼ ì§€í–¥í•©ë‹ˆë‹¤. ëª©í‘œëŠ” ì ì€ ê°œë…ê³¼ ì§§ì€ ê²½ë¡œë¡œ ê°™ì€ ê°€ì¹˜ë¥¼ ì œê³µí•˜ëŠ” ì‹œìŠ¤í…œì„ ë§Œë“œëŠ” ê²ƒì„\u003c/p\u003e\n\u003ch3 id=\"í•µì‹¬-ê°œë…\"\u003eí•µì‹¬ ê°œë…\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eë‹¨ìˆœí•¨ ì¶”êµ¬: í•„ìš” ìµœì†Œì˜ ê°œë…, ê·œì¹™, êµ¬ì„± ìš”ì†Œ ìœ ì§€\u003c/li\u003e\n\u003cli\u003eì´í•´ ìš©ì´ì„±: ì½ê³  ì¶”ë¡ í•˜ê¸° ì‰¬ìš´ íë¦„ê³¼ ëª…ëª…\u003c/li\u003e\n\u003cli\u003eìœ ì§€ë³´ìˆ˜ ìš©ì´ì„±: ì‘ì§‘ë„ ë†’ì´ê³  ê²°í•©ë„ ë‚®ì¶° ë³€ê²½ ì˜í–¥ ìµœì†Œí™”\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ì ìš©-ë°©ë²•\"\u003eì ìš© ë°©ë²•\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eì²˜ìŒë¶€í„° ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ë¥¼ í¬ê´„í•˜ë ¤ í•˜ì§€ ë§ê³  í˜„ì¬ ìš”êµ¬ì— ë§ì¶˜ ìµœì†Œ ê¸°ëŠ¥ìœ¼ë¡œ ì‹œì‘\u003c/li\u003e\n\u003cli\u003eí° ë§ŒëŠ¥ ëª¨ë“ˆ ëŒ€ì‹  ì‘ê³  ì—­í• ì´ ë¶„ë¦¬ëœ êµ¬ì„±ìœ¼ë¡œ ë‚˜ëˆ„ê¸°\u003c/li\u003e\n\u003cli\u003eê³µê°œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìµœì†Œí™”í•˜ê³  ê¸°ë³¸ê°’ì„ í•©ë¦¬ì ìœ¼ë¡œ ì„¤ê³„\u003c/li\u003e\n\u003cli\u003eë°ì´í„° íë¦„ì„ ë‹¨ë°©í–¥ìœ¼ë¡œ ë‹¨ìˆœí™”í•˜ê³  ì˜ˆì™¸ ê²½ë¡œëŠ” ëª…ì‹œì ìœ¼ë¡œ ì²˜ë¦¬\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ê´€ë ¨-ì›ì¹™\"\u003eê´€ë ¨ ì›ì¹™\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eDRY: ì¤‘ë³µ ì œê±°ë¡œ ë³€ê²½ ë¹„ìš©ê³¼ ì˜¤ë¥˜ ê°€ëŠ¥ì„± ê°ì†Œ\u003c/li\u003e\n\u003cli\u003eYAGNI: ì§€ê¸ˆ í•„ìš” ì—†ëŠ” ê¸°ëŠ¥ì€ ë§Œë“¤ì§€ ì•ŠìŒ\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ê°„ë‹¨-ì˜ˆì‹œ\"\u003eê°„ë‹¨ ì˜ˆì‹œ\u003c/h3\u003e\n\u003cp\u003eëª¨ë“  ì˜µì…˜ì„ ë°›ëŠ” doSomething(config) í•˜ë‚˜ë¡œ ì²˜ë¦¬í•˜ë ¤ëŠ” ìœ í˜¹ì„ ê²½ê³„. ëŒ€ì‹  doSimpleA, doSimpleBì²˜ëŸ¼ ëª…í™•í•œ ì—­í• ì˜ ì‘ì€ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ê³  ê¸°ë³¸ ë™ì‘ì„ ì•ˆì „í•˜ê²Œ ì„¤ê³„í•¨. ì„¤ì •ì´ ê¼­ í•„ìš”í•  ë•Œë§Œ ì œí•œëœ í˜•íƒœë¡œ ë…¸ì¶œ\u003c/p\u003e","title":"KISS ì›ë¦¬: ì†Œí”„íŠ¸ì›¨ì–´ ì„¤ê³„ì—ì„œ ë¶ˆí•„ìš”í•œ ë³µì¡ì„± ì¤„ì´ê¸°"},{"content":"ê°œë…/ë°°ê²½ ParametersëŠ” TypeScriptê°€ ì œê³µí•˜ëŠ” ì œë„¤ë¦­ ìœ í‹¸ë¦¬í‹° íƒ€ì…ìœ¼ë¡œ, íŠ¹ì • í•¨ìˆ˜ íƒ€ì…ì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ë“¤ì„ íŠœí”Œë¡œ ì¶”ì¶œí•˜ëŠ” ë° ì‚¬ìš©ë¨ í•¨ìˆ˜ ë˜í•‘, ê³ ì°¨ í•¨ìˆ˜, ì–´ëŒ‘í„° ê³„ì¸µì—ì„œ ê¸°ì¡´ í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì¬ì‚¬ìš©í•´ íƒ€ì… ì•ˆì •ì„±ì„ ìœ ì§€í•˜ê³  ì¤‘ë³µ ì„ ì–¸ì„ ì¤„ì´ëŠ” ëª©ì ì— ì í•©í•¨\në¬¸ë²• type Parameters\u0026lt;T extends (...args: any) =\u0026gt; any\u0026gt; = T extends (...args: infer P) =\u0026gt; any ? P : never Tê°€ í•¨ìˆ˜ íƒ€ì…ì´ë©´ ë§¤ê°œë³€ìˆ˜ ëª©ë¡ì„ íŠœí”Œ íƒ€ì… Pë¡œ ì¶”ì¶œ Tê°€ í•¨ìˆ˜ íƒ€ì…ì´ ì•„ë‹ˆë©´ never ë°˜í™˜ ì¶”ì¶œ ê²°ê³¼ëŠ” íŠœí”Œì´ë¯€ë¡œ ì¸ë±ìŠ¤ ì ‘ê·¼, ìŠ¤í”„ë ˆë“œ, ë¶€ë¶„ ì ìš© ë“± íŠœí”Œ ì—°ì‚°ê³¼ ì¡°í•© ê°€ëŠ¥ ì‚¬ìš© ì˜ˆì‹œ ê¸°ë³¸ ì¶”ì¶œ\nfunction greet(name: string, age: number) { return `Hello, ${name}. You are ${age} years old` } type GreetParameters = Parameters\u0026lt;typeof greet\u0026gt; // [name: string, age: number] ë§¤ê°œë³€ìˆ˜ íƒ€ì… ì¬ì‚¬ìš©\ntype GreetParameters = Parameters\u0026lt;typeof greet\u0026gt; const newGreet = (...args: GreetParameters) =\u0026gt; greet(...args) ìœ„ì™€ ê°™ì´ ìŠ¤í”„ë ˆë“œì™€ ê²°í•©í•´ ê¸°ì¡´ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ ì‹œê·¸ë‹ˆì²˜ë¥¼ ê·¸ëŒ€ë¡œ ë³´ì¡´í•˜ëŠ” ë˜í¼ë¥¼ ì‘ì„± ê°€ëŠ¥í•¨ ì‹œê·¸ë‹ˆì²˜ ë³€ê²½ ì‹œ ì»´íŒŒì¼ ì‹œì ì— íŒŒê¸‰ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë¯€ë¡œ íƒ€ì… ë“œë¦¬í”„íŠ¸ë¥¼ ë°©ì§€í•˜ëŠ” íš¨ê³¼ê°€ ìˆìŒ\në¹„ë™ê¸° í•¨ìˆ˜ì—ë„ ë™ì¼í•˜ê²Œ ì ìš© ê°€ëŠ¥í•¨ ë§¤ê°œë³€ìˆ˜ ì¶”ì¶œì€ ë°˜í™˜ íƒ€ì…ê³¼ ë¬´ê´€í•˜ë©° Promise ì—¬ë¶€ì— ì˜í–¥ ë°›ì§€ ì•ŠìŒ\në™ì‘ í¬ì¸íŠ¸ infer í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•œ ì¡°ê±´ë¶€ íƒ€ì…ìœ¼ë¡œ ë§¤ê°œë³€ìˆ˜ íŠœí”Œ Pë¥¼ ë„ì¶œí•˜ëŠ” êµ¬ì¡° íŠœí”Œì— ë¼ë²¨ì´ í‘œì‹œë  ìˆ˜ ìˆìœ¼ë‚˜ ë¼ë²¨ì€ ê°€ë…ì„± ë³´ì¡° ìš”ì†Œì´ë©° íƒ€ì… í˜¸í™˜ì„±ì—ëŠ” ì˜í–¥ì´ í¬ì§€ ì•ŠìŒ anyì— ëŒ€í•œ ParametersëŠ” any[]ë¡œ ê°„ì£¼ë  ìˆ˜ ìˆì–´ íƒ€ì… ì•ˆì „ì„±ì´ ì•½í•´ì§ ê°€ëŠ¥í•œ í•œ êµ¬ì²´ì ì¸ í•¨ìˆ˜ íƒ€ì…ì„ ëŒ€ìƒìœ¼ë¡œ ì‚¬ìš© ê¶Œì¥ ì£¼ì˜ ì‚¬í•­ í•¨ìˆ˜ íƒ€ì…ì´ ì•„ë‹Œ ì…ë ¥ì€ í•­ìƒ neverê°€ ë¨ type NotAFunction = Parameters\u0026lt;number\u0026gt; // never ì˜¤ë²„ë¡œë“œê°€ ìˆëŠ” í•¨ìˆ˜ íƒ€ì…ì„ ëŒ€ìƒìœ¼ë¡œ ì‚¬ìš©í•  ë•Œ ì˜ë„í•œ ì‹œê·¸ë‹ˆì²˜ì™€ ì¶”ì¶œ ê²°ê³¼ê°€ ì–´ê¸‹ë‚  ìˆ˜ ìˆìŒ ê°€ëŠ¥í•œ í•œ ëª…ì‹œì ì¸ í•¨ìˆ˜ íƒ€ì… ë³„ì¹­ì„ ë§Œë“¤ì–´ ë‘ê³  í•´ë‹¹ íƒ€ì…ì— ëŒ€í•´ Parametersë¥¼ ì ìš©í•˜ëŠ” ë°©ì‹ ê¶Œì¥ ë§¤ê°œë³€ìˆ˜ì— this ë°”ì¸ë”© íƒ€ì…ì´ ìˆëŠ” í•¨ìˆ˜ì˜ ê²½ìš°, í˜¸ì¶œ ì‹œê·¸ë‹ˆì²˜ ì •ì˜ ë°©ì‹ì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŒ this íŒŒë¼ë¯¸í„°ë¥¼ ë¶„ë¦¬í•œ í˜¸ì¶œ ì‹œê·¸ë‹ˆì²˜ë¥¼ ëª…ì‹œí•´ ì˜ˆì¸¡ ê°€ëŠ¥ì„± í™•ë³´ ê¶Œì¥ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ê¸°ì¡´ í•¨ìˆ˜ì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì„ ì¬ì‚¬ìš©í•˜ëŠ” ë˜í¼, í”„ë½ì‹œ, ë°ì½”ë ˆì´í„°, ë¡œê¹… í—¬í¼ ë“±ì— ì ê·¹ í™œìš© API ê²½ê³„ì—ì„œ ì…ë ¥ ê²€ì¦ ë¡œì§ê³¼ íƒ€ì…ì„ ì¼ì¹˜ì‹œí‚¤ê¸° ìœ„í•´ Parameters ê²°ê³¼ë¥¼ í¼ íŒŒì„œë‚˜ ë°¸ë¦¬ë°ì´í„°ì™€ ì—°ê³„ íŒ€ ê·œì¹™ìœ¼ë¡œ anyë¥¼ í—ˆìš©í•˜ëŠ” Parameters ì‚¬ìš©ì„ ì œí•œí•˜ê³ , êµ¬ì²´ íƒ€ì… ê¸°ë°˜ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ë„ë¡ ê°€ì´ë“œ ë§ˆë¬´ë¦¬ ParametersëŠ” í•¨ìˆ˜ íƒ€ì…ì˜ ë§¤ê°œë³€ìˆ˜ ëª©ë¡ì„ íŠœí”Œë¡œ ì¶”ì¶œí•´ ì¬ì‚¬ìš©ì„±ê³¼ íƒ€ì… ì•ˆì „ì„±ì„ ë™ì‹œì— í™•ë³´í•˜ëŠ” ìœ í‹¸ë¦¬í‹° íƒ€ì…ì„ ì¡°ê±´ë¶€ íƒ€ì…ê³¼ inferë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•˜ë©°, í•¨ìˆ˜ê°€ ì•„ë‹Œ íƒ€ì…ì—ëŠ” neverë¥¼ ë°˜í™˜í•¨ ê³¼ë„í•œ ì¤‘ë³µ ì„ ì–¸ì„ ì¤„ì´ê³  ë˜í¼ í•¨ìˆ˜ì˜ íƒ€ì… ë“œë¦¬í”„íŠ¸ë¥¼ ë°©ì§€í•˜ëŠ” ë° ì‹¤ìš©ì ì„\nì°¸ê³ ìë£Œ https://www.typescriptlang.org/docs/handbook/utility-types.html#parameterst https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-0.html#labeled-tuple-elements ","permalink":"https://blog.jsontapose.com/posts/typescript-parameters-utility-type-913b5f/","summary":"\u003ch3 id=\"ê°œë…ë°°ê²½\"\u003eê°œë…/ë°°ê²½\u003c/h3\u003e\n\u003cp\u003eParametersëŠ” TypeScriptê°€ ì œê³µí•˜ëŠ” ì œë„¤ë¦­ ìœ í‹¸ë¦¬í‹° íƒ€ì…ìœ¼ë¡œ, íŠ¹ì • í•¨ìˆ˜ íƒ€ì…ì˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ë“¤ì„ íŠœí”Œë¡œ ì¶”ì¶œí•˜ëŠ” ë° ì‚¬ìš©ë¨\ní•¨ìˆ˜ ë˜í•‘, ê³ ì°¨ í•¨ìˆ˜, ì–´ëŒ‘í„° ê³„ì¸µì—ì„œ ê¸°ì¡´ í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ë¥¼ ì¬ì‚¬ìš©í•´ íƒ€ì… ì•ˆì •ì„±ì„ ìœ ì§€í•˜ê³  ì¤‘ë³µ ì„ ì–¸ì„ ì¤„ì´ëŠ” ëª©ì ì— ì í•©í•¨\u003c/p\u003e\n\u003ch3 id=\"ë¬¸ë²•\"\u003eë¬¸ë²•\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-typescript\" data-lang=\"typescript\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003etype\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eParameters\u003c/span\u003e\u0026lt;\u003cspan style=\"color:#f92672\"\u003eT\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eextends\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003e...args\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eany\u003c/span\u003e\u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e)\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003e=\u003c/span\u003e\u0026gt; \u003cspan style=\"color:#66d9ef\"\u003eany\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eT\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eextends\u003c/span\u003e (...\u003cspan style=\"color:#a6e22e\"\u003eargs\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003einfer\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eP\u003c/span\u003e) \u003cspan style=\"color:#f92672\"\u003e=\u0026gt;\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eany\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e?\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eP\u003c/span\u003e : \u003cspan style=\"color:#66d9ef\"\u003enever\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\n\u003cli\u003eTê°€ í•¨ìˆ˜ íƒ€ì…ì´ë©´ ë§¤ê°œë³€ìˆ˜ ëª©ë¡ì„ íŠœí”Œ íƒ€ì… Pë¡œ ì¶”ì¶œ\u003c/li\u003e\n\u003cli\u003eTê°€ í•¨ìˆ˜ íƒ€ì…ì´ ì•„ë‹ˆë©´ never ë°˜í™˜\u003c/li\u003e\n\u003cli\u003eì¶”ì¶œ ê²°ê³¼ëŠ” íŠœí”Œì´ë¯€ë¡œ ì¸ë±ìŠ¤ ì ‘ê·¼, ìŠ¤í”„ë ˆë“œ, ë¶€ë¶„ ì ìš© ë“± íŠœí”Œ ì—°ì‚°ê³¼ ì¡°í•© ê°€ëŠ¥\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ì‚¬ìš©-ì˜ˆì‹œ\"\u003eì‚¬ìš© ì˜ˆì‹œ\u003c/h3\u003e\n\u003cp\u003eê¸°ë³¸ ì¶”ì¶œ\u003c/p\u003e","title":"TypeScript Parameters ìœ í‹¸ë¦¬í‹° íƒ€ì… ê°œë…ê³¼ ì•ˆì „í•œ í™œìš©"},{"content":"ê°œìš” InnoDB ë²„í¼ í’€ì€ ë°ì´í„°ì™€ ì¸ë±ìŠ¤ í˜ì´ì§€ë¥¼ ë©”ëª¨ë¦¬ì— ìºì‹±í•˜ëŠ” ì˜ì—­ì„ ë””ìŠ¤í¬ I/Oë¥¼ íšê¸°ì ìœ¼ë¡œ ì¤„ì—¬ ì§€ì—° ì‹œê°„ì„ ë‚®ì¶”ëŠ” ê²Œ ëª©ì ì„ InnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„(íŠ¸ëœì­ì…˜, MVCC, í–‰ ë‹¨ìœ„ ë½ ì§€ì›) ì„±ëŠ¥ì˜ ì‹¬ì¥ë¶€ë¼ í•  ìˆ˜ ìˆìŒ\nì‰½ê²Œ ë§í•´, ìì£¼ ì“°ëŠ” ë°ì´í„°ì™€ ì¸ë±ìŠ¤ë¥¼ ë””ìŠ¤í¬ ëŒ€ì‹  ë©”ëª¨ë¦¬ì— ì˜¬ë ¤ë‘ê³  ì²˜ë¦¬í•˜ëŠ” êµ¬ì¡°ì„\në²„í¼ í’€ êµ¬ì„± ìš”ì†Œ ë²„í¼ í’€ì—ëŠ” ì£¼ë¡œ ì´ëŸ° í˜ì´ì§€(ê¸°ë³¸ 16KB)ê°€ ì˜¬ë¼ì˜´\në°ì´í„° í˜ì´ì§€: ì‹¤ì œ í…Œì´ë¸” ë¡œìš°(Row)ê°€ ì €ì¥ëœ í˜ì´ì§€ ì¸ë±ìŠ¤ í˜ì´ì§€: B-Tree ì¸ë±ìŠ¤ ë…¸ë“œ í˜ì´ì§€ (PK ë° ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ í¬í•¨) ê¸°íƒ€ ê´€ë¦¬ í˜ì´ì§€: UNDO í˜ì´ì§€, íŠ¸ëœì­ì…˜/MVCC ê´€ë¦¬ì— í•„ìš”í•œ ë©”íƒ€ë°ì´í„° ë“± í•µì‹¬ ê°œë… í˜ì´ì§€ ìºì‹± InnoDBëŠ” ë””ìŠ¤í¬ ë°ì´í„°ë¥¼ í˜ì´ì§€ ë‹¨ìœ„ë¡œ ë‹¤ë£¸ í´ë¼ì´ì–¸íŠ¸ê°€ íŠ¹ì • ë¡œìš°ë¥¼ ì½ê³  ì‹¶ì–´ í•˜ë©´, ê·¸ ë¡œìš°ê°€ ì†í•œ í˜ì´ì§€ ì „ì²´ë¥¼ ë²„í¼ í’€ë¡œ ê°€ì ¸ì˜´ ì´í›„ ê°™ì€ í˜ì´ì§€ì— ìˆëŠ” ë‹¤ë¥¸ ë¡œìš°ë¥¼ ì½ì„ ë•ŒëŠ” ë””ìŠ¤í¬ë¥¼ ë‹¤ì‹œ ë³´ì§€ ì•Šê³  ë²„í¼ í’€(ë©”ëª¨ë¦¬)ì—ì„œ ë°”ë¡œ ì¡°íšŒí•¨\në”í‹° í˜ì´ì§€ì™€ ì“°ê¸° ì§€ì—° ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë°ì´í„°ë¥¼ ë³€ê²½(INSERT, UPDATE)í•˜ë©´,\në²„í¼ í’€ì— ì ì¬ëœ í˜ì´ì§€ê°€ ë©”ëª¨ë¦¬ìƒì—ì„œ ë¨¼ì € ìˆ˜ì •ë¨ ì´ í˜ì´ì§€ëŠ” \u0026lsquo;ë”í‹° í˜ì´ì§€(Dirty Page)\u0026rsquo;(ë””ìŠ¤í¬ì™€ ë‚´ìš©ì´ ë‹¤ë¥¸ ìƒíƒœ)ë¡œ í‘œì‹œë¨ ë³€ê²½ ë‚´ìš©ì€ ì¦‰ì‹œ ë””ìŠ¤í¬ ë°ì´í„° íŒŒì¼ì— ì“°ì§€ ì•Šê³ , ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œê°€ ëª¨ì•„ì„œ(Batch) ë””ìŠ¤í¬ì— ë°˜ì˜(Flush)í•¨ ì´ë ‡ê²Œ ëª¨ì•„ì„œ ì“°ë©´ ëœë¤ I/Oë¥¼ ì¤„ì´ê³ , ë””ìŠ¤í¬ ì“°ê¸° íš¨ìœ¨ì„ ì˜¬ë¦´ ìˆ˜ ìˆìŒ\në¦¬ë‘ ë¡œê·¸ (Redo Log) InnoDBëŠ” WAL(Write-Ahead Logging) ë°©ì‹ì„ ì‚¬ìš©í•¨ ë°ì´í„° í˜ì´ì§€ë¥¼ ë””ìŠ¤í¬ì— ì“°ê¸° ì „ì—, ë¨¼ì € ë¦¬ë‘ ë¡œê·¸ì— ë³€ê²½ ë‚´ìš©ì„ ê¸°ë¡í•¨\níŠ¸ëœì­ì…˜ ì»¤ë°‹ íë¦„ ìš”ì•½\në²„í¼ í’€ì˜ í˜ì´ì§€ ìˆ˜ì • (â†’ ë”í‹° í˜ì´ì§€) ë¦¬ë‘ ë¡œê·¸ ë²„í¼ì— ë³€ê²½ ë‚´ì—­ ê¸°ë¡ ì»¤ë°‹ ì‹œì : ë¦¬ë‘ ë¡œê·¸ë¥¼ ë””ìŠ¤í¬ë¡œ ë™ê¸°í™” (fsync) ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì»¤ë°‹ ì„±ê³µ ì‘ë‹µ (ì´í›„) ë”í‹° í˜ì´ì§€ëŠ” ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì²œì²œíˆ ë””ìŠ¤í¬ì— í”ŒëŸ¬ì‹œ ì„œë²„ê°€ í¬ë˜ì‹œ ë‚˜ë„, ë””ìŠ¤í¬ì— ë°˜ì˜ ì•ˆ ëœ ë”í‹° í˜ì´ì§€ ë‚´ìš©ì€ ë¦¬ë‘ ë¡œê·¸ë¥¼ ì ìš©í•´ ë³µêµ¬í•  ìˆ˜ ìˆìŒ (ì¼ê´€ì„± ë³´ì¥)\nLRU ê¸°ë°˜ í˜ì´ì§€ êµì²´ ë²„í¼ í’€ í¬ê¸°ëŠ” í•œì •ë˜ì–´ ìˆì–´, ìƒˆ í˜ì´ì§€ë¥¼ ë¡œë“œí•  ìë¦¬ê°€ ì—†ìœ¼ë©´ ê¸°ì¡´ í˜ì´ì§€ë¥¼ êµì²´(Eviction)í•´ì•¼ í•¨ InnoDBëŠ” ë‹¨ìˆœ LRUê°€ ì•„ë‹Œ, LRU ë¦¬ìŠ¤íŠ¸ë¥¼ \u0026ldquo;Young ì˜ì—­\u0026quot;ê³¼ \u0026ldquo;Old ì˜ì—­\u0026quot;ìœ¼ë¡œ ë‚˜ëˆ„ëŠ” ë³€í˜•ëœ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•¨ (ì´ëŠ” Full Table Scan ê°™ì€ ëŒ€ìš©ëŸ‰ ìˆœì°¨ ìŠ¤ìº”ì´ ë²„í¼ í’€ì˜ \u0026lsquo;í•« ë°ì´í„°\u0026rsquo;ë¥¼ ë°€ì–´ë‚´ëŠ” ìƒí™©ì„ ë°©ì§€í•˜ê¸° ìœ„í•¨)\ní•µì‹¬ì€ \u0026ldquo;ìµœê·¼ì— ìì£¼ ì“°ì¸ í˜ì´ì§€ëŠ” ì˜¤ë˜ ë‚¨ê¸°ê³ , ì˜¤ë˜ ì•ˆ ì“°ì¸ í˜ì´ì§€ë¶€í„° ë‚´ë³´ë‚¸ë‹¤\u0026quot;ëŠ” ê²ƒ\nì½ê¸°/ì“°ê¸° ë™ì‘ íë¦„ ì½ê¸° ê²½ë¡œ í´ë¼ì´ì–¸íŠ¸ê°€ íŠ¹ì • ë°ì´í„° ì¡°íšŒ ìš”ì²­ InnoDBê°€ í•´ë‹¹ í˜ì´ì§€ê°€ ë²„í¼ í’€ì— ìˆëŠ”ì§€ í™•ì¸ ìˆìœ¼ë©´ (Cache Hit): ë©”ëª¨ë¦¬ì—ì„œ ì¦‰ì‹œ ë°˜í™˜ (ë§¤ìš° ë¹ ë¦„) ì—†ìœ¼ë©´ (Cache Miss): ë””ìŠ¤í¬ì—ì„œ í˜ì´ì§€ë¥¼ ì½ì–´ì™€ ë²„í¼ í’€ì— ì ì¬ í›„ ë°˜í™˜ (ëŠë¦¼) â†’ ë²„í¼ í’€ íˆíŠ¸ìœ¨(Hit Rate)ì´ ë†’ì„ìˆ˜ë¡ ë””ìŠ¤í¬ I/Oê°€ ì¤„ì–´ ì„±ëŠ¥ì´ ì¢‹ì•„ì§ ì“°ê¸° ê²½ë¡œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ë©´ ë²„í¼ í’€ì˜ í˜ì´ì§€ì— ë¨¼ì € ë°˜ì˜ (â†’ ë”í‹° í˜ì´ì§€ê°€ ë¨) ë³€ê²½ ë‚´ìš©ì´ ë¦¬ë‘ ë¡œê·¸ì— ê¸°ë¡ë¨ ì»¤ë°‹ ì‹œì : ë¦¬ë‘ ë¡œê·¸ê°€ ìš°ì„  ë””ìŠ¤í¬ì— ì•ˆì „í•˜ê²Œ ê¸°ë¡ë¨ (ì• í”Œë¦¬ì¼€ì´ì…˜ ì‘ë‹µ ì™„ë£Œ) ë”í‹° í˜ì´ì§€ ìì²´ëŠ” ë°±ê·¸ë¼ìš´ë“œ ìŠ¤ë ˆë“œ(Page Cleaner)ê°€ ë””ìŠ¤í¬ë¡œ ì²œì²œíˆ ë‚´ë ¤ ë³´ëƒ„ (ì²´í¬í¬ì¸íŠ¸ ê´€ë¦¬) ì´ êµ¬ì¡° ë•ë¶„ì— ì“°ê¸° íŠ¸ëœì­ì…˜ì´ ë§ì•„ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ë¹„êµì  ë¹ ë¥´ê²Œ ì»¤ë°‹ ì‘ë‹µì„ ë°›ì„ ìˆ˜ ìˆìŒ\në²„í¼ í’€ í¬ê¸° ì„¤ì • ê¸°ë³¸ ì›ì¹™ innodb_buffer_pool_size ê°’ì€ ì „ì²´ RAM, ì›Œí¬ë¡œë“œ íŠ¹ì„±, ê°™ì€ ì„œë²„ì—ì„œ ëŒì•„ê°€ëŠ” ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ë¥¼ ëª¨ë‘ ê³ ë ¤í•´ì„œ ì¡ì•„ì•¼ í•¨ ì „í˜•ì ì¸ ì „ìš© DB ì„œë²„ ê¸°ì¤€, ëŸ¬í”„í•˜ê²Œ ì „ì²´ ë©”ëª¨ë¦¬ì˜ 50%~75% ì •ë„ë¥¼ í• ë‹¹í•¨\nìŠ¤ì™‘(Swap)ì€ ì ˆëŒ€ ê¸ˆë¬¼ ë²„í¼ í’€ í¬ê¸°ë¥¼ ìš•ì‹¬ë‚´ì„œ í¬ê²Œ ì¡ì•˜ë‹¤ê°€ OS ìŠ¤ì™‘ì´ ë°œìƒí•˜ë©´, ë©”ëª¨ë¦¬ê°€ ë””ìŠ¤í¬ì²˜ëŸ¼ ë™ì‘í•˜ê²Œ ë˜ì–´ ì„±ëŠ¥ì´ ê¸‰ê²©íˆ ë‚˜ë¹ ì§ \u0026ldquo;ë²„í¼ í’€ íˆíŠ¸ìœ¨ ì¡°ê¸ˆ ë” ë†’ì´ê¸°\u0026quot;ë³´ë‹¤ \u0026ldquo;ì ˆëŒ€ ìŠ¤ì™‘ ì•ˆ ë‚˜ê²Œ í•˜ê¸°\u0026quot;ë¥¼ ìš°ì„ í•˜ëŠ” ê²Œ ì•ˆì „í•¨\në²„í¼ í’€ ì¸ìŠ¤í„´ìŠ¤ ëŒ€ìš©ëŸ‰ ë²„í¼ í’€(ìˆ˜ì‹­ GB ì´ìƒ)ì¼ ê²½ìš°, innodb_buffer_pool_instancesë¥¼ ì¡°ì •í•˜ì—¬ ë²„í¼ í’€ì„ ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë‚˜ëˆ„ë©´ ë½ ê²½í•©ì„ ì¤„ì—¬ ë™ì‹œì„± í–¥ìƒì— ë„ì›€ì´ ë  ìˆ˜ ìˆìŒ\nëª¨ë‹ˆí„°ë§ ì§€í‘œì™€ íŠœë‹ ë²„í¼ í’€ íˆíŠ¸ìœ¨ ë†’ì€ íˆíŠ¸ìœ¨(ì˜ˆ: 99% ì´ìƒ)ì€ ë””ìŠ¤í¬ I/Oê°€ ì ë‹¤ëŠ” ëœ» SHOW ENGINE INNODB STATUSë¡œ í™•ì¸ ê°€ëŠ¥í•¨ ì›Œí¬ë¡œë“œ ìì²´ê°€ ë””ìŠ¤í¬ë¥¼ ë§ì´ íƒ€ëŠ”ì§€, ì½ê¸° íŒ¨í„´ì´ ì–´ë–¤ì§€ ê°™ì´ ë´ì•¼ í•¨\në”í‹° í˜ì´ì§€ ë¹„ìœ¨ ë”í‹° í˜ì´ì§€ê°€ ë„ˆë¬´ ë§ì´ ìŒ“ì´ë©´(ì˜ˆ: innodb_max_dirty_pages_pct), í”ŒëŸ¬ì‹œ ì‘ì—…ì´ ëª°ë ¤ì„œ ë””ìŠ¤í¬ê°€ ê°‘ìê¸° ë°”ë¹ ì§€ê³  ì‘ë‹µ ì§€ì—°ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ innodb_io_capacity ë“±ì„ ì¡°ì ˆí•´ ë”í‹° í˜ì´ì§€ê°€ ì ì • ìˆ˜ì¤€ì—ì„œ ê¾¸ì¤€íˆ í”ŒëŸ¬ì‹œë˜ë„ë¡ ìœ ë„í•´ì•¼ í•¨\nì •ë¦¬ ë²„í¼ í’€ì€ ì½ê¸°(ìºì‹±)ì™€ ì“°ê¸°(ì§€ì—°/ë°°ì¹˜) ì„±ëŠ¥ì„ ëª¨ë‘ ì±…ì„ì§€ëŠ” InnoDBì˜ í•µì‹¬ì„ ìš´ì˜ ì‹œì—ëŠ” ìŠ¤ì™‘ì´ ë‚˜ì§€ ì•ŠëŠ” ë³´ìˆ˜ì ì¸ í¬ê¸°ì—ì„œ ì‹œì‘í•˜ê³ , ëª¨ë‹ˆí„°ë§ ì§€í‘œ(íˆíŠ¸ìœ¨, ë”í‹° í˜ì´ì§€, í”ŒëŸ¬ì‹œ ì§€ì—°)ë¥¼ ê·¼ê±°ë¡œ ì ì§„ì ìœ¼ë¡œ ì¡°ì •í•˜ëŠ” ì ‘ê·¼ì´ ì•ˆì „í•¨\nMySQL 5.7, 8.0ì—ì„œëŠ” innodb_buffer_pool_sizeë¥¼ ì˜¨ë¼ì¸(ë™ì )ìœ¼ë¡œ ì¡°ì • ê°€ëŠ¥í•¨ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ ì—†ì´ ë¶€í•˜ íŒ¨í„´ ë³€í™”ì— ë§ì¶° ë²„í¼ í’€ í¬ê¸°ë¥¼ ëŠ˜ë¦¬ê±°ë‚˜ ì¤„ì¼ ìˆ˜ ìˆìŒ\nì°¸ê³ ìë£Œ https://dev.mysql.com/doc/refman/8.0/en/innodb-buffer-pool.html https://dev.mysql.com/doc/refman/8.0/en/innodb-parameters.html#sysvar_innodb_buffer_pool_size ","permalink":"https://blog.jsontapose.com/posts/mysql-innodb-buffer-pool-c63a29/","summary":"\u003ch2 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h2\u003e\n\u003cp\u003eInnoDB ë²„í¼ í’€ì€ ë°ì´í„°ì™€ ì¸ë±ìŠ¤ í˜ì´ì§€ë¥¼ \u003cstrong\u003eë©”ëª¨ë¦¬ì— ìºì‹±\u003c/strong\u003eí•˜ëŠ” ì˜ì—­ì„\në””ìŠ¤í¬ I/Oë¥¼ íšê¸°ì ìœ¼ë¡œ ì¤„ì—¬ ì§€ì—° ì‹œê°„ì„ ë‚®ì¶”ëŠ” ê²Œ ëª©ì ì„\nInnoDB ìŠ¤í† ë¦¬ì§€ ì—”ì§„(íŠ¸ëœì­ì…˜, MVCC, í–‰ ë‹¨ìœ„ ë½ ì§€ì›) ì„±ëŠ¥ì˜ \u003cstrong\u003eì‹¬ì¥ë¶€\u003c/strong\u003eë¼ í•  ìˆ˜ ìˆìŒ\u003c/p\u003e\n\u003cp\u003eì‰½ê²Œ ë§í•´, ìì£¼ ì“°ëŠ” ë°ì´í„°ì™€ ì¸ë±ìŠ¤ë¥¼ ë””ìŠ¤í¬ ëŒ€ì‹  ë©”ëª¨ë¦¬ì— ì˜¬ë ¤ë‘ê³  ì²˜ë¦¬í•˜ëŠ” êµ¬ì¡°ì„\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"ë²„í¼-í’€-êµ¬ì„±-ìš”ì†Œ\"\u003eë²„í¼ í’€ êµ¬ì„± ìš”ì†Œ\u003c/h2\u003e\n\u003cp\u003eë²„í¼ í’€ì—ëŠ” ì£¼ë¡œ ì´ëŸ° í˜ì´ì§€(ê¸°ë³¸ 16KB)ê°€ ì˜¬ë¼ì˜´\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eë°ì´í„° í˜ì´ì§€\u003c/strong\u003e: ì‹¤ì œ í…Œì´ë¸” ë¡œìš°(Row)ê°€ ì €ì¥ëœ í˜ì´ì§€\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eì¸ë±ìŠ¤ í˜ì´ì§€\u003c/strong\u003e: B-Tree ì¸ë±ìŠ¤ ë…¸ë“œ í˜ì´ì§€ (PK ë° ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ í¬í•¨)\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eê¸°íƒ€ ê´€ë¦¬ í˜ì´ì§€\u003c/strong\u003e: UNDO í˜ì´ì§€, íŠ¸ëœì­ì…˜/MVCC ê´€ë¦¬ì— í•„ìš”í•œ ë©”íƒ€ë°ì´í„° ë“±\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"í•µì‹¬-ê°œë…\"\u003eí•µì‹¬ ê°œë…\u003c/h2\u003e\n\u003ch3 id=\"í˜ì´ì§€-ìºì‹±\"\u003eí˜ì´ì§€ ìºì‹±\u003c/h3\u003e\n\u003cp\u003eInnoDBëŠ” ë””ìŠ¤í¬ ë°ì´í„°ë¥¼ í˜ì´ì§€ ë‹¨ìœ„ë¡œ ë‹¤ë£¸\ní´ë¼ì´ì–¸íŠ¸ê°€ íŠ¹ì • ë¡œìš°ë¥¼ ì½ê³  ì‹¶ì–´ í•˜ë©´, ê·¸ ë¡œìš°ê°€ ì†í•œ \u003cstrong\u003eí˜ì´ì§€ ì „ì²´\u003c/strong\u003eë¥¼ ë²„í¼ í’€ë¡œ ê°€ì ¸ì˜´\nì´í›„ ê°™ì€ í˜ì´ì§€ì— ìˆëŠ” ë‹¤ë¥¸ ë¡œìš°ë¥¼ ì½ì„ ë•ŒëŠ” ë””ìŠ¤í¬ë¥¼ ë‹¤ì‹œ ë³´ì§€ ì•Šê³  ë²„í¼ í’€(ë©”ëª¨ë¦¬)ì—ì„œ ë°”ë¡œ ì¡°íšŒí•¨\u003c/p\u003e","title":"MySQL InnoDB ë²„í¼ í’€ ê°œë…ê³¼ ë™ì‘ ì›ë¦¬, í¬ê¸° ì„¤ì • ê°€ì´ë“œ"},{"content":"ê°œìš” @nestjs/swaggerëŠ” NestJSì™€ Swagger(OpenAPI) ìŠ¤í™ì„ ì—°ê²°í•´ API ë¬¸ì„œë¥¼ ìë™ ìƒì„±í•˜ëŠ” ëª¨ë“ˆì„ DTO(Data Transfer Object) í´ë˜ìŠ¤ì— ë©”íƒ€ë°ì´í„°ë¥¼ ë¶€ì—¬í•´ íƒ€ì…ê³¼ ì˜ˆì‹œ, ì„¤ëª… ë“±ì„ Swagger UIì— ë…¸ì¶œí•˜ëŠ” íë¦„ìœ¼ë¡œ ì‘ë™í•¨ í•µì‹¬ ë„êµ¬ëŠ” @ApiPropertyì™€ DTO ìœ í‹¸ë¦¬í‹° íƒ€ì…ë“¤(PickType, OmitType, PartialType)ì„\nApiProperty ê°œë…ê³¼ ì‚¬ìš© @ApiPropertyëŠ” DTO ì†ì„± ë‹¨ìœ„ë¡œ ë¬¸ì„œí™” ë©”íƒ€ë°ì´í„°ë¥¼ ë¶€ì—¬í•˜ëŠ” ë°ì½”ë ˆì´í„°ì„ íƒ€ì…, ì„¤ëª…, ì˜ˆì‹œ, í•„ìˆ˜ ì—¬ë¶€ ë“±ì„ ì •ì˜í•´ Swagger UIì— ëª…í™•í•œ ìŠ¤í‚¤ë§ˆ ì œê³µ ì½”ë“œì™€ ë¬¸ì„œê°€ í•œ ì†ŒìŠ¤ì—ì„œ ìœ ì§€ë˜ì–´ ì¼ê´€ì„± í™•ë³´ì— ìœ ë¦¬í•¨\nê°„ë‹¨ ì‚¬ìš© ì˜ˆì‹œ\nclass CreateUserDto { @ApiProperty({ description: \u0026#34;ì‚¬ìš©ì ì´ë¦„\u0026#34;, example: \u0026#34;John Doe\u0026#34; }) name: string; } ì´ ì†ì„± ì •ì˜ë§Œìœ¼ë¡œ Swagger ìŠ¤í‚¤ë§ˆì— name í•„ë“œì˜ ì„¤ëª…ê³¼ ì˜ˆì‹œê°€ ë…¸ì¶œë¨\nì£¼ìš” ì˜µì…˜ í•„ìš”í•œ ë§Œí¼ë§Œ ì„¤ì •í•´ ìµœì†Œ ë¬¸ì„œí™”ë¡œ ì‹œì‘í•˜ê³  ì ì§„ì ìœ¼ë¡œ ë³´ê°•í•˜ëŠ” ë°©ì‹ ê¶Œì¥\ndescription: ì†ì„± ì˜ë¯¸ ì„¤ëª… example: ëŒ€í‘œ ì˜ˆì‹œ ê°’ required: í•„ìˆ˜ ì—¬ë¶€, ê¸°ë³¸ê°’ true type: ë³µì¡ íƒ€ì… ë˜ëŠ” ëª…ì‹œê°€ í•„ìš”í•œ ê²½ìš° ì‚¬ìš© enum: í—ˆìš© ê°’ ì§‘í•© ì§€ì • isArray: ë°°ì—´ ì—¬ë¶€ ëª…ì‹œ ì˜µì…˜ ìŠ¤ë‹ˆí«\n@ApiProperty({ description: \u0026#39;ì‚¬ìš©ì ë‚˜ì´\u0026#39;, example: 30, type: Number }) age: number @ApiProperty({ enum: [\u0026#39;admin\u0026#39;, \u0026#39;user\u0026#39;] }) role: string @ApiProperty({ type: String, isArray: true }) tags: string[] requiredëŠ” ë³„ë„ ì§€ì • ì—†ìœ¼ë©´ trueë¡œ ì²˜ë¦¬ë¨ PartialTypeì„ í†µí•´ ìƒì„±ëœ DTOì—ì„œëŠ” í•´ë‹¹ í•„ë“œë“¤ì´ ì„ íƒì ì´ ë˜ì–´ Swaggerì—ë„ ë°˜ì˜ë¨\në°°ì—´ê³¼ ì¤‘ì²© ê°ì²´ ë°°ì—´ í‘œì‹œ\n@ApiProperty({ type: String, isArray: true, description: \u0026#39;íƒœê·¸ ëª©ë¡\u0026#39; }) tags: string[] ì¤‘ì²© ê°ì²´ í‘œì‹œ\nclass AddressDto { @ApiProperty() street: string; @ApiProperty() city: string; } class CreateUserDto { @ApiProperty({ type: AddressDto }) address: AddressDto; } Swagger UIì—ì„œëŠ” ì •ì˜í•œ íƒ€ì…ì„ ë”°ë¼ ê°ì²´ êµ¬ì¡°ì™€ ì˜ˆì‹œê°€ ë…¸ì¶œë¨\nPickType ê°œë…ê³¼ ì‚¬ìš© PickTypeì€ ê¸°ì¡´ DTOì—ì„œ íŠ¹ì • ì†ì„±ë§Œ ì„ íƒí•´ ìƒˆë¡œìš´ DTO ìƒì„±í•˜ëŠ” ìœ í‹¸ë¦¬í‹°ì„ ì¤‘ë³µ ì •ì˜ ì—†ì´ í•„ìš”í•œ í•„ë“œë§Œ ê°€ì ¸ì™€ ì…ë ¥ì´ë‚˜ ì‘ë‹µ ëª¨ë¸ì„ ì¬ì‚¬ìš© ê°€ëŠ¥ Swagger ìŠ¤í‚¤ë§ˆë„ ì„ íƒëœ í•„ë“œë§Œ ë°˜ì˜ë¨\nê¸°ë³¸ ì‚¬ìš© ì˜ˆì‹œ\nclass CreateUserDto { username: string; password: string; email: string; } class LoginDto extends PickType(CreateUserDto, [\u0026#34;username\u0026#34;, \u0026#34;password\u0026#34;]) {} í™œìš© í¬ì¸íŠ¸\nì½”ë“œ ì¬ì‚¬ìš©ì„± í–¥ìƒ ë° ì¤‘ë³µ ì œê±° ì…ë ¥ ëª¨ë¸ê³¼ ì‘ë‹µ ëª¨ë¸ì„ ìƒí™©ì— ë§ì¶° ìµœì†Œ ë‹¨ìœ„ë¡œ ë¶„ë¦¬ ê°€ëŠ¥ ìŠ¤í‚¤ë§ˆê°€ ì›ë³¸ DTO ë³€ê²½ì„ ìë™ ì¶”ì í•´ ì¼ê´€ì„± ìœ ì§€ ê´€ë ¨ ìœ í‹¸ë¦¬í‹° OmitType: íŠ¹ì • ì†ì„±ë§Œ ì œì™¸í•˜ê³  ë‚˜ë¨¸ì§€ë¡œ ìƒˆ DTO ìƒì„± class PublicUserDto extends OmitType(CreateUserDto, [\u0026#34;password\u0026#34;]) {} PartialType: ëª¨ë“  ì†ì„±ì„ ì„ íƒì ìœ¼ë¡œ ë³€ê²½í•´ ë¶€ë¶„ ì—…ë°ì´íŠ¸ ì‹œ ìœ ìš© class UpdateUserDto extends PartialType(CreateUserDto) {} ì¡°í•© ì‚¬ìš© ì‹œ ê³µí†µ DTO í•˜ë‚˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì…ë ¥, ì‘ë‹µ, ìˆ˜ì • ë“± ë‹¤ì–‘í•œ ë³€í˜• ëª¨ë¸ì„ ì¼ê´€ë˜ê²Œ ê´€ë¦¬ ê°€ëŠ¥\níŒ íƒ€ì… ì¶”ë¡ ì— ì˜ì¡´í•´ ë‹¨ìˆœ í•„ë“œëŠ” ìµœì†Œ ì •ì˜, ì„¤ëª…ê³¼ ì˜ˆì‹œê°€ í•„ìš”í•œ í•„ë“œì—ë§Œ @ApiProperty ë¶€ì—¬ ë³µì¡ íƒ€ì…ì´ë‚˜ ë°°ì—´, enumì€ type, isArray, enumìœ¼ë¡œ ëª…ì‹œì  ì„ ì–¸ ê¶Œì¥ ì‘ë‹µ ëª¨ë¸ì—ì„œ ë…¸ì¶œë˜ë©´ ì•ˆ ë˜ëŠ” í•„ë“œëŠ” OmitTypeìœ¼ë¡œ ì‚¬ì „ì— ì œê±° ë¶€ë¶„ ì—…ë°ì´íŠ¸ APIëŠ” PartialType ê¸°ë°˜ DTOë¡œ required í”Œë˜ê·¸ ìë™ ì¡°ì • ìœ ë„ ë¬¸ì„œ ì‹ ë¢°ì„±ì„ ìœ„í•´ ì˜ˆì‹œ ê°’ exampleì€ ì‹¤ì œ ë„ë©”ì¸ í˜•ì‹ê³¼ ì¼ì¹˜í•˜ë„ë¡ ìœ ì§€ ë§ˆë¬´ë¦¬ @ApiPropertyë¡œ DTO ì†ì„± ë‹¨ìœ„ ë¬¸ì„œí™”ë¥¼ ì •êµí•˜ê²Œ ê´€ë¦¬í•˜ê³ , PickType OmitType PartialTypeìœ¼ë¡œ DTO ì¬ì‚¬ìš©ì„±ì„ ê·¹ëŒ€í™”í•˜ëŠ” ì „ëµ ê¶Œì¥ ì½”ë“œì™€ ë¬¸ì„œì˜ ë‹¨ì¼ ì†ŒìŠ¤í™”ë¥¼ í†µí•´ API ìŠ¤í™ì˜ ì •í™•ì„±, ì¶”ì  ê°€ëŠ¥ì„±, ìœ ì§€ë³´ìˆ˜ì„±ì„ ë™ì‹œì— í™•ë³´ ê°€ëŠ¥\nì°¸ê³ ìë£Œ https://docs.nestjs.com/openapi/introduction https://github.com/nestjs/swagger https://swagger.io/specification/ ","permalink":"https://blog.jsontapose.com/posts/nestjs-swagger-apiproperty-picktype-omittype-partialtype-200c9b/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003e@nestjs/swaggerëŠ” NestJSì™€ Swagger(OpenAPI) ìŠ¤í™ì„ ì—°ê²°í•´ API ë¬¸ì„œë¥¼ ìë™ ìƒì„±í•˜ëŠ” ëª¨ë“ˆì„\nDTO(Data Transfer Object) í´ë˜ìŠ¤ì— ë©”íƒ€ë°ì´í„°ë¥¼ ë¶€ì—¬í•´ íƒ€ì…ê³¼ ì˜ˆì‹œ, ì„¤ëª… ë“±ì„ Swagger UIì— ë…¸ì¶œí•˜ëŠ” íë¦„ìœ¼ë¡œ ì‘ë™í•¨\ní•µì‹¬ ë„êµ¬ëŠ” @ApiPropertyì™€ DTO ìœ í‹¸ë¦¬í‹° íƒ€ì…ë“¤(PickType, OmitType, PartialType)ì„\u003c/p\u003e\n\u003ch3 id=\"apiproperty-ê°œë…ê³¼-ì‚¬ìš©\"\u003eApiProperty ê°œë…ê³¼ ì‚¬ìš©\u003c/h3\u003e\n\u003cp\u003e@ApiPropertyëŠ” DTO ì†ì„± ë‹¨ìœ„ë¡œ ë¬¸ì„œí™” ë©”íƒ€ë°ì´í„°ë¥¼ ë¶€ì—¬í•˜ëŠ” ë°ì½”ë ˆì´í„°ì„\níƒ€ì…, ì„¤ëª…, ì˜ˆì‹œ, í•„ìˆ˜ ì—¬ë¶€ ë“±ì„ ì •ì˜í•´ Swagger UIì— ëª…í™•í•œ ìŠ¤í‚¤ë§ˆ ì œê³µ\nì½”ë“œì™€ ë¬¸ì„œê°€ í•œ ì†ŒìŠ¤ì—ì„œ ìœ ì§€ë˜ì–´ ì¼ê´€ì„± í™•ë³´ì— ìœ ë¦¬í•¨\u003c/p\u003e\n\u003cp\u003eê°„ë‹¨ ì‚¬ìš© ì˜ˆì‹œ\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-typescript\" data-lang=\"typescript\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eclass\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eCreateUserDto\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#66d9ef\"\u003e@ApiProperty\u003c/span\u003e({ \u003cspan style=\"color:#a6e22e\"\u003edescription\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;ì‚¬ìš©ì ì´ë¦„\u0026#34;\u003c/span\u003e, \u003cspan style=\"color:#a6e22e\"\u003eexample\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#34;John Doe\u0026#34;\u003c/span\u003e })\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003estring\u003c/span\u003e;\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eì´ ì†ì„± ì •ì˜ë§Œìœ¼ë¡œ Swagger ìŠ¤í‚¤ë§ˆì— name í•„ë“œì˜ ì„¤ëª…ê³¼ ì˜ˆì‹œê°€ ë…¸ì¶œë¨\u003c/p\u003e","title":"NestJS Swagger ì‹¤ë¬´ ê°€ì´ë“œ â€” ApiPropertyì™€ PickType/OmitType/PartialType ì‚¬ìš©ë²•"},{"content":"ê°œìš” Prismaì—ì„œ cursorëŠ” íŠ¹ì • ë ˆì½”ë“œ ì§€ì ë¶€í„° ê²°ê³¼ë¥¼ ì½ê¸° ì‹œì‘í•˜ëŠ” ê¸°ì¤€ì ìœ¼ë¡œ ë™ì‘í•¨ skip: 1ì€ í•´ë‹¹ cursor ë ˆì½”ë“œë¥¼ ê²°ê³¼ì—ì„œ ì œì™¸í•˜ê¸° ìœ„í•œ ì˜µì…˜ìœ¼ë¡œ, í˜ì´ì§€ ê°„ ì¤‘ë³µì„ ì œê±°í•˜ëŠ” ë° ì‚¬ìš©í•¨\ní•µì‹¬ ë™ì‘ cursorëŠ” ê·¸ ì§€ì ë¶€í„° ì‹œì‘ await prisma.user.findMany({ cursor: { id: 100 }, take: 5, orderBy: { id: \u0026#39;asc\u0026#39; }, }) // ê²°ê³¼: 100ë¶€í„° ì‹œì‘í•´ 5ê°œ ë°˜í™˜ skip: 1ì€ cursorì— í•´ë‹¹í•˜ëŠ” ë ˆì½”ë“œë¥¼ ê±´ë„ˆëœ€ await prisma.user.findMany({ cursor: { id: 100 }, skip: 1, take: 5, orderBy: { id: \u0026#39;asc\u0026#39; }, }) // ê²°ê³¼: 101ë¶€í„° 5ê°œ ë°˜í™˜ ì˜ˆì‹œë¡œ ë³´ëŠ” ì°¨ì´ ë°ì´í„°ê°€ ì•„ë˜ì™€ ê°™ë‹¤ê³  ê°€ì •\n98, 99, 100, 101, 102, 103, 104, 105, 106, 107\nskip ì—†ì´ cursor: { id: 100 }, take: 3, orderBy: { id: \u0026#39;asc\u0026#39; } // ê²°ê³¼: [100, 101, 102] skip: 1ê³¼ í•¨ê»˜ cursor: { id: 100 }, skip: 1, take: 3, orderBy: { id: \u0026#39;asc\u0026#39; } // ê²°ê³¼: [101, 102, 103] ì™œ skip: 1ì„ ì“°ëŠ”ê°€ í˜ì´ì§€ ê°„ ì¤‘ë³µ ë°©ì§€ ëª©ì \n// ì²« í˜ì´ì§€ const page1 = await prisma.user.findMany({ take: 3, orderBy: { id: \u0026#39;asc\u0026#39; }, }) // ê²°ê³¼: [98, 99, 100] // nextCursor = 100 // ë‹¤ìŒ í˜ì´ì§€ const page2 = await prisma.user.findMany({ cursor: { id: 100 }, skip: 1, take: 3, orderBy: { id: \u0026#39;asc\u0026#39; }, }) // ê²°ê³¼: [101, 102, 103] ì¤‘ë³µ ì—†ìŒ ì½”ë“œ íŒ¨í„´ ìš”ì•½ ë”ë³´ê¸° ì—¬ë¶€ íŒë‹¨ì„ ìœ„í•´ takeë¥¼ limit + 1ë¡œ ì§€ì •í•˜ëŠ” íŒ¨í„´ ê¶Œì¥ nextCursorëŠ” ë°˜í™˜ ëª©ë¡ì˜ ë§ˆì§€ë§‰ id ì‚¬ìš© const data = await prisma.user.findMany({ take: limit + 1, ...(cursor \u0026amp;\u0026amp; { cursor: { id: cursor }, skip: 1 }), orderBy: { id: \u0026#39;asc\u0026#39; }, }) const hasMore = data.length \u0026gt; limit const items = hasMore ? data.slice(0, -1) : data const nextCursor = items.length ? items[items.length - 1].id : null return { data: items, hasMore, nextCursor } ë‚´ë¶€ ì²˜ë¦¬ ê´€ì  ì‚¬ìš©ì ì§ˆë¬¸ ìš”ì§€: take: 501, skip: 1, cursor: { id: 1 }ì´ë¼ë©´ ì‹¤ì œë¡œ 1ë¶€í„° 502ê¹Œì§€ 502ê°œì˜ ë¡œìš°ë¥¼ í™•ì¸í•˜ëŠ”ê°€\nì¸ë±ìŠ¤ ê´€ì ì—ì„œ ë§ìŒ ì¼ë°˜ì ì¸ ì‹¤í–‰ íë¦„ ì¸ë±ìŠ¤ íƒìƒ‰ìœ¼ë¡œ id = 1 ìœ„ì¹˜ ë„ë‹¬ ê·¸ í•­ëª©ì€ skipìœ¼ë¡œ ì œì™¸ ì´í›„ ì—°ì†ëœ 501ê°œ í•­ëª©ì„ ì½ì–´ ë°˜í™˜ ê²°ê³¼ì ìœ¼ë¡œ ì¸ë±ìŠ¤ ë ˆë²¨ì—ì„œ 502ê°œ í•­ëª©ì„ ë°©ë¬¸í•˜ëŠ” íš¨ê³¼ê°€ ë°œìƒ í´ë¼ì´ì–¸íŠ¸ë¡œ ë°˜í™˜ë˜ëŠ” ë ˆì½”ë“œ ìˆ˜ëŠ” 501ê°œ SQL ê´€ì  ì„¤ëª… Prismaì˜ cursor ê¸°ë°˜ í˜ì´ì§€ë„¤ì´ì…˜ì€ ë³´í†µ OFFSETì„ ì“°ì§€ ì•Šê³  ì •ë ¬ ì»¬ëŸ¼ ê¸°ì¤€ ë²”ìœ„ ì¡°ê±´ìœ¼ë¡œ ë³€í™˜ë¨ ë‹¨ì¼ ì •ë ¬ í‚¤ id ê¸°ì¤€ ì˜¤ë¦„ì°¨ìˆœì˜ ê²½ìš° ê°œë…ì ìœ¼ë¡œ ì•„ë˜ì™€ ìœ ì‚¬í•œ í˜•íƒœ\nSELECT ... FROM user_nickname_log WHERE id \u0026gt; 1 -- cursor: { id: 1 }, skip: 1ì¼ ë•Œì˜ ê°œë…ì  ì¡°ê±´ ORDER BY id ASC LIMIT 501 -- takeë§Œí¼ ì œí•œ skip: 1 ì—†ì´ cursorë§Œ ì“°ë©´ WHERE id \u0026gt;= 1ì— ê°€ê¹Œìš´ ì¡°ê±´ìœ¼ë¡œ í•´ì„ë¨ skip: 1ì„ ë¶™ì´ë©´ WHERE id \u0026gt; 1ë¡œ ë°”ë€ŒëŠ” íš¨ê³¼ê°€ ë‚˜ì„œ ì¤‘ë³µ ì œê±° ì‹¤ì œ ìƒì„± SQLê³¼ ì‹¤í–‰ ê³„íšì€ ë°ì´í„°ë² ì´ìŠ¤ì™€ ë“œë¼ì´ë²„, ì •ë ¬ í‚¤ êµ¬ì„±ì— ë”°ë¼ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ í•µì‹¬ì€ OFFSETìœ¼ë¡œ ì• í˜ì´ì§€ë¥¼ ê±´ë„ˆë›°ì§€ ì•Šê³  ì¸ë±ìŠ¤ ë²”ìœ„ ìŠ¤ìº”ìœ¼ë¡œ ì´ì–´ê°€ê¸° ë•Œë¬¸ì— ì»¤ì„œ ê¸°ë°˜ í˜ì´ì§€ë„¤ì´ì…˜ì˜ ì„±ëŠ¥ íŠ¹ì„±ì´ ë³´ì¥ëœë‹¤ëŠ” ì ì„\nì •ë¦¬ cursorëŠ” ê¸°ì¤€ ë ˆì½”ë“œ ì§€ì ë¶€í„° ì‹œì‘ skip: 1ì€ ê¸°ì¤€ ë ˆì½”ë“œë¥¼ ì œì™¸í•´ ì¤‘ë³µ ì œê±° limit + 1 íŒ¨í„´ìœ¼ë¡œ hasMoreë¥¼ ì•ˆì •ì ìœ¼ë¡œ íŒì • ì¸ë±ìŠ¤ ê´€ì ì—ì„œ cursor ë ˆì½”ë“œ í¬í•¨ ì´ 502ê°œ í•­ëª©ì„ ë°©ë¬¸í•˜ê³  501ê°œë§Œ ë°˜í™˜í•˜ëŠ” í•´ì„ ê°€ëŠ¥ PrismaëŠ” ì¼ë°˜ì ìœ¼ë¡œ WHERE ë²”ìœ„ ì¡°ê±´ê³¼ LIMITì„ í™œìš©í•´ cursor ê¸°ë°˜ í˜ì´ì§€ë„¤ì´ì…˜ì„ ìˆ˜í–‰í•˜ë©° OFFSET ê¸°ë°˜ í˜ì´ì§€ë„¤ì´ì…˜ê³¼ ë‹¤ë¦„ í˜„ì¬ì™€ ê°™ì€ êµ¬í˜„ì€ ë™ì‘ ì˜ë„ì™€ ì„±ëŠ¥ ì¸¡ë©´ ëª¨ë‘ì—ì„œ íƒ€ë‹¹í•¨\nì°¸ê³ ìë£Œ https://www.prisma.io/docs/orm/prisma-client/queries/pagination https://www.prisma.io/docs/orm/prisma-client/queries/pagination#cursor-based-pagination ","permalink":"https://blog.jsontapose.com/posts/prisma-cursor-pagination-and-skip-1-a14080/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003ePrismaì—ì„œ cursorëŠ” íŠ¹ì • ë ˆì½”ë“œ ì§€ì ë¶€í„° ê²°ê³¼ë¥¼ ì½ê¸° ì‹œì‘í•˜ëŠ” ê¸°ì¤€ì ìœ¼ë¡œ ë™ì‘í•¨\nskip: 1ì€ í•´ë‹¹ cursor ë ˆì½”ë“œë¥¼ ê²°ê³¼ì—ì„œ ì œì™¸í•˜ê¸° ìœ„í•œ ì˜µì…˜ìœ¼ë¡œ, í˜ì´ì§€ ê°„ ì¤‘ë³µì„ ì œê±°í•˜ëŠ” ë° ì‚¬ìš©í•¨\u003c/p\u003e\n\u003ch3 id=\"í•µì‹¬-ë™ì‘\"\u003eí•µì‹¬ ë™ì‘\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003ecursorëŠ” ê·¸ ì§€ì ë¶€í„° ì‹œì‘\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-typescript\" data-lang=\"typescript\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eawait\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eprisma\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003euser\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003efindMany\u003c/span\u003e({\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003ecursor\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e { \u003cspan style=\"color:#a6e22e\"\u003eid\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003e100\u003c/span\u003e },\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003etake\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003e5\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eorderBy\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e { \u003cspan style=\"color:#a6e22e\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;asc\u0026#39;\u003c/span\u003e },\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e})\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e// ê²°ê³¼: 100ë¶€í„° ì‹œì‘í•´ 5ê°œ ë°˜í™˜\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\n\u003cli\u003eskip: 1ì€ cursorì— í•´ë‹¹í•˜ëŠ” ë ˆì½”ë“œë¥¼ ê±´ë„ˆëœ€\u003c/li\u003e\n\u003c/ul\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-typescript\" data-lang=\"typescript\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eawait\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eprisma\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003euser\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003efindMany\u003c/span\u003e({\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003ecursor\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e { \u003cspan style=\"color:#a6e22e\"\u003eid\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003e100\u003c/span\u003e },\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eskip\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003e1\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003etake\u003c/span\u003e: \u003cspan style=\"color:#66d9ef\"\u003e5\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eorderBy\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e { \u003cspan style=\"color:#a6e22e\"\u003eid\u003c/span\u003e\u003cspan style=\"color:#f92672\"\u003e:\u003c/span\u003e \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;asc\u0026#39;\u003c/span\u003e },\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e})\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e// ê²°ê³¼: 101ë¶€í„° 5ê°œ ë°˜í™˜\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"ì˜ˆì‹œë¡œ-ë³´ëŠ”-ì°¨ì´\"\u003eì˜ˆì‹œë¡œ ë³´ëŠ” ì°¨ì´\u003c/h3\u003e\n\u003cp\u003eë°ì´í„°ê°€ ì•„ë˜ì™€ ê°™ë‹¤ê³  ê°€ì •\u003c/p\u003e","title":"Prisma cursor ê¸°ë°˜ í˜ì´ì§€ë„¤ì´ì…˜ ë™ì‘ ì›ë¦¬ì™€ skip: 1ì˜ ì˜ë¯¸"},{"content":"ê°œìš” Prismaì˜ findManyëŠ” ë‹¤ì¤‘ ë ˆì½”ë“œ ì¡°íšŒìš© ë©”ì„œë“œ ê¸°ë³¸ê°’ì€ ëŒ€ìƒ ëª¨ë¸ì˜ ëª¨ë“  ë ˆì½”ë“œ ë°˜í™˜ where í•„í„°, select/include, ì •ë ¬, í˜ì´ì§•, ì¤‘ë³µ ì œê±° ë“± ì˜µì…˜ ì§€ì› ì˜µì…˜ ì¡°í•©ìœ¼ë¡œ ì¡°ê±´ ê¸°ë°˜ ì¡°íšŒë¥¼ ê°„ê²°í•˜ê²Œ êµ¬ì„± ê°€ëŠ¥\nê¸°ë³¸ ì‚¬ìš©ë²• ê°€ì¥ ë‹¨ìˆœí•œ í˜¸ì¶œ í˜•íƒœ\nconst users = await prisma.user.findMany() ì£¼ìš” ì˜µì…˜ ì˜µì…˜ì€ í•„ìš”í•œ ê²ƒë§Œ ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©\nwhere: ì¡°ê±´ í•„í„°ë§ select: í•„ë“œ ì„œë¸Œì…‹ ì„ íƒ include: ê´€ê³„ ë°ì´í„° ë¡œë“œ orderBy: ì •ë ¬ ê¸°ì¤€ ì§€ì • skip, take: ì˜¤í”„ì…‹ ê¸°ë°˜ í˜ì´ì§• distinct: íŠ¹ì • í•„ë“œ ê¸°ì¤€ ì¤‘ë³µ ì œê±° whereë¡œ ì¡°ê±´ í•„í„°ë§ ë‹¨ì¼ ì¡°ê±´ë¶€í„° ë³µí•© ì¡°ê±´ê¹Œì§€ í‘œí˜„ ê°€ëŠ¥\nconst active = await prisma.user.findMany({ where: { isActive: true } }) in ì¡°ê±´ ì§€ì •í•œ ê°’ ë°°ì—´ ì¤‘ í•˜ë‚˜ì™€ ì¼ì¹˜í•˜ëŠ” ë ˆì½”ë“œ ë§¤ì¹­\nconst some = await prisma.user.findMany({ where: { id: { in: [1, 2, 3] } } }) ë¹„êµ ì—°ì‚°ì ìˆ«ì, ë‚ ì§œ, ë¬¸ìì—´ ë“± ë¹„êµ ì§€ì›\nequals, not lt, lte, gt, gte in, notIn const range = await prisma.user.findMany({ where: { age: { gte: 18, lte: 30 } } }) ë³µí•© ë…¼ë¦¬ ì—°ì‚° AND, OR ì¡°í•©ìœ¼ë¡œ ë‹¤ì¤‘ ì¡°ê±´ êµ¬ì„±\nconst mixed = await prisma.user.findMany({ where: { OR: [ { age: { lt: 18 } }, { role: \u0026#39;admin\u0026#39; } ] } }) inê³¼ ë¹„êµ ì—°ì‚°ì ê²°í•©ìœ¼ë¡œ ë²”ìœ„ì™€ ì§‘í•© ì¡°ê±´ì„ ë™ì‹œì— í‘œí˜„ ê°€ëŠ¥\nconst filtered = await prisma.user.findMany({ where: { id: { in: [1, 2, 3, 4, 5] }, age: { gt: 20 } } }) selectë¡œ í•„ìš”í•œ í•„ë“œë§Œ ì¡°íšŒ ì‘ë‹µ í˜ì´ë¡œë“œ ìµœì†Œí™”ì— ìœ ìš©\nconst names = await prisma.user.findMany({ select: { name: true, email: true } }) ì£¼ì˜ì‚¬í•­: ê°™ì€ í˜¸ì¶œì—ì„œ selectì™€ includeë¥¼ ë™ì‹œì— ì‚¬ìš© ë¶ˆê°€, í•˜ë‚˜ë§Œ ì„ íƒ\nincludeë¡œ ê´€ê³„ ë°ì´í„° ë¡œë“œ ì—°ê´€ ëª¨ë¸ì„ í•¨ê»˜ ê°€ì ¸ì˜¤ê¸°\nconst withPosts = await prisma.user.findMany({ include: { posts: true } }) í•„ìš”í•œ í•„ë“œë§Œ ë¶€ë¶„ ì„ íƒí•˜ë ¤ë©´ include ë‚´ë¶€ select ì‚¬ìš©\nconst withTitles = await prisma.user.findMany({ include: { posts: { select: { title: true } } } }) orderByë¡œ ì •ë ¬ ë‹¨ì¼ ë˜ëŠ” ë‹¤ì¤‘ í•„ë“œ ì •ë ¬ ì§€ì›\nconst recent = await prisma.user.findMany({ orderBy: { createdAt: \u0026#39;desc\u0026#39; } }) ì—¬ëŸ¬ í•„ë“œ ì •ë ¬ì€ ë°°ì—´ë¡œ ìˆœì„œ ì§€ì • ê°€ëŠ¥\nskip, takeë¡œ í˜ì´ì§• ì˜¤í”„ì…‹ ê¸°ë°˜ í˜ì´ì§€ë„¤ì´ì…˜ êµ¬ì„±\nconst page = await prisma.user.findMany({ skip: 10, take: 5 }) ëŒ€ìš©ëŸ‰ í˜ì´ì§€ ì´ë™ ì‹œ skip ë¹„ìš© ì¦ê°€ ê°€ëŠ¥ì„± ì¡´ì¬, ì¼ê´€ì„± ë³´ì¥ì„ ìœ„í•´ cursor ê¸°ë°˜ í˜ì´ì§• ê³ ë ¤ ê¶Œì¥\nconst next = await prisma.user.findMany({ cursor: { id: lastId }, skip: 1, take: 10, orderBy: { id: \u0026#39;asc\u0026#39; } }) distinctë¡œ ì¤‘ë³µ ì œê±° ì§€ì •í•œ ìŠ¤ì¹¼ë¼ í•„ë“œ ì¡°í•© ê¸°ì¤€ìœ¼ë¡œ ì¤‘ë³µ ì œê±°\nconst uniqNames = await prisma.user.findMany({ distinct: [\u0026#39;name\u0026#39;] }) ë°ì´í„°ë² ì´ìŠ¤ì™€ ë“œë¼ì´ë²„ ì œì•½ì— ë”°ë¼ ì§€ì› ë²”ìœ„ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìµœì‹  ë¬¸ì„œ í™•ì¸ ê¶Œì¥\nì˜ˆì‹œ ì¡°í•© ì¡°ê±´ í•„í„° + í•„ë“œ ì„ íƒ + ê´€ê³„ ì¼ë¶€ ì„ íƒ + ì •ë ¬ + ì œí•œ ê°œìˆ˜ ì¡°í•©\nconst result = await prisma.user.findMany({ where: { isActive: true, age: { gte: 18 } }, select: { name: true, email: true, posts: { select: { title: true } } }, orderBy: { createdAt: \u0026#39;desc\u0026#39; }, take: 10 }) ì£¼ì˜ì™€ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ selectì™€ includeëŠ” ê°™ì€ í˜¸ì¶œì—ì„œ ë™ì‹œ ì‚¬ìš© ë¶ˆê°€ ì •ë ¬ ì—†ì´ takeë§Œ ì‚¬ìš© ì‹œ ê²°ê³¼ ìˆœì„œ ë¹„ê²°ì •ì ì¼ ìˆ˜ ìˆìŒ, orderBy ë™ë°˜ ì‚¬ìš© ê¶Œì¥ ì˜¤í”„ì…‹ í˜ì´ì§•(skip)ì€ í˜ì´ì§€ ë²ˆí˜¸ê°€ ì»¤ì§ˆìˆ˜ë¡ ë¹„ìš© ì¦ê°€ ê°€ëŠ¥, ì»¤ì„œ ê¸°ë°˜ í˜ì´ì§• ê³ ë ¤ whereë¡œ ë¶ˆí•„ìš”í•œ ë°ì´í„° ì „ì†¡ ìµœì†Œí™”, í•„ìš”í•œ í•„ë“œë§Œ selectë¡œ ì œí•œ distinctëŠ” ìŠ¤ì¹¼ë¼ í•„ë“œ ê¸°ì¤€ ì‚¬ìš© ê¶Œì¥, ëª¨ë¸ ë° ë“œë¼ì´ë²„ í˜¸í™˜ì„± í™•ì¸ ì •ë¦¬ findManyëŠ” ë‹¤ì¤‘ ë ˆì½”ë“œ ì¡°íšŒì˜ ê¸°ë³¸ ë„êµ¬ whereë¡œ ì •ë°€ í•„í„°ë§, select/includeë¡œ ì‘ë‹µ ì¶•ì†Œ ë˜ëŠ” ê´€ê³„ ë¡œë“œ, orderByì™€ skipÂ·takeë¡œ ì •ë ¬ê³¼ í˜ì´ì§• ì œì–´, distinctë¡œ ì¤‘ë³µ ì œê±° ê°€ëŠ¥ inê³¼ ë¹„êµ ì—°ì‚°ì, ANDÂ·OR ì¡°í•©ìœ¼ë¡œ ì‹¤ì œ ìš”êµ¬ì‚¬í•­ì„ ê°„ê²°í•˜ê²Œ í‘œí˜„ ê°€ëŠ¥ ì»¤ì„œ ê¸°ë°˜ í˜ì´ì§•ê³¼ í•„ë“œ ìµœì†Œí™”ë¡œ ì„±ëŠ¥ê³¼ ì•ˆì •ì„± í™•ë³´ ê¶Œì¥\nì°¸ê³ ìë£Œ https://www.prisma.io/docs/orm/reference/prisma-client-reference#findmany https://www.prisma.io/docs/orm/prisma-client/queries/filters https://www.prisma.io/docs/orm/prisma-client/queries/pagination ","permalink":"https://blog.jsontapose.com/posts/prisma-findmany-guide-where-select-include-orderby-pagination-e52110/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003ePrismaì˜ findManyëŠ” ë‹¤ì¤‘ ë ˆì½”ë“œ ì¡°íšŒìš© ë©”ì„œë“œ\nê¸°ë³¸ê°’ì€ ëŒ€ìƒ ëª¨ë¸ì˜ ëª¨ë“  ë ˆì½”ë“œ ë°˜í™˜\nwhere í•„í„°, select/include, ì •ë ¬, í˜ì´ì§•, ì¤‘ë³µ ì œê±° ë“± ì˜µì…˜ ì§€ì›\nì˜µì…˜ ì¡°í•©ìœ¼ë¡œ ì¡°ê±´ ê¸°ë°˜ ì¡°íšŒë¥¼ ê°„ê²°í•˜ê²Œ êµ¬ì„± ê°€ëŠ¥\u003c/p\u003e\n\u003ch3 id=\"ê¸°ë³¸-ì‚¬ìš©ë²•\"\u003eê¸°ë³¸ ì‚¬ìš©ë²•\u003c/h3\u003e\n\u003cp\u003eê°€ì¥ ë‹¨ìˆœí•œ í˜¸ì¶œ í˜•íƒœ\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-typescript\" data-lang=\"typescript\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eusers\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eawait\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eprisma\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003euser\u003c/span\u003e.\u003cspan style=\"color:#a6e22e\"\u003efindMany\u003c/span\u003e()\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"ì£¼ìš”-ì˜µì…˜\"\u003eì£¼ìš” ì˜µì…˜\u003c/h3\u003e\n\u003cp\u003eì˜µì…˜ì€ í•„ìš”í•œ ê²ƒë§Œ ì„ íƒì ìœ¼ë¡œ ì‚¬ìš©\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ewhere: ì¡°ê±´ í•„í„°ë§\u003c/li\u003e\n\u003cli\u003eselect: í•„ë“œ ì„œë¸Œì…‹ ì„ íƒ\u003c/li\u003e\n\u003cli\u003einclude: ê´€ê³„ ë°ì´í„° ë¡œë“œ\u003c/li\u003e\n\u003cli\u003eorderBy: ì •ë ¬ ê¸°ì¤€ ì§€ì •\u003c/li\u003e\n\u003cli\u003eskip, take: ì˜¤í”„ì…‹ ê¸°ë°˜ í˜ì´ì§•\u003c/li\u003e\n\u003cli\u003edistinct: íŠ¹ì • í•„ë“œ ê¸°ì¤€ ì¤‘ë³µ ì œê±°\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"whereë¡œ-ì¡°ê±´-í•„í„°ë§\"\u003ewhereë¡œ ì¡°ê±´ í•„í„°ë§\u003c/h3\u003e\n\u003cp\u003eë‹¨ì¼ ì¡°ê±´ë¶€í„° ë³µí•© ì¡°ê±´ê¹Œì§€ í‘œí˜„ ê°€ëŠ¥\u003c/p\u003e","title":"Prisma findMany ê°€ì´ë“œ: where, select/include, ì •ë ¬Â·í˜ì´ì§•, in/ë¹„êµ ì—°ì‚°ì"},{"content":"ê°œìš” JavaScriptì—ì„œ í•¨ìˆ˜ëŠ” ì¼ê¸‰ ê°ì²´ë¡œ ì·¨ê¸‰ë¨ ì´ëŠ” í•¨ìˆ˜ê°€ ê°’ì²˜ëŸ¼ ë³€ìˆ˜ì— ë‹´ê¸°ê³ , ì¸ìˆ˜ë¡œ ì „ë‹¬ë˜ê³ , ë°˜í™˜ê°’ìœ¼ë¡œ ë‚˜ì˜¤ë©°, ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¡œ ì €ì¥ë  ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•¨ ì´ íŠ¹ì„± ë•ë¶„ì— ê³ ì°¨ í•¨ìˆ˜, ì½œë°±, í´ë¡œì €, í•¨ìˆ˜ í•©ì„± ê°™ì€ íŒ¨í„´ì´ ìì—°ìŠ¤ëŸ½ê²Œ êµ¬í˜„ë¨\ní•µì‹¬ ê°œë… ë³€ìˆ˜ì— í• ë‹¹ ê°€ëŠ¥ ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¡œ ì „ë‹¬ ê°€ëŠ¥ ë‹¤ë¥¸ í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥ ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¡œ ì €ì¥ ê°€ëŠ¥ ê°„ë‹¨ ì˜ˆì‹œ ë³€ìˆ˜ì— í• ë‹¹\nconst greet = (name) =\u0026gt; `Hello, ${name}` ì¸ìˆ˜ë¡œ ì „ë‹¬\nconst run = (fn, v) =\u0026gt; fn(v) run(greet, \u0026#39;Bob\u0026#39;) ë°˜í™˜ê°’ìœ¼ë¡œ ì‚¬ìš© ë° í´ë¡œì €\nconst mul = (m) =\u0026gt; (v) =\u0026gt; v * m mul(2)(5) ê°ì²´ í”„ë¡œí¼í‹°ë¡œ ì €ì¥í•´ ë©”ì„œë“œ êµ¬ì„±\nconst obj = { name: \u0026#39;Charlie\u0026#39;, greet() { return `Hi, I\u0026#39;m ${this.name}` } } obj.greet() ë™ì‘ ì›ë¦¬ í•¨ìˆ˜ëŠ” ê°ì²´ë¡œ êµ¬í˜„ë˜ì–´ í”„ë¡œí¼í‹°ì™€ ë©”ì„œë“œ ë³´ìœ í•¨(Function.prototypeì˜ call, apply, bind ë“±) í•¨ìˆ˜ ì‹ê³¼ ì„ ì–¸ ëª¨ë‘ ê°’ìœ¼ë¡œ í‰ê°€ë˜ì–´ ì‹ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ììœ ë¡­ê²Œ ì´ë™ ê°€ëŠ¥í•¨ ë°˜í™˜ í•¨ìˆ˜ê°€ ì™¸ë¶€ ìŠ¤ì½”í”„ ë³€ìˆ˜ë¥¼ ìº¡ì²˜í•˜ë©´ í´ë¡œì € í˜•ì„±ë¨ ì°¸ì¡°ê°€ ê°’ìœ¼ë¡œ ì „ë‹¬ë˜ë¯€ë¡œ ë™ì¼ í•¨ìˆ˜ ê°ì²´ë¥¼ ì—¬ëŸ¬ ê³³ì—ì„œ ê³µìœ  ê°€ëŠ¥í•¨\nì´ì  í•¨ìˆ˜ë¥¼ ê°’ìœ¼ë¡œ ë‹¤ë¤„ ì¡°í•©ì„±ê³¼ ì¬ì‚¬ìš©ì„± í–¥ìƒ\nê³ ì°¨ í•¨ìˆ˜ë¡œ ë¡œì§ì„ íŒŒë¼ë¯¸í„°í™”í•˜ì—¬ ì •ì±… ì£¼ì… ìš©ì´ ì½œë°±ìœ¼ë¡œ ë¹„ë™ê¸° íë¦„ ì—°ê²° ë° ì´ë²¤íŠ¸ ì²˜ë¦¬ ë‹¨ìˆœí™” í´ë¡œì €ë¡œ ìƒíƒœ ì€ë‹‰ ë° ë¶€ë¶„ ì ìš© êµ¬í˜„ ìš©ì´ í•©ì„±ìœ¼ë¡œ ì‘ì€ í•¨ìˆ˜ë¥¼ ê²°í•©í•´ íŒŒì´í”„ë¼ì¸ êµ¬ì„± ê°€ëŠ¥ ì£¼ì˜ ì‚¬í•­ this ë°”ì¸ë”©ì€ í˜¸ì¶œ ë°©ì‹ì— ì˜ì¡´í•¨, ë©”ì„œë“œë¥¼ ë¶„ë¦¬í•´ í˜¸ì¶œ ì‹œ thisê°€ ë°”ë€” ìˆ˜ ìˆìœ¼ë¯€ë¡œ bind ë“±ìœ¼ë¡œ ëª…ì‹œì  ë°”ì¸ë”© ê¶Œì¥ í´ë¡œì €ê°€ ë¶ˆí•„ìš”í•œ ëŒ€ìƒì„ ì˜¤ë˜ ì°¸ì¡°í•˜ë©´ ë©”ëª¨ë¦¬ ìœ ì§€ ë°œìƒ ê°€ëŠ¥, ê¸´ ìƒëª…ì£¼ê¸° ê°ì²´ ì°¸ì¡° ìµœì†Œí™” í•„ìš” ì½œë°± ì¤‘ì²©ì€ ê°€ë…ì„± ì €í•˜ ìœ ë°œ, Promiseì™€ async/awaitë¡œ íë¦„ í‰íƒ„í™” ê¶Œì¥\në§ˆë¬´ë¦¬ JavaScript í•¨ìˆ˜ì˜ ì¼ê¸‰ ê°ì²´ ì„±ì§ˆì€ í•¨ìˆ˜í˜• ìŠ¤íƒ€ì¼ì„ ì‹¤ìš©ì ìœ¼ë¡œ ì ìš©í•˜ê²Œ í•˜ëŠ” ê¸°ë°˜ì„ ê°’ì²˜ëŸ¼ ì „ë‹¬í•˜ê³  ë°˜í™˜í•˜ëŠ” íŒ¨í„´ì„ í‘œì¤€í™”í•´ë‘ë©´ ëª¨ë“ˆ ê²½ê³„ê°€ ëª…í™•í•´ì§€ê³  í…ŒìŠ¤íŠ¸ ìš©ì´ì„±ì´ ê°œì„ ë¨ í•µì‹¬ì€ í•¨ìˆ˜ë¥¼ ë°ì´í„°ì²˜ëŸ¼ ë‹¤ë£¨ë˜ ì»¨í…ìŠ¤íŠ¸(this)ì™€ ìˆ˜ëª…ì£¼ê¸° ê´€ë¦¬ì— ì‹ ê²½ ì“°ëŠ” ê²ƒì„\nì°¸ê³ ìë£Œ https://developer.mozilla.org/en-US/docs/Glossary/First-class_Function https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind ","permalink":"https://blog.jsontapose.com/posts/javascript-first-class-functions-5dcc7e/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eJavaScriptì—ì„œ í•¨ìˆ˜ëŠ” ì¼ê¸‰ ê°ì²´ë¡œ ì·¨ê¸‰ë¨\nì´ëŠ” í•¨ìˆ˜ê°€ ê°’ì²˜ëŸ¼ ë³€ìˆ˜ì— ë‹´ê¸°ê³ , ì¸ìˆ˜ë¡œ ì „ë‹¬ë˜ê³ , ë°˜í™˜ê°’ìœ¼ë¡œ ë‚˜ì˜¤ë©°, ê°ì²´ì˜ í”„ë¡œí¼í‹°ë¡œ ì €ì¥ë  ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•¨\nì´ íŠ¹ì„± ë•ë¶„ì— ê³ ì°¨ í•¨ìˆ˜, ì½œë°±, í´ë¡œì €, í•¨ìˆ˜ í•©ì„± ê°™ì€ íŒ¨í„´ì´ ìì—°ìŠ¤ëŸ½ê²Œ êµ¬í˜„ë¨\u003c/p\u003e\n\u003ch3 id=\"í•µì‹¬-ê°œë…\"\u003eí•µì‹¬ ê°œë…\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eë³€ìˆ˜ì— í• ë‹¹ ê°€ëŠ¥\u003c/li\u003e\n\u003cli\u003eë‹¤ë¥¸ í•¨ìˆ˜ì˜ ì¸ìˆ˜ë¡œ ì „ë‹¬ ê°€ëŠ¥\u003c/li\u003e\n\u003cli\u003eë‹¤ë¥¸ í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥\u003c/li\u003e\n\u003cli\u003eê°ì²´ì˜ í”„ë¡œí¼í‹°ë¡œ ì €ì¥ ê°€ëŠ¥\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ê°„ë‹¨-ì˜ˆì‹œ\"\u003eê°„ë‹¨ ì˜ˆì‹œ\u003c/h3\u003e\n\u003cp\u003eë³€ìˆ˜ì— í• ë‹¹\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-javascript\" data-lang=\"javascript\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003egreet\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (\u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e) =\u0026gt; \u003cspan style=\"color:#e6db74\"\u003e`Hello, \u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e${\u003c/span\u003e\u003cspan style=\"color:#a6e22e\"\u003ename\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e}\u003c/span\u003e\u003cspan style=\"color:#e6db74\"\u003e`\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eì¸ìˆ˜ë¡œ ì „ë‹¬\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-javascript\" data-lang=\"javascript\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003econst\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003erun\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e (\u003cspan style=\"color:#a6e22e\"\u003efn\u003c/span\u003e, \u003cspan style=\"color:#a6e22e\"\u003ev\u003c/span\u003e) =\u0026gt; \u003cspan style=\"color:#a6e22e\"\u003efn\u003c/span\u003e(\u003cspan style=\"color:#a6e22e\"\u003ev\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#a6e22e\"\u003erun\u003c/span\u003e(\u003cspan style=\"color:#a6e22e\"\u003egreet\u003c/span\u003e, \u003cspan style=\"color:#e6db74\"\u003e\u0026#39;Bob\u0026#39;\u003c/span\u003e)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eë°˜í™˜ê°’ìœ¼ë¡œ ì‚¬ìš© ë° í´ë¡œì €\u003c/p\u003e","title":"JavaScript í•¨ìˆ˜ëŠ” ì™œ ì¼ê¸‰ ê°ì²´ì¸ê°€ â€” ì˜ë¯¸ì™€ í™œìš©"},{"content":"ê°œë…ê³¼ ë°°ê²½ InnoDBëŠ” ë°ì´í„°ë¥¼ í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤ ê¸°ì¤€ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„ ëŒ€ë¶€ë¶„ì˜ í…Œì´ë¸”ì—ì„œ ì´ í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤ëŠ” í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ ë‹´ë‹¹í•¨ ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ PKë¥¼ ì •ì˜í•˜ì§€ ì•Šì€ ê²½ìš°ì—ë„ InnoDBëŠ” í…Œì´ë¸”ì— í´ëŸ¬ìŠ¤í„° í‚¤ë¥¼ ë°˜ë“œì‹œ ê°–ë„ë¡ í•¨ ì´ë•Œ ê²°ì • ê·œì¹™ì´ ì¡´ì¬í•¨\në¨¼ì € NOT NULL ì œì•½ì„ ê°€ì§„ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ê°€ ìˆìœ¼ë©´ ê·¸ê²ƒì„ í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤ë¡œ ì‚¬ìš© ê·¸ëŸ° ì¸ë±ìŠ¤ê°€ ì—†ìœ¼ë©´ ë‚´ë¶€ 6ë°”ì´íŠ¸ row_idë¥¼ ìƒì„±í•´ ìˆ¨ê¹€ PKë¡œ ì‚¬ìš© ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” í•­ìƒ í´ëŸ¬ìŠ¤í„° í‚¤ë¥¼ í¬í•¨í•˜ì—¬ ë£©ì—…ì„ ìˆ˜í–‰í•¨ ë”°ë¼ì„œ ëª…ì‹œì  PKê°€ ì—†ë”ë¼ë„ ë‚´ë¶€ì ìœ¼ë¡œëŠ” í´ëŸ¬ìŠ¤í„° í‚¤ê°€ ì¡´ì¬í•˜ë©° ì €ì¥ê³¼ íƒìƒ‰ ê²½ë¡œì˜ ê¸°ì¤€ìœ¼ë¡œ ë™ì‘í•¨\ní•µì‹¬ ê°œë… ì •ë¦¬ í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤ í…Œì´ë¸”ì˜ ë¬¼ë¦¬ì  ì •ë ¬ ê¸°ì¤€ì´ ë˜ëŠ” ì¸ë±ìŠ¤ PK ë˜ëŠ” ê·¸ì— ì¤€í•˜ëŠ” í‚¤ê°€ ë‹´ë‹¹ ëª…ì‹œì  PK ë¶€ì¬ ì‹œ ë™ì‘ NOT NULL ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ê°€ ìˆìœ¼ë©´ í•´ë‹¹ ì¸ë±ìŠ¤ë¥¼ í´ëŸ¬ìŠ¤í„° í‚¤ë¡œ ì±„íƒ ì—†ìœ¼ë©´ 6ë°”ì´íŠ¸ ìˆ¨ê¹€ row_id ìƒì„± í›„ í´ëŸ¬ìŠ¤í„° í‚¤ë¡œ ì‚¬ìš© ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ ë¦¬í”„ì— í´ëŸ¬ìŠ¤í„° í‚¤ ê°’ì„ í¬í•¨í•˜ì—¬ ìµœì¢… ë ˆì½”ë“œì— ë„ë‹¬í•˜ëŠ” êµ¬ì¡° FK ì œì•½ ì°¸ì¡° ëŒ€ìƒì€ PK ë˜ëŠ” ìœ ë‹ˆí¬ í‚¤ê°€ í•„ìš” ìˆ¨ê¹€ row_idëŠ” ì™¸ë¶€ì—ì„œ ì°¸ì¡° ë¶ˆê°€ ì¥ì  ì„¤ê³„ ìœ ì—°ì„± í™•ë³´ ë¡œìš°ì˜ ê³ ìœ  ì‹ë³„ì„ ê°•ì œí•˜ì§€ ì•ŠìŒ ì¤‘ë³µ í—ˆìš© ì„¤ê³„ ê°€ëŠ¥ ë¡œê·¸ë‚˜ ì„ì‹œ ì ì¬ ê°™ì€ ì¼íšŒì„± ë°ì´í„°ì— ì í•© ìŠ¤í‚¤ë§ˆ ì„ ì–¸ ë‹¨ìˆœí™” ë³„ë„ PK ì¹¼ëŸ¼ì„ ì •ì˜ ê´€ë¦¬í•˜ì§€ ì•ŠìŒ ë‚´ë¶€ì ìœ¼ë¡œëŠ” InnoDBê°€ ì‹ë³„ìë¥¼ ë³´ìœ í•˜ë¯€ë¡œ ê°œë°œìëŠ” ì´ë¥¼ ì˜ì‹í•˜ì§€ ì•Šì•„ë„ ë¨ ë‚´ë¶€ ì‹ë³„ ìë™ ê´€ë¦¬ ë‚´ë¶€ row_idë¡œ ì¼ê´€ëœ í´ëŸ¬ìŠ¤í„°ë§ í™•ë³´ ë³„ë„ì˜ AUTO_INCREMENT ì¹¼ëŸ¼ì„ ë‘ì§€ ì•Šì•„ë„ ë˜ëŠ” ì„ íƒì§€ ì¡´ì¬ ë‹¨ì  í´ëŸ¬ìŠ¤í„°ë§ íš¨ìœ¨ ì €í•˜ ê°€ëŠ¥ì„± ì›Œí¬ë¡œë“œê°€ íŠ¹ì • ì¹¼ëŸ¼ ê¸°ì¤€ ë²”ìœ„ ì¡°íšŒ ì¤‘ì‹¬ì¸ ê²½ìš° í•´ë‹¹ ì¹¼ëŸ¼ì„ PKë¡œ ì¡ì„ ë•Œë³´ë‹¤ í˜ì´ì§€ ì§€ì—­ì„±ê³¼ ìŠ¤ìº” íš¨ìœ¨ì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŒ ìˆ¨ê¹€ row_id ê¸°ì¤€ ì •ë ¬ì€ ì—…ë¬´ í‚¤ì™€ ë¬´ê´€í•˜ë¯€ë¡œ ì˜ë„í•œ ì•¡ì„¸ìŠ¤ íŒ¨í„´ê³¼ ë¶ˆì¼ì¹˜ ë¬´ê²°ì„± ë° ì¤‘ë³µ ì œì–´ ë¶€ì¬ PKë‚˜ ìœ ë‹ˆí¬ í‚¤ê°€ ì—†ìœ¼ë©´ ë™ì¼ ë°ì´í„°ì˜ ë‹¤ì¤‘ ì‚½ì…ì„ ì œì•½í•˜ê¸° ì–´ë ¤ì›€ ì¤‘ë³µ ì œê±°ì™€ ì •í•©ì„± ë³´ì¥ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì±…ì„ìœ¼ë¡œ ì´ë™ FK ì‚¬ìš© ì œì•½ FKëŠ” ì°¸ì¡° ëŒ€ìƒì´ PK ë˜ëŠ” ìœ ë‹ˆí¬ í‚¤ì—¬ì•¼ í•¨ ìˆ¨ê¹€ row_idëŠ” ì™¸ë¶€ì—ì„œ ì°¸ì¡°í•  ìˆ˜ ì—†ì–´ ì‹¤ì§ˆì ìœ¼ë¡œ FK ê¸°ë°˜ ê´€ê³„í˜• ëª¨ë¸ êµ¬ì„± ë‚œì´ë„ ìƒìŠ¹ ìš´ì˜ ê´€ë¦¬ì™€ í™•ì¥ì„± ì €í•˜ ëŒ€ìš©ëŸ‰ í™˜ê²½ì—ì„œ ì£¼ ì‹ë³„ì ë¶€ì¬ëŠ” íŠ¸ëŸ¬ë¸”ìŠˆíŒ…ê³¼ íŠœë‹ ì§€ì ì„ ëª¨í˜¸í•˜ê²Œ ë§Œë“¦ ì¸ë±ìŠ¤ë¥¼ ë‹¤ìˆ˜ ì¶”ê°€í•´ë„ í´ëŸ¬ìŠ¤í„° í‚¤ê°€ ì›Œí¬ë¡œë“œì™€ ë§ì§€ ì•Šìœ¼ë©´ ì„±ëŠ¥ ì´ë“ì´ ì œí•œì ì¼ ìˆ˜ ìˆìŒ ì˜ˆì¸¡ ë¶ˆê°€ëŠ¥ì„± ì¦ê°€ ìˆ¨ê¹€ row_idëŠ” ì‚¬ìš©ì ê°€ì‹œì„±ê³¼ ì œì–´ê°€ ì—†ì–´ í´ëŸ¬ìŠ¤í„°ë§ ìˆœì„œë‚˜ ì¬ë°°ì¹˜ ì˜í–¥ ë¶„ì„ì´ ì–´ë ¤ì›€ ì–¸ì œ PK ìƒëµì„ ê³ ë ¤í•  ìˆ˜ ìˆëŠ”ê°€ ë¡œê·¸ ìˆ˜ì§‘ê³¼ ì„ì‹œ ì ì¬ì²˜ëŸ¼ ê°œë³„ ë¡œìš° ì‹ë³„ì´ ë¹„í•µì‹¬ì´ê³  ì¤‘ë³µ í—ˆìš© ì „ì œê°€ ìˆëŠ” ê²½ìš° FKë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì¼íšŒì„± ì²˜ë¦¬ í›„ ì£¼ê¸°ì  íŒŒí‹°ì…˜ ë“œë¡­ì´ë‚˜ ë²Œí¬ ì‚­ì œë¡œ ê´€ë¦¬í•˜ëŠ” í…Œì´ë¸” ì ‘ê·¼ íŒ¨í„´ì´ ëŒ€ë¶€ë¶„ ë‹¨ìˆœ ì‚½ì…ê³¼ ê¸°ê°„ ê¸°ë°˜ ì¼ê´„ ì‚­ì œì´ë©° ì¡°íšŒê°€ ì œí•œì ì¸ ì›Œí¬ë¡œë“œ ì´ ê²½ìš°ì—ë„ ìµœì†Œí•œì˜ ì œì•½ì„ ë‘ëŠ” í¸ì´ ì•ˆì „í•¨\nì—…ë¬´ì ìœ¼ë¡œ ìœ ì¼í•´ì•¼ í•˜ëŠ” ì¹¼ëŸ¼ ì¡°í•©ì—ëŠ” ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ ë¶€ì—¬ ê¶Œì¥ íŒŒí‹°ì…˜ í‚¤ ë˜ëŠ” ë³´ì¡´ ê¸°ê°„ ê¸°ì¤€ì˜ ê´€ë¦¬ ì „ëµì„ ëª…í™•íˆ ë¬¸ì„œí™” ì¡°íšŒê°€ ëŠ˜ê±°ë‚˜ ê´€ê³„ê°€ í•„ìš”í•´ì§ˆ ê°€ëŠ¥ì„±ì— ëŒ€ë¹„í•´ ìŠ¤í‚¤ë§ˆ ë³€ê²½ ê²½ë¡œë¥¼ ë§ˆë ¨ ì‹¤ë¬´ ê¶Œì¥ ì‚¬í•­ê³¼ íŠ¸ë ˆì´ë“œì˜¤í”„ OLTP ì›Œí¬ë¡œë“œ ê¸°ì¤€ ê¸°ë³¸ê°’ì€ ëª…ì‹œì  PK ë¶€ì—¬ ë‹¨ì¡° ì¦ê°€ surrogate keyë¥¼ PKë¡œ ì±„íƒí•´ í´ëŸ¬ìŠ¤í„° í˜ì´ì§€ ë¶„í•  ë¹„ìš©ì„ ë‚®ì¶”ëŠ” ì „ëµ ì„ í˜¸ ëª…ì‹œì  PKëŠ” ë‹¤ìŒ ì´ì ì„ ì œê³µ í´ëŸ¬ìŠ¤í„° ì¸ë±ìŠ¤ê°€ ì›Œí¬ë¡œë“œ ì ‘ê·¼ íŒ¨í„´ì„ ë°˜ì˜í•˜ë„ë¡ ì„¤ê³„ ê°€ëŠ¥ ì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ì˜ ì°¸ì¡° ëŒ€ìƒì´ ëª…í™•í•´ ë£©ì—… ë¹„ìš© ì˜ˆì¸¡ ìš©ì´ FK êµ¬ì„±ê³¼ ë¬´ê²°ì„± ë³´ì¥ ë‹¨ìˆœí™” PK ìƒëµì€ ìŠ¤í‚¤ë§ˆì™€ ì½”ë“œê°€ ë‹¨ìˆœí•´ ë³´ì´ì§€ë§Œ ìš´ì˜ ë‹¨ê³„ì—ì„œ ì„±ëŠ¥ ìµœì í™”ì™€ ë¬´ê²°ì„± í™•ë³´ ë¹„ìš©ì´ ì»¤ì§ˆ ìˆ˜ ìˆìŒ ì •ë¦¬ InnoDBëŠ” í•­ìƒ í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤ë¥¼ í•„ìš”ë¡œ í•¨ ëª…ì‹œì  PKê°€ ì—†ìœ¼ë©´ NOT NULL ìœ ë‹ˆí¬ í‚¤ë¥¼ ìš°ì„  ì‚¬ìš©í•˜ê³  ê·¸ë§ˆì € ì—†ìœ¼ë©´ 6ë°”ì´íŠ¸ ìˆ¨ê¹€ row_idë¥¼ ìƒì„±í•´ ëŒ€ì²´í•¨ PK ì—†ì´ ì¸ë±ìŠ¤ë§Œ ë‘ëŠ” ì„¤ê³„ëŠ” íŠ¹ìˆ˜ ëª©ì ì—ì„œë§Œ ê³ ë ¤ ë¡œê·¸ì™€ ì„ì‹œ ì €ì¥ ë“± ì¤‘ë³µ í—ˆìš©ê³¼ ë‚®ì€ ì •í•©ì„± ìš”êµ¬ì˜ ì‹œë‚˜ë¦¬ì˜¤ì— í•œì •í•˜ëŠ” í¸ì´ ì•ˆì „ ì¼ë°˜ì ì¸ OLTP í™˜ê²½ì—ì„œëŠ” ëª…ì‹œì  PKê°€ ì‚¬ì‹¤ìƒ í•„ìˆ˜ ë¬´ê²°ì„± ë³´ì¥ê³¼ ì¿¼ë¦¬ ìµœì í™”, FK êµ¬ì„±, ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì„±ëŠ¥ íŠœë‹ ì¸¡ë©´ì—ì„œ ì´ì ì´ í¼ ê²°ë¡ ì ìœ¼ë¡œ PKë¥¼ ë‘ì§€ ì•ŠëŠ” ì„ íƒì€ ì˜ˆì™¸ì  ìƒí™©ìœ¼ë¡œ ì œí•œí•˜ê³  ëŒ€ë¶€ë¶„ì˜ í…Œì´ë¸”ì—ëŠ” ì—…ë¬´ ë§¥ë½ì— ë§ëŠ” ëª…ì‹œì  PKë¥¼ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ë°”ëŒì§í•¨ ì°¸ê³ ìë£Œ https://dev.mysql.com/doc/refman/8.0/en/innodb-index-types.html https://dev.mysql.com/doc/refman/8.0/en/innodb-primary-key.html https://dev.mysql.com/doc/refman/8.0/en/create-table-foreign-keys.html ","permalink":"https://blog.jsontapose.com/posts/innodb-pk-less-tables-trade-offs-2dc695/","summary":"\u003ch3 id=\"ê°œë…ê³¼-ë°°ê²½\"\u003eê°œë…ê³¼ ë°°ê²½\u003c/h3\u003e\n\u003cp\u003eInnoDBëŠ” ë°ì´í„°ë¥¼ í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤ ê¸°ì¤€ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ì„\nëŒ€ë¶€ë¶„ì˜ í…Œì´ë¸”ì—ì„œ ì´ í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤ëŠ” í”„ë¼ì´ë¨¸ë¦¬ í‚¤ê°€ ë‹´ë‹¹í•¨\nì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ PKë¥¼ ì •ì˜í•˜ì§€ ì•Šì€ ê²½ìš°ì—ë„ InnoDBëŠ” í…Œì´ë¸”ì— í´ëŸ¬ìŠ¤í„° í‚¤ë¥¼ ë°˜ë“œì‹œ ê°–ë„ë¡ í•¨\nì´ë•Œ ê²°ì • ê·œì¹™ì´ ì¡´ì¬í•¨\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eë¨¼ì € NOT NULL ì œì•½ì„ ê°€ì§„ ìœ ë‹ˆí¬ ì¸ë±ìŠ¤ê°€ ìˆìœ¼ë©´ ê·¸ê²ƒì„ í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤ë¡œ ì‚¬ìš©\u003c/li\u003e\n\u003cli\u003eê·¸ëŸ° ì¸ë±ìŠ¤ê°€ ì—†ìœ¼ë©´ ë‚´ë¶€ 6ë°”ì´íŠ¸ row_idë¥¼ ìƒì„±í•´ ìˆ¨ê¹€ PKë¡œ ì‚¬ìš©\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eì„¸ì»¨ë”ë¦¬ ì¸ë±ìŠ¤ëŠ” í•­ìƒ í´ëŸ¬ìŠ¤í„° í‚¤ë¥¼ í¬í•¨í•˜ì—¬ ë£©ì—…ì„ ìˆ˜í–‰í•¨\në”°ë¼ì„œ ëª…ì‹œì  PKê°€ ì—†ë”ë¼ë„ ë‚´ë¶€ì ìœ¼ë¡œëŠ” í´ëŸ¬ìŠ¤í„° í‚¤ê°€ ì¡´ì¬í•˜ë©° ì €ì¥ê³¼ íƒìƒ‰ ê²½ë¡œì˜ ê¸°ì¤€ìœ¼ë¡œ ë™ì‘í•¨\u003c/p\u003e","title":"InnoDBì—ì„œ PK ì—†ëŠ” í…Œì´ë¸”ì˜ ë™ì‘ê³¼ íŠ¸ë ˆì´ë“œì˜¤í”„"},{"content":"SSE(Server-Sent Events)ë€ ë¬´ì—‡ì¸ê°€ SSEëŠ” Server-Sent Eventsì˜ ì•½ìë¡œ, ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ë¡œ ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ë‹¨ë°©í–¥ìœ¼ë¡œ í‘¸ì‹œ(push)í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì›¹ ê¸°ìˆ ì„ í´ë¼ì´ì–¸íŠ¸ê°€ ë¨¼ì € ìš”ì²­ì„ ë³´ë‚´ê³  ì„œë²„ëŠ” ê·¸ ì—°ê²°ì„ ëŠì§€ ì•Šì€ ì±„, ìƒˆë¡œìš´ ë°ì´í„°ê°€ ìƒê¸¸ ë•Œë§ˆë‹¤ ì§€ì†ì ìœ¼ë¡œ ì‘ë‹µì„ ë³´ë‚´ëŠ” ë°©ì‹ì„\nì£¼ë¡œ ì‹¤ì‹œê°„ ì•Œë¦¼, ì£¼ì‹ ì‹œì„¸ ì—…ë°ì´íŠ¸, ë¼ì´ë¸Œ í”¼ë“œ ë“± ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ì¼ë°©ì ì¸ ë°ì´í„° ì „ì†¡ì´ í•„ìš”í•œ ê²½ìš°ì— ë§¤ìš° ìœ ìš©í•¨\nSSE vs ì›¹ì†Œì¼“, ê·¸ë¦¬ê³  í•œê³„ SSEëŠ” ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ì „ì†¡ì— ìœ ìš©í•˜ì§€ë§Œ ë§ŒëŠ¥ì€ ì•„ë‹˜. ì›¹ì†Œì¼“ê³¼ ë¹„êµí–ˆì„ ë•Œ ëª…í™•í•œ ì¥ë‹¨ì ì´ ì¡´ì¬í•¨\nì¥ì  ê°„ë‹¨í•œ êµ¬í˜„ EventSource API(ì´ ì˜ˆì œì—ì„  ì•ˆ ì¼ì§€ë§Œ)ëŠ” ì‚¬ìš©ì´ ë§¤ìš° ê°„í¸í•˜ë©° ìë™ ì¬ì—°ê²° ê¸°ëŠ¥ê¹Œì§€ ë‚´ì¥í•¨. ì„œë²„ ì¸¡ë„ ê¸°ì¡´ HTTP ì„œë²„ì—ì„œ í—¤ë” ì„¤ì •ë§Œ ì¶”ê°€í•˜ë©´ ë¨ HTTP ì¹œí™”ì  (HTTP/2ì˜ ê°•ë ¥í•œ ì´ì ) HTTP/1.1ì˜ í•œê³„: ë¸Œë¼ìš°ì €ëŠ” ë™ì¼ ë„ë©”ì¸ë‹¹ ìµœëŒ€ 6ê°œ ì—°ê²° ì œí•œì´ ìˆì–´, SSEê°€ 1ê°œë¥¼ ì ìœ í•˜ë©´ ë‹¤ë¥¸ API ìš”ì²­ì´ ì§€ì—°(Head-of-Line Blocking)ë  ìˆ˜ ìˆìŒ HTTP/2ì˜ í•´ê²°ì±…: HTTP/2ëŠ” í•˜ë‚˜ì˜ TCP ì—°ê²° ë‚´ì—ì„œ ì—¬ëŸ¬ ìš”ì²­/ì‘ë‹µì„ ìŠ¤íŠ¸ë¦¼(Stream)ìœ¼ë¡œ ë‹¤ì¤‘í™”(Multiplexing)í•¨. ì¦‰, SSE ì—°ê²°(ìŠ¤íŠ¸ë¦¼ 1)ì´ ì—´ë ¤ ìˆëŠ” ìƒíƒœì—ì„œë„ ë‹¤ë¥¸ API ìš”ì²­(ìŠ¤íŠ¸ë¦¼ 2, 3)ì´ ë™ì¼í•œ TCP ì—°ê²°ì„ í†µí•´ ì§€ì—° ì—†ì´ ë™ì‹œì— ì²˜ë¦¬ë¨ ê²°ë¡ : í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” 6ê°œ ì—°ê²° ì œí•œ íšŒí”¼ë¥¼ ìœ„í•´ HTTP/2 (HTTPS) í™˜ê²½ êµ¬ì„±ì„ ê°•ë ¥íˆ ê¶Œì¥í•¨ ìœ ì§€ë³´ìˆ˜ ìš©ì´ í”„ë¡œí† ì½œ ìì²´ê°€ ë‹¨ìˆœí•˜ì—¬ ë””ë²„ê¹…ì´ë‚˜ ìœ ì§€ë³´ìˆ˜ê°€ ì›¹ì†Œì¼“ë³´ë‹¤ ì‰¬ì›€ í•œê³„ ë‹¨ë°©í–¥ í†µì‹  (One-way) ê°€ì¥ í° í•œê³„ë¡œ, ì˜¤ì§ ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œë§Œ ë°ì´í„°ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆìŒ. í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ë¡œ ë°ì´í„°ë¥¼ ë³´ë‚´ë ¤ë©´ ë³„ë„ì˜ fetchë‚˜ axiosë¥¼ ì‚¬ìš©í•œ POST ìš”ì²­ì´ í•„ìš”í•¨ ì—°ê²° ìˆ˜ ì œí•œ (HTTP/1.1) ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´, HTTP/1.1 í™˜ê²½ì—ì„œëŠ” ë¸Œë¼ìš°ì €ì˜ ë„ë©”ì¸ë‹¹ ì—°ê²° ìˆ˜ ì œí•œ(ë³´í†µ 6ê°œ)ì— ì˜í–¥ì„ ë°›ìŒ í”„ë¡œí† ì½œ: í‘œì¤€ HTTP SSEëŠ” ì›¹ì†Œì¼“(WebSocket)ì²˜ëŸ¼ ws:// ê°™ì€ ë³„ë„ì˜ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ ìš°ë¦¬ê°€ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” í‘œì¤€ HTTP/1.1 (ë˜ëŠ” HTTP/2) í”„ë¡œí† ì½œ ìœ„ì—ì„œ ë™ì‘í•¨\ní•µì‹¬ ë™ì‘ ì›ë¦¬ëŠ”, í´ë¼ì´ì–¸íŠ¸ì˜ ìµœì´ˆ HTTP GET ìš”ì²­ì— ëŒ€í•´ ì„œë²„ê°€ ì—°ê²°ì„ ì¢…ë£Œ(close)í•˜ì§€ ì•Šê³ , ì‘ë‹µì„ ìŠ¤íŠ¸ë¦¬ë°í•˜ëŠ” ê²ƒì„\nSSE ì—°ê²° (ì„œë²„ ì¸¡ ì„¤ì •) í´ë¼ì´ì–¸íŠ¸ê°€ SSE ì—°ê²°ì„ ìš”ì²­í•  ë•Œ(ì˜ˆ: /events), ì„œë²„ëŠ” ì¼ë°˜ì ì¸ HTMLì´ë‚˜ JSONì´ ì•„ë‹Œ, ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¼ì„ì„ ì•Œë¦¬ëŠ” íŠ¹ì • HTTP í—¤ë”ë¡œ ì‘ë‹µí•´ì•¼ í•¨\nContent-Type: text/event-stream (í•„ìˆ˜) Connection: keep-alive (ì—°ê²° ìœ ì§€) Cache-Control: no-cache (ì¤‘ê°„ í”„ë¡ì‹œë‚˜ ë¸Œë¼ìš°ì €ê°€ ì‘ë‹µì„ ìºì‹œí•˜ì§€ ì•Šë„ë¡ ë°©ì§€) // Node.js (Express ì˜ˆì‹œ) // npm install express import express from \u0026#34;express\u0026#34;; const app = express(); // ì—°ê²°ëœ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸(res ê°ì²´)ë¥¼ ì €ì¥ const clients = new Set(); app.get(\u0026#34;/events\u0026#34;, (req, res) =\u0026gt; { // 1. SSE ì—°ê²°ì„ ìœ„í•œ í•„ìˆ˜ í—¤ë” ì„¤ì • res.writeHead(200, { \u0026#34;Content-Type\u0026#34;: \u0026#34;text/event-stream\u0026#34;, Connection: \u0026#34;keep-alive\u0026#34;, \u0026#34;Cache-Control\u0026#34;: \u0026#34;no-cache\u0026#34;, }); // 2. ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ë¥¼ Setì— ì¶”ê°€ clients.add(res); console.log(\u0026#34;Client connected\u0026#34;); // 3. í´ë¼ì´ì–¸íŠ¸ê°€ ì—°ê²°ì„ ëŠì—ˆì„ ë•Œì˜ ì²˜ë¦¬ req.on(\u0026#34;close\u0026#34;, () =\u0026gt; { clients.delete(res); console.log(\u0026#34;Client disconnected\u0026#34;); }); }); app.listen(3000, () =\u0026gt; console.log(\u0026#34;SSE server listening on port 3000\u0026#34;)); SSE ì—°ê²° (í´ë¼ì´ì–¸íŠ¸ ì¸¡ - EventSource ë¯¸ì‚¬ìš©) ë¸Œë¼ìš°ì €ì—ëŠ” EventSourceë¼ëŠ” SSE ì „ìš© APIê°€ ìˆì§€ë§Œ, ì—¬ê¸°ì„œëŠ” SSEê°€ HTTP ìœ„ì—ì„œ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ëª…í™•íˆ ë³´ê¸° ìœ„í•´ fetch APIì˜ ìŠ¤íŠ¸ë¦¬ë° ê¸°ëŠ¥ì„ ì‚¬ìš©í•¨\nfetchë¥¼ ì‚¬ìš©í•˜ë©´ ì„œë²„ì˜ ì‘ë‹µ ë°”ë””(body)ë¥¼ ReadableStreamìœ¼ë¡œ ë°›ì•„ ì²­í¬(chunk) ë‹¨ìœ„ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ\n// Client-side (Browser JS) async function connectSSE() { let response; try { response = await fetch(\u0026#34;http://localhost:3000/events\u0026#34;); } catch (error) { console.error(\u0026#34;Connection failed:\u0026#34;, error); return; } // 1. ì‘ë‹µ ë°”ë””ì—ì„œ ReadableStreamì˜ ë¦¬ë”(reader)ë¥¼ ê°€ì ¸ì˜´ const reader = response.body.getReader(); // 2. í…ìŠ¤íŠ¸ ë””ì½”ë” ì¤€ë¹„ (ë°”ì´ë„ˆë¦¬ ë°ì´í„°ë¥¼ UTF-8 í…ìŠ¤íŠ¸ë¡œ ë³€í™˜) const decoder = new TextDecoder(); // 3. ìŠ¤íŠ¸ë¦¼ì´ ëë‚  ë•Œ(done)ê¹Œì§€ ë¬´í•œ ë£¨í”„ while (true) { const { done, value } = await reader.read(); if (done) { console.log(\u0026#34;Stream finished\u0026#34;); break; // ì„œë²„ê°€ ì—°ê²°ì„ ì¢…ë£Œí•¨ } // 4. ìˆ˜ì‹ ëœ ë°”ì´ë„ˆë¦¬ ì²­í¬(value)ë¥¼ í…ìŠ¤íŠ¸ë¡œ ë””ì½”ë”© const rawChunk = decoder.decode(value); // (ì´í›„ ì´ ì²­í¬ë¥¼ íŒŒì‹±í•˜ëŠ” ë¡œì§ì´ í•„ìš”í•¨) parseStreamChunk(rawChunk); } } // (íŒŒì‹± ë¡œì§ì€ ì•„ë˜ \u0026#39;ì´ë²¤íŠ¸ íŒŒì‹±\u0026#39; ì„¹ì…˜ ì°¸ê³ ) connectSSE(); SSE ì´ë²¤íŠ¸ í˜•ì‹ê³¼ ì†¡ì‹  (ì„œë²„ ì¸¡) SSEëŠ” ì •í•´ì§„ í…ìŠ¤íŠ¸ í˜•ì‹ì„ ì‚¬ìš©í•¨. ê°€ì¥ ì¤‘ìš”í•œ í•„ë“œëŠ” data:ì„ ê° ë©”ì‹œì§€ëŠ” ë‘ ë²ˆì˜ ê°œí–‰(\\n\\n)ìœ¼ë¡œ êµ¬ë¶„ë¨\ndata: [ë³´ë‚¼ ë°ì´í„°] (í•„ìˆ˜) event: [ì´ë²¤íŠ¸ ì´ë¦„] (ì˜µì…˜, í´ë¼ì´ì–¸íŠ¸ê°€ ì´ë²¤íŠ¸ë¥¼ êµ¬ë¶„í•  ë•Œ ì‚¬ìš©) id: [ë©”ì‹œì§€ ID] (ì˜µì…˜, ì¬ì—°ê²° ì‹œ ë§ˆì§€ë§‰ IDë¥¼ ì„œë²„ë¡œ ë³´ëƒ„) clients Setì— ì €ì¥ëœ res ê°ì²´ì— res.write()ë¥¼ ì‚¬ìš©í•´ ë°ì´í„°ë¥¼ ì „ì†¡í•¨\n// Node.js (Express) - ì„œë²„ ì–´ë””ì—ì„œë“  í˜¸ì¶œ ê°€ëŠ¥ // ëª¨ë“  ì—°ê²°ëœ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë¸Œë¡œë“œìºìŠ¤íŠ¸í•˜ëŠ” í•¨ìˆ˜ function broadcast(eventName, data) { // 1. (ì˜µì…˜) \u0026#39;update\u0026#39;ë¼ëŠ” ì´ë¦„ì˜ ì´ë²¤íŠ¸ë¥¼ ì§€ì • const message = `event: ${eventName}\\n` + // 2. (í•„ìˆ˜) ì‹¤ì œ ë°ì´í„°ë¥¼ \u0026#39;data:\u0026#39; í•„ë“œì— ë‹´ì•„ ì „ì†¡ `data: ${data}\\n` + // 3. (í•„ìˆ˜) ë©”ì‹œì§€ì˜ ëì„ ì•Œë¦¬ëŠ” ê°œí–‰ ì „ì†¡ `\\n`; for (const res of clients) { res.write(message); } } // 2ì´ˆë§ˆë‹¤ ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ì—ê²Œ \u0026#39;update\u0026#39; ì´ë²¤íŠ¸ ì „ì†¡ setInterval(() =\u0026gt; { broadcast(\u0026#34;update\u0026#34;, `This is message number ${Date.now()}`); }, 2000); JSON ë°ì´í„° ì „ì†¡ ì‹œ ì£¼ì˜ì  data: í•„ë“œê°€ ì—¬ëŸ¬ ì¤„ì¼ ê²½ìš° íŒŒì„œëŠ” ì´ë¥¼ \\nìœ¼ë¡œ ì´ì–´ë¶™ì„ ì´ëŠ” JSONì„ ì—¬ëŸ¬ ì¤„ì˜ data: í•„ë“œë¡œ ìª¼ê°œì–´ ë³´ë‚´ë©´ ì•ˆ ëœë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•¨\n// ì„œë²„ì—ì„œ JSON ì „ì†¡ ì‹œ const payload = { user: \u0026#34;test\u0026#34;, value: 123 }; // [Good âœ…] JSONì€ ë°˜ë“œì‹œ í•œ ì¤„ì˜ data í•„ë“œë¡œ ì „ì†¡ broadcast(\u0026#34;update\u0026#34;, JSON.stringify(payload)); // (ì „ì†¡ë˜ëŠ” í…ìŠ¤íŠ¸: \u0026#39;event: update\\ndata: {\u0026#34;user\u0026#34;:\u0026#34;test\u0026#34;,\u0026#34;value\u0026#34;:123}\\n\\n\u0026#39;) // [Bad âŒ] ì•„ë˜ì™€ ê°™ì´ ì—¬ëŸ¬ data ë¼ì¸ì— ê±¸ì³ JSONì„ ìª¼ê°œë©´ // res.write(`data: {\u0026#34;user\u0026#34;: \u0026#34;test\u0026#34;,\\n`) // res.write(`data: \u0026#34;value\u0026#34;: 123}\\n\\n`) // í´ë¼ì´ì–¸íŠ¸ íŒŒì„œëŠ” ë§ê°€ì§„ í…ìŠ¤íŠ¸(\u0026#39;{\u0026#34;user\u0026#34;: \u0026#34;test\u0026#34;,\\n\u0026#34;value\u0026#34;: 123}\u0026#39;)ë¥¼ ë°›ê²Œ ë˜ì–´ // JSON.parse()ì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí•¨ SSE ì´ë²¤íŠ¸ íŒŒì‹± (í´ë¼ì´ì–¸íŠ¸ ì¸¡ - EventSource ë¯¸ì‚¬ìš©) ì„œë²„ê°€ ë³´ë‚¸ ë°ì´í„° ì²­í¬ëŠ” ë©”ì‹œì§€ ê²½ê³„(\\n\\n)ì™€ ì •í™•íˆ ì¼ì¹˜í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ ë”°ë¼ì„œ í´ë¼ì´ì–¸íŠ¸ëŠ” ë°ì´í„°ë¥¼ ë²„í¼(buffer)ì— ìŒ“ì•„ë‘ê³ , ë©”ì‹œì§€ êµ¬ë¶„ì(\\n\\n)ê°€ ë‚˜íƒ€ë‚  ë•Œë§ˆë‹¤ íŒŒì‹±í•´ì•¼ í•¨\n// Client-side (Browser JS) let buffer = \u0026#34;\u0026#34;; // ìˆ˜ì‹ ëœ ì²­í¬ë¥¼ ì„ì‹œ ì €ì¥í•  ë²„í¼ // connectSSE()ì˜ read() ë£¨í”„ì—ì„œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ function parseStreamChunk(rawChunk) { // 1. ë²„í¼ì— ìƒˆë¡œ ìˆ˜ì‹ ëœ ì²­í¬ë¥¼ ì¶”ê°€ buffer += rawChunk; // 2. ë²„í¼ì—ì„œ ë©”ì‹œì§€ êµ¬ë¶„ì(\\n\\n)ë¥¼ ì°¾ìŒ let boundary = buffer.indexOf(\u0026#34;\\n\\n\u0026#34;); // 3. êµ¬ë¶„ìê°€ ì¡´ì¬í•˜ë©´ (ì¦‰, ë©”ì‹œì§€ê°€ í•˜ë‚˜ ì´ìƒ ì™„ì„±ë˜ë©´) while (boundary !== -1) { // 4. ì™„ì„±ëœ ë©”ì‹œì§€ í•œ ê°œë¥¼ ì¶”ì¶œ (êµ¬ë¶„ì ì•ê¹Œì§€) const rawMessage = buffer.substring(0, boundary); // 5. ë²„í¼ì—ì„œ ì²˜ë¦¬ëœ ë©”ì‹œì§€+êµ¬ë¶„ì ì œê±° buffer = buffer.substring(boundary + 2); // 6. ì¶”ì¶œí•œ ë©”ì‹œì§€ íŒŒì‹± parseMessage(rawMessage); // 7. ë²„í¼ì— ë˜ ë‹¤ë¥¸ ë©”ì‹œì§€ê°€ ìˆëŠ”ì§€ í™•ì¸ boundary = buffer.indexOf(\u0026#34;\\n\\n\u0026#34;); } } // ìˆ˜ì‹ ëœ raw ë©”ì‹œì§€ë¥¼ íŒŒì‹±í•˜ëŠ” í—¬í¼ í•¨ìˆ˜ function parseMessage(rawMessage) { const lines = rawMessage.split(\u0026#34;\\n\u0026#34;); let eventType = \u0026#34;message\u0026#34;; // event: í•„ë“œê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ \u0026#39;message\u0026#39; let eventData = \u0026#34;\u0026#34;; for (const line of lines) { if (line.startsWith(\u0026#34;event:\u0026#34;)) { eventType = line.substring(6).trim(); } else if (line.startsWith(\u0026#34;data:\u0026#34;)) { // data í•„ë“œê°€ ì—¬ëŸ¬ ì¤„ì¼ ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ (JSONì´ ì•„ë‹Œ ê²½ìš°) eventData += line.substring(5).trim(); } } if (eventData) { console.log(`[Event Received] Type: ${eventType}, Data: ${eventData}`); // ì—¬ê¸°ì„œ DOMì„ ì—…ë°ì´íŠ¸í•˜ê±°ë‚˜ ì•Œë¦¼ì„ í‘œì‹œí•˜ëŠ” ë“± ì‹¤ì œ ì‘ì—… ìˆ˜í–‰ } } í•˜íŠ¸ë¹„íŠ¸ (Heartbeat) ì¼ë¶€ í”„ë¡ì‹œ ì„œë²„ë‚˜ ë°©í™”ë²½ì€ ì¼ì • ì‹œê°„ ë™ì•ˆ ë°ì´í„° ì „ì†¡ì´ ì—†ìœ¼ë©´ í•´ë‹¹ ì—°ê²°ì„ ìœ íœ´(idle) ìƒíƒœë¡œ ê°„ì£¼í•˜ê³  ê°•ì œë¡œ ì¢…ë£Œí•  ìˆ˜ ìˆìŒ ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì„œë²„ëŠ” ì£¼ê¸°ì ìœ¼ë¡œ ì˜ë¯¸ ì—†ëŠ” ë°ì´í„°(ì£¼ì„)ë¥¼ ë³´ë‚´ ì—°ê²°ì´ ì‚´ì•„ìˆìŒì„ ì•Œë ¤ì•¼ í•¨. ì´ë¥¼ í•˜íŠ¸ë¹„íŠ¸ë¼ê³  í•¨\nSSE ìŠ¤í™ì—ì„œ ì½œë¡ (:)ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ë¼ì¸ì€ ì£¼ì„ìœ¼ë¡œ ì·¨ê¸‰ë˜ë©° í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë¬´ì‹œë¨\n// Node.js (Express) - ì„œë²„ ì¸¡ // 15ì´ˆë§ˆë‹¤ í•˜íŠ¸ë¹„íŠ¸ ì „ì†¡ setInterval(() =\u0026gt; { // : ì£¼ì„ì€ í´ë¼ì´ì–¸íŠ¸ì˜ message ì´ë²¤íŠ¸ë¡œ ì „ë‹¬ë˜ì§€ ì•ŠìŒ const heartbeatMessage = \u0026#34;: heartbeat\\n\\n\u0026#34;; for (const res of clients) { res.write(heartbeatMessage); } }, 15000); í´ë¼ì´ì–¸íŠ¸ ì¸¡ì—ì„œëŠ” parseMessage í•¨ìˆ˜ê°€ event:ë‚˜ data:ê°€ ì•„ë‹Œ ë¼ì¸ì„ ë¬´ì‹œí•˜ë¯€ë¡œ ë³„ë„ ì½”ë“œê°€ í•„ìš” ì—†ìŒ\nì„œë²„ì—ì„œ íŠ¹ì • ì—°ê²° ê°•ì œ ì¢…ë£Œ ì¸ì¦ ë§Œë£Œ, ì¤‘ë³µ ë¡œê·¸ì¸ ë“±ì˜ ì´ìœ ë¡œ ì„œë²„ê°€ íŠ¹ì • ì‚¬ìš©ìì˜ ì—°ê²°ì„ ì„ ë³„ì ìœ¼ë¡œ ì¢…ë£Œí•´ì•¼ í•  ìˆ˜ ìˆìŒ\n// Node.js (Express) - /events í•¸ë“¤ëŸ¬ app.get(\u0026#34;/events\u0026#34;, (req, res) =\u0026gt; { // ... í—¤ë” ì„¤ì • ... // (ì‹¤ì œë¡œëŠ” JWT ë“±ì—ì„œ íŒŒì‹±í•œ ID) res.locals.userId = \u0026#34;user-\u0026#34; + Math.floor(Math.random() * 1000); clients.add(res); req.on(\u0026#34;close\u0026#34;, () =\u0026gt; { clients.delete(res); }); }); // (ì–´ë“œë¯¼ API ë“±) íŠ¹ì • ì‚¬ìš©ìë¥¼ ì¢…ë£Œì‹œì¼œì•¼ í•  ë•Œ function kickUser(userIdToKick, reason) { for (const res of clients) { if (res.locals.userId === userIdToKick) { // 1. í´ë¼ì´ì–¸íŠ¸ê°€ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì—ëŸ¬ ì´ë²¤íŠ¸ë¥¼ ì „ì†¡ const message = `event: error\\ndata: ${JSON.stringify({ code: \u0026#34;KICKED\u0026#34;, reason: reason, })}\\n\\n`; res.write(message); // 2. ìŠ¤íŠ¸ë¦¼ì„ ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œ (í´ë¼ì´ì–¸íŠ¸ì˜ req.on(\u0026#39;close\u0026#39;)ê°€ í˜¸ì¶œë¨) res.end(); console.log(`Kicked user: ${userIdToKick}`); break; } } } // ì˜ˆì‹œ: 5ì´ˆ ë’¤ íŠ¹ì • ìœ ì € ê°•ì œ ì¢…ë£Œ setTimeout(() =\u0026gt; { // (ì‹¤ì œë¡œëŠ” IDë¥¼ íŠ¹ì •í•´ì•¼ í•¨) if (clients.size \u0026gt; 0) { const userToKick = clients.values().next().value.locals.userId; kickUser(userToKick, \u0026#34;Session expired\u0026#34;); } }, 5000); ë§ˆë¬´ë¦¬ SSEëŠ” ë‹¨ë°©í–¥ ì‹¤ì‹œê°„ ë°ì´í„°(ì•Œë¦¼, ì‹œì„¸, í”¼ë“œ) ì „ì†¡ì´ í•„ìš”í•  ë•Œ êµ¬í˜„ì´ ê°„ë‹¨í•˜ê³  íš¨ìœ¨ì ì¸ í›Œë¥­í•œ ì„ íƒì§€ì„\në°˜ë©´, ì±„íŒ…ì´ë‚˜ ì‹¤ì‹œê°„ ì˜¨ë¼ì¸ ê²Œì„ì²˜ëŸ¼ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ì§€ì†ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ëŠ” ì–‘ë°©í–¥ í†µì‹ ì´ í•„ìˆ˜ì ì´ë¼ë©´ ì›¹ì†Œì¼“ì´ ì í•©í•¨\ní”„ë¡œì íŠ¸ì˜ ìš”êµ¬ì‚¬í•­ì„ ëª…í™•íˆ íŒŒì•…í•˜ê³ , ë‹¨ë°©í–¥ì¸ì§€ ì–‘ë°©í–¥ì¸ì§€ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì ì ˆí•œ ê¸°ìˆ  ìŠ¤í™ì„ ê³ ë¥´ëŠ” ê²ƒì´ ì¤‘ìš”í•¨\nì°¸ê³ ìë£Œ MDN - Server-Sent Events ì‚¬ìš©í•˜ê¸° https://developer.mozilla.org/ko/docs/Web/API/Server-Sent_Events/Using_Server-Sent_Events WHATWG - Server-Sent Events ìŠ¤í™ https://html.spec.whatwg.org/multipage/server-sent-events.html ","permalink":"https://blog.jsontapose.com/posts/sse-realtime-notification-architecture-nestjs-redis-pub-sub-f4346d/","summary":"\u003ch1 id=\"sseserver-sent-eventsë€-ë¬´ì—‡ì¸ê°€\"\u003eSSE(Server-Sent Events)ë€ ë¬´ì—‡ì¸ê°€\u003c/h1\u003e\n\u003cp\u003eSSEëŠ” \u003cstrong\u003eServer-Sent Events\u003c/strong\u003eì˜ ì•½ìë¡œ, ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ë¡œ \u003cstrong\u003eì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ë‹¨ë°©í–¥ìœ¼ë¡œ í‘¸ì‹œ\u003c/strong\u003e(push)í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì›¹ ê¸°ìˆ ì„\ní´ë¼ì´ì–¸íŠ¸ê°€ ë¨¼ì € ìš”ì²­ì„ ë³´ë‚´ê³  ì„œë²„ëŠ” ê·¸ ì—°ê²°ì„ ëŠì§€ ì•Šì€ ì±„, ìƒˆë¡œìš´ ë°ì´í„°ê°€ ìƒê¸¸ ë•Œë§ˆë‹¤ ì§€ì†ì ìœ¼ë¡œ ì‘ë‹µì„ ë³´ë‚´ëŠ” ë°©ì‹ì„\u003c/p\u003e\n\u003cp\u003eì£¼ë¡œ ì‹¤ì‹œê°„ ì•Œë¦¼, ì£¼ì‹ ì‹œì„¸ ì—…ë°ì´íŠ¸, ë¼ì´ë¸Œ í”¼ë“œ ë“± ì„œë²„ì—ì„œ í´ë¼ì´ì–¸íŠ¸ë¡œ ì¼ë°©ì ì¸ ë°ì´í„° ì „ì†¡ì´ í•„ìš”í•œ ê²½ìš°ì— ë§¤ìš° ìœ ìš©í•¨\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"sse-vs-ì›¹ì†Œì¼“-ê·¸ë¦¬ê³ -í•œê³„\"\u003eSSE vs ì›¹ì†Œì¼“, ê·¸ë¦¬ê³  í•œê³„\u003c/h2\u003e\n\u003cp\u003eSSEëŠ” ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ì „ì†¡ì— ìœ ìš©í•˜ì§€ë§Œ ë§ŒëŠ¥ì€ ì•„ë‹˜. ì›¹ì†Œì¼“ê³¼ ë¹„êµí–ˆì„ ë•Œ ëª…í™•í•œ ì¥ë‹¨ì ì´ ì¡´ì¬í•¨\u003c/p\u003e","title":"SSEë€? ì‹¤ì‹œê°„ ì´ë²¤íŠ¸ ì „ë‹¬ í”„ë¡œí† ì½œ (Server-Sent Events)"},{"content":"ê°œìš” Node.jsì—ì„œ ë””ë²„ê¹…ì€ ë¬¸ì œë¥¼ ì¬í˜„ ê°€ëŠ¥í•œ ìµœì†Œ ë‹¨ìœ„ë¡œ ì¶•ì†Œí•˜ê³ , ì‹¤í–‰ íë¦„ê³¼ ìƒíƒœë¥¼ ê´€ì°°í•´ ì›ì¸ì„ ë‹¨ì •í•˜ëŠ” ê³¼ì •ì„. ì´ ê¸€ì€ ë””ë²„ê¹… ê¸°ë³¸ ì›ë¦¬ì™€ í•¨ê»˜ Node.js í™˜ê²½ì—ì„œ ìì£¼ ì“°ëŠ” ì„¸ ê°€ì§€ ë°©ë²•ì¸ Chrome DevTools, node-inspect CLI, VS Code ë””ë²„ê±° ì‚¬ìš©ë²•ì„ ì •ë¦¬í•¨\në¬¸ì œë¥¼ ëª…í™•íˆ í•˜ê¸° ì‘ì„±í•œ ì½”ë“œì˜ ê¸°ëŒ€ ë™ì‘ ì •ì˜ ì‹¤ì œ ê´€ì¸¡ëœ ë™ì‘ê³¼ì˜ ì°¨ì´ ì •ë¦¬ ì‹¤íŒ¨ ì¡°ê±´ê³¼ ì¬í˜„ ì ˆì°¨ ê³ ì • ë¬¸ì œ ì •ì˜ê°€ ëª¨í˜¸í•˜ë©´ ë””ë²„ê¹… ë²”ìœ„ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ì»¤ì§. ì…ë ¥, í™˜ê²½ ë³€ìˆ˜, ì˜ì¡´ì„± ë²„ì „, ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ë“± ì™¸ë¶€ ìš”ì¸ë„ ê³ ì •í•˜ëŠ” í¸ì´ ì¢‹ìŒ\në‹¤ì–‘í•œ ê°€ì •ê³¼ ë¹ ë¥¸ ë°°ì œ APIë¥¼ ì˜¬ë°”ë¥¸ ê°œì²´ì™€ ë©”ì„œë“œë¡œ ì‚¬ìš©í–ˆëŠ”ì§€ í™•ì¸ ì˜¤íƒ€, ì˜ëª»ëœ ì¸ìˆ˜ ìˆœì„œ, ì˜ëª»ëœ ê¸°ë³¸ê°’ ì‚¬ìš© ì—¬ë¶€ ì ê²€ ì½”ë“œ ë³€ê²½ ì´ë ¥ì´ í•´ë‹¹ ì¦ìƒê³¼ ì¸ê³¼ê´€ê³„ ìˆëŠ”ì§€ ê²€ì¦ ì‹¤ì œ ê°’ê³¼ ë‹¤ë¥¸ ìƒìˆ˜ë¥¼ ê°€ì •í•´ ì¶”ë¡ í•˜ì§€ ì•Šì•˜ëŠ”ì§€ ì ê²€ íƒ€ì¸ì´ ì‘ì„±í•œ ì½”ë“œë¼ë©´ ì˜ë„ì™€ ê³„ì•½ì„ ë¨¼ì € íŒŒì•… ì‘ê²Œ ë§Œë“¤ê³  ìì£¼ ì‹¤í–‰í•˜ëŠ” ì „ëµ ê¶Œì¥. ìµœì†Œ ë™ì‘ ì½”ì–´ë¥¼ ë¨¼ì € í†µê³¼ì‹œí‚¤ê³ , ì ì§„ì ìœ¼ë¡œ ìˆ˜ì •Â·í™•ì¥í•˜ë©° ê° ë‹¨ê³„ì—ì„œ ì‹¤íŒ¨ë¥¼ êµ­ì†Œí™”í•¨\në””ë²„ê±° ê¸°ë³¸ ê°œë… Breakpoint ì¤‘ë‹¨ì . ì‹¤í–‰ì„ íŠ¹ì • ë¼ì¸ì—ì„œ ë©ˆì¶¤. ì½”ë“œì— debugger êµ¬ë¬¸ì„ ë„£ê±°ë‚˜ ì—ë””í„°ì—ì„œ ë¼ì¸ ì™¼ìª½ í´ë¦­ ë“±ìœ¼ë¡œ ì„¤ì •\nWatch íŠ¹ì • ë³€ìˆ˜ë‚˜ í‘œí˜„ì‹ ê°’ì„ ì§€ì† ê´€ì°°. ê°’ ë³€í™”ì™€ ì¡°ê±´ ë§Œì¡± ì‹œì ì„ ë¹ ë¥´ê²Œ í™•ì¸í•˜ëŠ” ìš©ë„\nì˜ˆì‹œ\nfunction fibonacci(n) { if (n \u0026lt; 2) return n const result = fibonacci(n - 1) + fibonacci(n - 2) return result } watchì— result === 5 ì¶”ê°€ ì‹œ falseì—ì„œ trueë¡œ ì „í™˜ë˜ëŠ” ì‹œì ì„ ì¦‰ì‹œ íŒŒì•… ê°€ëŠ¥\nCall Stack í˜„ì¬ í˜¸ì¶œ ì¤‘ì¸ í•¨ìˆ˜ ìŠ¤íƒ ì¶”ì . ì–´ë””ì—ì„œ ë¬´ì—‡ì´ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ ì—­ì¶”ì  ê°€ëŠ¥\nStep controls\nContinue ë‹¤ìŒ ì¤‘ë‹¨ì ê¹Œì§€ ì§„í–‰ Step over í˜„ì¬ ë¼ì¸ ì‹¤í–‰, í•¨ìˆ˜ ë‚´ë¶€ëŠ” ê±´ë„ˆëœ€ Step into í•¨ìˆ˜ ë‚´ë¶€ë¡œ ì§„ì…, ë¼ì¸ ë‹¨ìœ„ ì‹¤í–‰ Step out í˜„ì¬ í•¨ìˆ˜ ë‚˜ë¨¸ì§€ë¥¼ ì‹¤í–‰í•˜ê³  ë¦¬í„´ ì§€ì ì—ì„œ ë©ˆì¶¤ Chrome DevToolsë¡œ Node.js ë””ë²„ê¹… Node 8ë¶€í„° V8 Inspectorë¥¼ ì •ì‹ ì§€ì›. ê¸°ì¡´ \u0026ndash;debug í”Œë˜ê·¸ëŠ” íê¸°ë˜ê³  \u0026ndash;inspect ê³„ì—´ë¡œ í†µì¼ë¨. ê°€ì¥ ê°„ë‹¨í•œ ì§„ì… ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŒ\nì´ˆê¸° ì§„ì…\nnode \u0026ndash;inspect app.js ì‹¤í–‰ ì²˜ìŒ ë¼ì¸ë¶€í„° ë©ˆì¶”ë ¤ë©´ node \u0026ndash;inspect-brk app.js ì‚¬ìš© ì‹¤í–‰ ë¡œê·¸ ì˜ˆì‹œ\nDebugger listening on ws://127.0.0.1:9229/... For help, see: https://nodejs.org/en/docs/inspector Chrome ì ‘ì†\nì£¼ì†Œì°½ì— chrome://inspect ì…ë ¥ í›„ Devices í™”ë©´ìœ¼ë¡œ ì´ë™ Remote Targetì—ì„œ ì‹¤í–‰ ì¤‘ì¸ Node í”„ë¡œì„¸ìŠ¤ë¥¼ ì„ íƒí•´ inspect ì§„ì… ìœ ì˜ì‚¬í•­\nê¸°ë³¸ ë””ë²„ê·¸ í¬íŠ¸ëŠ” 9229. ì¶©ëŒ ì‹œ \u0026ndash;inspect=127.0.0.1:0 ê°™ì€ ë™ì  í¬íŠ¸ë¥¼ ì‚¬ìš©í•´ ì¶©ëŒ íšŒí”¼ ì™¸ë¶€ ì ‘ê·¼ì´ ê°€ëŠ¥í•œ í˜¸ìŠ¤íŠ¸ë¡œ ì—´ì§€ ì•Šê¸°. ë¡œì»¬ í˜¸ìŠ¤íŠ¸ ë°”ì¸ë”© ìœ ì§€ ê¶Œì¥ node-inspect CLI ì‚¬ìš© í„°ë¯¸ë„ ê¸°ë°˜ ë””ë²„ê¹…ì´ í•„ìš”í•˜ë©´ ë‚´ì¥ CLI ë””ë²„ê±° ì‚¬ìš©\nì§„ì…\nnode inspect íŒŒì¼ëª… ê¸°ë³¸ ëª…ë ¹\ncont ë˜ëŠ” c ê³„ì† ì‹¤í–‰ next ë˜ëŠ” n ë‹¤ìŒ ë¼ì¸ìœ¼ë¡œ ì´ë™ step ë˜ëŠ” s í•¨ìˆ˜ ë‚´ë¶€ë¡œ ì§„ì… out ë˜ëŠ” o í˜„ì¬ í•¨ìˆ˜ì—ì„œ ë¹ ì ¸ë‚˜ì˜´ run ë˜ëŠ” restart ì¬ì‹¤í–‰ repl í˜„ ìœ„ì¹˜ ì»¨í…ìŠ¤íŠ¸ì—ì„œ í‘œí˜„ì‹ í‰ê°€ ì„ì‹œ ì¤‘ë‹¨ì \nì½”ë“œì— debugger êµ¬ë¬¸ ì‚½ì… í›„ contë¡œ ì§„í–‰í•˜ë©´ í•´ë‹¹ ì§€ì ì—ì„œ ì¤‘ë‹¨ CLIëŠ” GUI ì—†ì´ë„ ì¬í˜„ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ë‚˜ ì›ê²© SSH í™˜ê²½ì—ì„œ ë¹ ë¥´ê²Œ ìƒíƒœë¥¼ í™•ì¸í•˜ê¸°ì— ìœ ìš©í•¨\nVS Codeì—ì„œ ë””ë²„ê¹… VS CodeëŠ” Node ë””ë²„ê±°ë¥¼ ê¸°ë³¸ í†µí•© ì œê³µ. ëŒ€ë¶€ë¶„ì€ ì‹¤í–‰ ë©”ë‰´ì—ì„œ F5ë¡œ ì‹œì‘ ê°€ëŠ¥\nì²« ì‹¤í–‰\nì‹¤í–‰ \u0026gt; ë””ë²„ê¹… ì‹œì‘ ë˜ëŠ” F5 ì„ íƒ launch.jsonì´ ì—†ìœ¼ë©´ í™˜ê²½ ì„ íƒ íŒì—…ì—ì„œ Node.js ì„ íƒ launch.json ì—­í• \nì‹¤í–‰ íŒŒì¼, ì¸ì, í™˜ê²½ ë³€ìˆ˜, ì‘ì—… ë””ë ‰í„°ë¦¬, í¬íŠ¸ ë“± ë””ë²„ê¹… êµ¬ì„±ì„ ì„ ì–¸ì ìœ¼ë¡œ ê´€ë¦¬ íŒ€ ë‹¨ìœ„ë¡œ ë™ì¼í•œ ì¬í˜„ ì ˆì°¨ë¥¼ ê³µìœ í•˜ëŠ” ë° ìœ ìš© ìµœì†Œ ì„¤ì • ì˜ˆì‹œ\n{ \u0026#34;version\u0026#34;: \u0026#34;0.2.0\u0026#34;, \u0026#34;configurations\u0026#34;: [{ \u0026#34;type\u0026#34;: \u0026#34;node\u0026#34;, \u0026#34;request\u0026#34;: \u0026#34;launch\u0026#34;, \u0026#34;name\u0026#34;: \u0026#34;Launch Program\u0026#34;, \u0026#34;program\u0026#34;: \u0026#34;${workspaceFolder}/app.js\u0026#34; }] } ë‹¨ì¶•í‚¤\nê³„ì† ë˜ëŠ” ì¼ì‹œì¤‘ì§€ F5 ë‹¨ìœ„ ì‹¤í–‰ F10 ë‹¨ê³„ ì§„ì… F11 ë‹¨ê³„ ë¹ ì ¸ë‚˜ì˜¤ê¸° Shift+F11 ë‹¤ì‹œ ì‹œì‘ Ctrl+Shift+F5 ì¤‘ì§€ Shift+F5 ì‹¤ì „ íŒê³¼ ì£¼ì˜ì‚¬í•­ í”„ë¡œë•ì…˜ì—ì„œ \u0026ndash;inspect ë…¸ì¶œ ê¸ˆì§€. ë¡œì»¬ ë˜ëŠ” ì œí•œëœ ë„¤íŠ¸ì›Œí¬ì—ì„œë§Œ ì‚¬ìš© í¬íŠ¸ ê³ ì •ì´ í•„ìš” ì—†ìœ¼ë©´ \u0026ndash;inspect=127.0.0.1:0ë¡œ ì¶©ëŒ íšŒí”¼ debugger êµ¬ë¬¸ê³¼ ë‚¨ì€ ì¤‘ë‹¨ì ì€ ì»¤ë°‹ ì „ì— ì œê±° ë˜ëŠ” ë¹„í™œì„±í™” ë¹„ë™ê¸° íë¦„ ë””ë²„ê¹… ì‹œ ì½œ ìŠ¤íƒì—ì„œ í”„ë ˆì„ì„ ì¢íˆê³ , í•„ìš” ì‹œ ë¡œê·¸ì™€ ë””ë²„ê±°ë¥¼ ë³‘í–‰í•˜ì—¬ ì›ì¸ ë‹¨ì • ì¬í˜„ì´ ì–´ë ¤ìš´ ì¼€ì´ìŠ¤ëŠ” ì…ë ¥ê³¼ í™˜ê²½ì„ ê³ ì •í•˜ê³  ìµœì†Œ ì¬í˜„ ì½”ë“œë¥¼ ë³„ë„ íŒŒì¼ë¡œ ë¶„ë¦¬í•´ ë¶„ì„ ë§ˆë¬´ë¦¬ ë””ë²„ê¹…ì˜ í•µì‹¬ì€ ë¬¸ì œë¥¼ ì‘ê²Œ ë§Œë“¤ê³  ì‹¤í–‰ íë¦„ê³¼ ìƒíƒœë¥¼ ê²€ì¦ ê°€ëŠ¥í•œ ê·¼ê±°ë¡œ ì¢í˜€ê°€ëŠ” ê²ƒì„. Node.jsì—ì„œëŠ” Chrome DevTools, node-inspect, VS Code ì„¸ ê°€ì§€ ì¶•ë§Œ ìˆ™ì§€í•´ë„ ëŒ€ë¶€ë¶„ì˜ ì„œë²„ ì‚¬ì´ë“œ ì´ìŠˆë¥¼ ë¹ ë¥´ê³  ì•ˆì „í•˜ê²Œ ì¶”ì  ê°€ëŠ¥í•¨. ë„êµ¬ëŠ” ìƒí™©ì— ë§ê²Œ ê³ ë¥´ë˜, ì¬í˜„ì„± í™•ë³´ì™€ ê°€ì„¤ ê²€ì¦ ë£¨í”„ë¥¼ ì§§ê²Œ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì„±íŒ¨ë¥¼ ê°€ë¦„í•¨\nì°¸ê³ ìë£Œ https://nodejs.org/en/learn/getting-started/debugging https://nodejs.org/api/inspector.html https://developer.chrome.com/docs/devtools/javascript/watch-variables/ https://code.visualstudio.com/docs/nodejs/nodejs-debugging ","permalink":"https://blog.jsontapose.com/posts/nodejs-debugging-inspect-node-inspect-vscode-27a058/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eNode.jsì—ì„œ ë””ë²„ê¹…ì€ ë¬¸ì œë¥¼ ì¬í˜„ ê°€ëŠ¥í•œ ìµœì†Œ ë‹¨ìœ„ë¡œ ì¶•ì†Œí•˜ê³ , ì‹¤í–‰ íë¦„ê³¼ ìƒíƒœë¥¼ ê´€ì°°í•´ ì›ì¸ì„ ë‹¨ì •í•˜ëŠ” ê³¼ì •ì„. ì´ ê¸€ì€ ë””ë²„ê¹… ê¸°ë³¸ ì›ë¦¬ì™€ í•¨ê»˜ Node.js í™˜ê²½ì—ì„œ ìì£¼ ì“°ëŠ” ì„¸ ê°€ì§€ ë°©ë²•ì¸ Chrome DevTools, node-inspect CLI, VS Code ë””ë²„ê±° ì‚¬ìš©ë²•ì„ ì •ë¦¬í•¨\u003c/p\u003e\n\u003ch3 id=\"ë¬¸ì œë¥¼-ëª…í™•íˆ-í•˜ê¸°\"\u003eë¬¸ì œë¥¼ ëª…í™•íˆ í•˜ê¸°\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eì‘ì„±í•œ ì½”ë“œì˜ ê¸°ëŒ€ ë™ì‘ ì •ì˜\u003c/li\u003e\n\u003cli\u003eì‹¤ì œ ê´€ì¸¡ëœ ë™ì‘ê³¼ì˜ ì°¨ì´ ì •ë¦¬\u003c/li\u003e\n\u003cli\u003eì‹¤íŒ¨ ì¡°ê±´ê³¼ ì¬í˜„ ì ˆì°¨ ê³ ì •\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eë¬¸ì œ ì •ì˜ê°€ ëª¨í˜¸í•˜ë©´ ë””ë²„ê¹… ë²”ìœ„ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ì»¤ì§. ì…ë ¥, í™˜ê²½ ë³€ìˆ˜, ì˜ì¡´ì„± ë²„ì „, ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ë“± ì™¸ë¶€ ìš”ì¸ë„ ê³ ì •í•˜ëŠ” í¸ì´ ì¢‹ìŒ\u003c/p\u003e","title":"Node.js í™˜ê²½ì—ì„œ ë””ë²„ê¹…í•˜ê¸°"},{"content":"ê°œìš” MySQL InnoDBëŠ” ACID íŠ¸ëœì­ì…˜ì„ ê¸°ë³¸ìœ¼ë¡œ ì§€ì›í•˜ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ë°ì´í„° ë¬´ê²°ì„±ê³¼ ë™ì‹œì„± ë³´ì¥ì„ ëª©í‘œë¡œ ì„¤ê³„ë¨ Row-level lock, MVCC, í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤, ì™¸ë˜ í‚¤, í¬ë˜ì‹œ ë¦¬ì»¤ë²„ë¦¬ ë“± ê¸°ëŠ¥ì„ í†µí•´ OLTP í™˜ê²½ì—ì„œ ì•ˆì •ì ì¸ ì²˜ë¦¬ ì„±ëŠ¥ ì œê³µ ì•„ë˜ëŠ” InnoDBì˜ ì¥ë‹¨ì ê³¼ ìš´ì˜ ì‹œ ì£¼ì˜ì‚¬í•­ì„ ì •ë¦¬í•œ ë‚´ìš©ì„\ní•µì‹¬ ê°œë… í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤ ê¸°ë°˜ ì €ì¥ êµ¬ì¡° ê¸°ë³¸ í‚¤(PK) ìˆœì„œëŒ€ë¡œ ë°ì´í„° í˜ì´ì§€ì— ì •ë ¬ ì €ì¥ ë³´ì¡° ì¸ë±ìŠ¤ëŠ” ë¦¬í”„ì— PKë¥¼ í¬í•¨í•˜ì—¬ PK íƒìƒ‰ìœ¼ë¡œ ì‹¤ì œ ë ˆì½”ë“œ ì ‘ê·¼ MVCCì™€ ì¼ê´€ ì½ê¸° Undo ë¡œê·¸ ê¸°ë°˜ ë²„ì „ ê´€ë¦¬ë¡œ ì¼ê´€ ì½ê¸° ì œê³µ ì“°ê¸°ì™€ ì½ê¸° ë™ì‹œ ì²˜ë¦¬ ì‹œ ê²½í•©ì„ ì¤„ì—¬ ë†’ì€ ë™ì‹œì„± ë‹¬ì„± íŠ¸ëœì­ì…˜ê³¼ í¬ë˜ì‹œ ë¦¬ì»¤ë²„ë¦¬ Redo ë¡œê·¸ë¡œ ì»¤ë°‹ ë°ì´í„°ì˜ ë‚´êµ¬ì„± í™•ë³´ Doublewrite ë²„í¼ë¡œ ë¶€ë¶„ ì“°ê¸° ë°©ì§€ ë¹„ì •ìƒ ì¢…ë£Œ í›„ ë³µêµ¬ ê²½ë¡œ í™•ë³´ ì¥ì  íŠ¸ëœì­ì…˜ ACID ë³´ì¥ COMMIT, ROLLBACK, SAVEPOINTë¡œ ì•ˆì „í•œ íŠ¸ëœì­ì…˜ ê²½ê³„ ê´€ë¦¬ ê°€ëŠ¥ Row-level lock ê¸°ë°˜ ë†’ì€ ë™ì‹œì„± í•„ìš”í•œ í–‰ë§Œ ì ê¸ˆìœ¼ë¡œ ì“°ê¸° ê²½í•©ì„ ìµœì†Œí™” í…Œì´ë¸” ë½ ê¸°ë°˜ ì—”ì§„ ëŒ€ë¹„ OLTPì— ìœ ë¦¬ ì™¸ë˜ í‚¤ ì œì•½ìœ¼ë¡œ ì°¸ì¡° ë¬´ê²°ì„± ìœ ì§€ ë¶€ëª¨ ìì‹ ê°„ ì°¸ì¡° ì¼ê´€ì„± DB ë ˆë²¨ì—ì„œ ê°•ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì¸¡ ê²€ì¦ ë¶€ë‹´ ê°ì†Œ í¬ë˜ì‹œ ë¦¬ì»¤ë²„ë¦¬ ì•ˆì •ì„± Redo/Undo ë¡œê·¸ì™€ Doublewriteë¡œ ì¥ì•  ìƒí™©ì—ì„œë„ ë°ì´í„° ë¬´ê²°ì„± ìœ ì§€ í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤ì˜ ë¹ ë¥¸ PK ì ‘ê·¼ê³¼ ë²”ìœ„ ìŠ¤ìº” íš¨ìœ¨ PK ê¸°ë°˜ ì¡°íšŒ ë° ìˆœì°¨ ë²”ìœ„ ìŠ¤ìº”ì—ì„œ ê°•ì  MVCCë¡œ ì½ê¸° ì¼ê´€ì„±ê³¼ ë™ì‹œ ì²˜ë¦¬ ì„±ëŠ¥ í™•ë³´ ë¡± ë¦¬ë“œì™€ ë¹ˆë²ˆí•œ ì“°ê¸°ê°€ ê³µì¡´í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ì— ì í•© ëŒ€ê·œëª¨ OLTP ì›Œí¬ë¡œë“œì— ì í•© ëŒ€ëŸ‰ì˜ INSERT/UPDATE/DELETE ì²˜ë¦¬ì—ì„œ ì¼ê´€ëœ ì„±ëŠ¥ê³¼ ì•ˆì •ì„± ì œê³µ ë‹¨ì  ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í¼ Buffer Pool ë“± ìºì‹œ êµ¬ì¡°ë¡œ ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰ ë†’ìŒ ë©”ëª¨ë¦¬ ë¶€ì¡± ì‹œ ë””ìŠ¤í¬ I/O ì¦ê°€ë¡œ ì„±ëŠ¥ ì €í•˜ ê°€ëŠ¥ í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤ íŠ¹ì„±ì— ë”°ë¥¸ PK ì„¤ê³„ ë¯¼ê°ë„ ë†’ìŒ PK ì—…ë°ì´íŠ¸ëŠ” ë¬¼ë¦¬ ì¬ë°°ì¹˜ì™€ í˜ì´ì§€ ë¶„í•  ìœ ë°œ ê°€ëŠ¥ ê¸´ ë¬¸ìì—´ PK ì‚¬ìš© ì‹œ ì €ì¥ ë¹„íš¨ìœ¨ ë° ë¶„í•  ì¦ê°€ ìœ„í—˜ ë””ìŠ¤í¬ ê³µê°„ ì‚¬ìš©ëŸ‰ ìƒëŒ€ì ìœ¼ë¡œ í¼ Undo/Redo, Doublewrite, ê°ì¢… ë©”íƒ€ë°ì´í„°ë¡œ íŒŒì¼ ê·œëª¨ ì¦ê°€ ê°€ëŠ¥ ëŒ€ëŸ‰ ê°±ì‹  í›„ ì¡°ê°í™” ìš°ë ¤ íŒŒë¼ë¯¸í„°ê°€ ë§ì•„ ìš´ì˜ ë‚œì´ë„ ì¡´ì¬ innodb_buffer_pool_size, innodb_log_file_size, innodb_flush_method ë“± íŠœë‹ í•„ìš” ë¶€ì ì ˆí•œ ì„¤ì • ì‹œ ê¸°ëŒ€ ì„±ëŠ¥ ë¯¸ë‹¬ ìœ„í—˜ ì™¸ë˜ í‚¤ë¡œ ì¸í•œ ì ê¸ˆ ê²½í•©ê³¼ ë°ë“œë½ ë¦¬ìŠ¤í¬ ì¦ê°€ ë‹¤ì¤‘ FK ê²€ì¦ ê²½ë¡œê°€ ì–½íˆë©´ ê²½í•© ì‹¬í™” ì‚½ì…Â·ì‚­ì œ ìˆœì„œ ì œì•½ìœ¼ë¡œ íŠ¸ëœì­ì…˜ ë³µì¡ë„ ì¦ê°€ Read-heavy ë¶„ì„í˜• ì›Œí¬ë¡œë“œ ì í•©ì„± í•œê³„ ëŒ€ê·œëª¨ ë‹¨ìˆœ ì¡°íšŒ ì¤‘ì‹¬ OLAP ì„±ê²©ì€ ì»¬ëŸ¼ ì§€í–¥ ë¶„ì„ ì‹œìŠ¤í…œì´ ìœ ë¦¬í•œ ê²½ìš° ì¡´ì¬ ê³¼ê±° ì¼ë¶€ ì½ê¸° íŒ¨í„´ì—ì„œ MyISAMì´ ë¹ ë¥¸ ì‚¬ë¡€ê°€ ìˆì—ˆìœ¼ë‚˜ í˜„ì¬ëŠ” InnoDBê°€ ê¸°ë³¸ ì„ íƒì§€ë¡œ ìë¦¬í•¨ ìš´ì˜ ì‹œ ì£¼ì˜ì‚¬í•­ê³¼ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ëª…ì‹œì  PK ë˜ëŠ” ê³ ìœ  ì¸ë±ìŠ¤ í•„ìˆ˜ ëª…ì‹œì  PK ì—†ìœ¼ë©´ ìˆ¨ì€ Row ID ì‚¬ìš©ìœ¼ë¡œ ë¹„íš¨ìœ¨ ë°œìƒ ê°€ëŠ¥ ë³€ê²½ì´ ë“œë¬¸ ì§§ì€ ì •ìˆ˜í˜• PK ì„ í˜¸ ì˜ˆ) INT AUTO_INCREMENT, BIGINT Buffer Pool ì‚¬ì´ì¦ˆ ì ì •í™” innodb_buffer_pool_sizeëŠ” í•µì‹¬ íŒŒë¼ë¯¸í„° ê°€ëŠ¥í•œ ë§ì€ ë°ì´í„° í˜ì´ì§€ë¥¼ ë©”ëª¨ë¦¬ì— ìœ ì§€í• ìˆ˜ë¡ I/O ì ˆê° íš¨ê³¼ í¼ ì„œë²„ ë©”ëª¨ë¦¬ ëŒ€ë¹„ ë†’ì€ ë¹„ì¤‘ í• ë‹¹ ê¶Œì¥í•˜ë‚˜ ì›Œí¬ë¡œë“œì™€ ì—¬ìœ  ë©”ëª¨ë¦¬ ê³ ë ¤í•˜ì—¬ ì ì§„ ì¡°ì • FK ì‚¬ìš© ìµœì†Œí™” ë° ì¸ë±ìŠ¤ ì •í•©ì„± í™•ë³´ ê¼­ í•„ìš”í•œ ê´€ê³„ì—ë§Œ FK ì ìš© FK ì»¬ëŸ¼ì— ì ì ˆí•œ ì¸ë±ìŠ¤ ë¶€ì—¬ë¡œ ì ê¸ˆ ê²½í•©ê³¼ í…Œì´ë¸” ìŠ¤ìº” ë°©ì§€ íŠ¸ëœì­ì…˜ ë‚´ ì ê¸ˆ ìˆœì„œ ì¼ê´€ì„± ìœ ì§€ë¡œ ë°ë“œë½ í™•ë¥  ë‚®ì¶”ê¸° Row formatê³¼ í˜ì´ì§€ ì „ëµ ì„ íƒ ROW_FORMAT=DYNAMIC ë“±ìœ¼ë¡œ ê¸´ TEXT/BLOBë¥¼ ì˜¤í”„í˜ì´ì§€í™”í•˜ì—¬ ì €ì¥ íš¨ìœ¨ ê°œì„  í¬ê²Œ ë³´ì´ì§€ ì•ŠëŠ” ì„¤ì •ì´ë¼ë„ ëŒ€ê·œëª¨ í…Œì´ë¸”ì—ì„œ ì„±ëŠ¥ê³¼ ê³µê°„ íš¨ìœ¨ì— ì˜í–¥ í¼ Auto-increment ì¶©ëŒ ë°©ì§€ ë ˆí”Œë¦¬ì¼€ì´ì…˜ ë˜ëŠ” ë©€í‹° ë¼ì´í„° ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ í‚¤ ì¶©ëŒ ë°©ì§€ ì „ëµ í•„ìš” innodb_autoinc_lock_mode ê°’ ê²€í†  ë° í‚¤ ê³µê°„ ë¶„í•  ë˜ëŠ” ì‹œí€€ìŠ¤ ì „ëµ ë³‘í–‰ í†µê³„ ê°±ì‹ ê³¼ ì¡°ê°í™” ëŒ€ì‘ ANALYZE TABLEë¡œ ì˜µí‹°ë§ˆì´ì € í†µê³„ ìµœì‹ í™” OPTIMIZE TABLE ë˜ëŠ” í…Œì´ë¸” ë¦¬ë¹Œë“œë¡œ ì‹¬í•œ ì¡°ê°í™” í•´ì†Œì™€ ê³µê°„ íšŒìˆ˜ ê²€í†  ë°ë“œë½ ëª¨ë‹ˆí„°ë§ ë£¨í‹´í™” SHOW ENGINE INNODB STATUSì™€ information_schemaì˜ INNODB_TRX, INNODB_LOCKS, INNODB_LOCK_WAITSë¡œ ì›ì¸ ì¶”ì  ì¿¼ë¦¬ ì ‘ê·¼ ìˆœì„œ ì •ë ¬, íŠ¸ëœì­ì…˜ ë‹¨ìœ„ ì¶•ì†Œ, ì ì ˆí•œ ì¸ë±ì‹±ìœ¼ë¡œ ì˜ˆë°© ë¡œê·¸ í¬ê¸°ì™€ í”ŒëŸ¬ì‹œ ì •ì±…ì˜ íŠ¸ë ˆì´ë“œì˜¤í”„ ì´í•´ innodb_log_file_size, innodb_flush_log_at_trx_commit, sync_binlog ì„¤ì •ì´ ì§€ì—° ì‹œê°„ê³¼ ë‚´êµ¬ì„±ì— ì§ì ‘ ì˜í–¥ í—ˆìš© ê°€ëŠ¥í•œ ë°ì´í„° ì†ì‹¤ ë²”ìœ„ì™€ ì§€ì—° ìš”êµ¬ì‚¬í•­ì— ë§ì¶° ì„¤ì • ì¡°ì • ë§ˆë¬´ë¦¬ ì¥ì  ìš”ì•½ ACID íŠ¸ëœì­ì…˜, Row-level lock, MVCC, FK, í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤, ì•ˆì •ì  í¬ë˜ì‹œ ë¦¬ì»¤ë²„ë¦¬ ë‹¨ì  ìš”ì•½ ë©”ëª¨ë¦¬ì™€ ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í¼, ì„¤ì • ë³µì¡ë„ ì¡´ì¬, PK ì„¤ê³„ ë¯¼ê°, FKë¡œ ì¸í•œ ê²½í•©ê³¼ ë°ë“œë½ ë¦¬ìŠ¤í¬ ìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì§§ì€ ì •ìˆ˜í˜• ëª…ì‹œì  PK ì„¤ê³„ Buffer Pool ë° ë¡œê·¸ ì •ì±… íŠœë‹ FK ìµœì†Œí™”ì™€ ì¸ë±ìŠ¤ ì •í•©ì„± í™•ë³´ ì •ê¸° í†µê³„ ê°±ì‹ ê³¼ ì¡°ê°í™” ê´€ë¦¬, ë°ë“œë½ ëª¨ë‹ˆí„°ë§ ì ì ˆí•œ ì„¤ì •ê³¼ ìŠ¤í‚¤ë§ˆ ì„¤ê³„ë¥¼ ë³‘í–‰í•˜ë©´ OLTP í™˜ê²½ì—ì„œ ë†’ì€ ì•ˆì •ì„±ê³¼ ì„±ëŠ¥ì„ ë™ì‹œì— ë‹¬ì„± ê°€ëŠ¥ ì°¸ê³ ìë£Œ https://dev.mysql.com/doc/refman/8.0/en/innodb-storage-engine.html https://dev.mysql.com/doc/refman/8.0/en/innodb-introduction.html https://dev.mysql.com/doc/refman/8.0/en/innodb-transaction-model.html https://dev.mysql.com/doc/refman/8.0/en/innodb-multi-versioning.html https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html https://dev.mysql.com/doc/refman/8.0/en/innodb-buffer-pool.html https://dev.mysql.com/doc/refman/8.0/en/innodb-file-system-architecture.html https://dev.mysql.com/doc/refman/8.0/en/innodb-parameters.html https://dev.mysql.com/doc/refman/8.0/en/innodb-optimizing-innodb-operations.html ","permalink":"https://blog.jsontapose.com/posts/mysql-innodb-pros-cons-and-cautions-4b2d90/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eMySQL InnoDBëŠ” ACID íŠ¸ëœì­ì…˜ì„ ê¸°ë³¸ìœ¼ë¡œ ì§€ì›í•˜ëŠ” ìŠ¤í† ë¦¬ì§€ ì—”ì§„ìœ¼ë¡œ ë°ì´í„° ë¬´ê²°ì„±ê³¼ ë™ì‹œì„± ë³´ì¥ì„ ëª©í‘œë¡œ ì„¤ê³„ë¨\nRow-level lock, MVCC, í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤, ì™¸ë˜ í‚¤, í¬ë˜ì‹œ ë¦¬ì»¤ë²„ë¦¬ ë“± ê¸°ëŠ¥ì„ í†µí•´ OLTP í™˜ê²½ì—ì„œ ì•ˆì •ì ì¸ ì²˜ë¦¬ ì„±ëŠ¥ ì œê³µ\nì•„ë˜ëŠ” InnoDBì˜ ì¥ë‹¨ì ê³¼ ìš´ì˜ ì‹œ ì£¼ì˜ì‚¬í•­ì„ ì •ë¦¬í•œ ë‚´ìš©ì„\u003c/p\u003e\n\u003ch3 id=\"í•µì‹¬-ê°œë…\"\u003eí•µì‹¬ ê°œë…\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eí´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤ ê¸°ë°˜ ì €ì¥ êµ¬ì¡°\n\u003cul\u003e\n\u003cli\u003eê¸°ë³¸ í‚¤(PK) ìˆœì„œëŒ€ë¡œ ë°ì´í„° í˜ì´ì§€ì— ì •ë ¬ ì €ì¥\u003c/li\u003e\n\u003cli\u003eë³´ì¡° ì¸ë±ìŠ¤ëŠ” ë¦¬í”„ì— PKë¥¼ í¬í•¨í•˜ì—¬ PK íƒìƒ‰ìœ¼ë¡œ ì‹¤ì œ ë ˆì½”ë“œ ì ‘ê·¼\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eMVCCì™€ ì¼ê´€ ì½ê¸°\n\u003cul\u003e\n\u003cli\u003eUndo ë¡œê·¸ ê¸°ë°˜ ë²„ì „ ê´€ë¦¬ë¡œ ì¼ê´€ ì½ê¸° ì œê³µ\u003c/li\u003e\n\u003cli\u003eì“°ê¸°ì™€ ì½ê¸° ë™ì‹œ ì²˜ë¦¬ ì‹œ ê²½í•©ì„ ì¤„ì—¬ ë†’ì€ ë™ì‹œì„± ë‹¬ì„±\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eíŠ¸ëœì­ì…˜ê³¼ í¬ë˜ì‹œ ë¦¬ì»¤ë²„ë¦¬\n\u003cul\u003e\n\u003cli\u003eRedo ë¡œê·¸ë¡œ ì»¤ë°‹ ë°ì´í„°ì˜ ë‚´êµ¬ì„± í™•ë³´\u003c/li\u003e\n\u003cli\u003eDoublewrite ë²„í¼ë¡œ ë¶€ë¶„ ì“°ê¸° ë°©ì§€\u003c/li\u003e\n\u003cli\u003eë¹„ì •ìƒ ì¢…ë£Œ í›„ ë³µêµ¬ ê²½ë¡œ í™•ë³´\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ì¥ì \"\u003eì¥ì \u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003eíŠ¸ëœì­ì…˜ ACID ë³´ì¥\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eCOMMIT, ROLLBACK, SAVEPOINTë¡œ ì•ˆì „í•œ íŠ¸ëœì­ì…˜ ê²½ê³„ ê´€ë¦¬ ê°€ëŠ¥\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eRow-level lock ê¸°ë°˜ ë†’ì€ ë™ì‹œì„±\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eí•„ìš”í•œ í–‰ë§Œ ì ê¸ˆìœ¼ë¡œ ì“°ê¸° ê²½í•©ì„ ìµœì†Œí™”\u003c/li\u003e\n\u003cli\u003eí…Œì´ë¸” ë½ ê¸°ë°˜ ì—”ì§„ ëŒ€ë¹„ OLTPì— ìœ ë¦¬\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003eì™¸ë˜ í‚¤ ì œì•½ìœ¼ë¡œ ì°¸ì¡° ë¬´ê²°ì„± ìœ ì§€\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eë¶€ëª¨ ìì‹ ê°„ ì°¸ì¡° ì¼ê´€ì„± DB ë ˆë²¨ì—ì„œ ê°•ì œ\u003c/li\u003e\n\u003cli\u003eì• í”Œë¦¬ì¼€ì´ì…˜ ì¸¡ ê²€ì¦ ë¶€ë‹´ ê°ì†Œ\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003eí¬ë˜ì‹œ ë¦¬ì»¤ë²„ë¦¬ ì•ˆì •ì„±\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eRedo/Undo ë¡œê·¸ì™€ Doublewriteë¡œ ì¥ì•  ìƒí™©ì—ì„œë„ ë°ì´í„° ë¬´ê²°ì„± ìœ ì§€\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"5\"\u003e\n\u003cli\u003eí´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤ì˜ ë¹ ë¥¸ PK ì ‘ê·¼ê³¼ ë²”ìœ„ ìŠ¤ìº” íš¨ìœ¨\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003ePK ê¸°ë°˜ ì¡°íšŒ ë° ìˆœì°¨ ë²”ìœ„ ìŠ¤ìº”ì—ì„œ ê°•ì \u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"6\"\u003e\n\u003cli\u003eMVCCë¡œ ì½ê¸° ì¼ê´€ì„±ê³¼ ë™ì‹œ ì²˜ë¦¬ ì„±ëŠ¥ í™•ë³´\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eë¡± ë¦¬ë“œì™€ ë¹ˆë²ˆí•œ ì“°ê¸°ê°€ ê³µì¡´í•˜ëŠ” ì‹œë‚˜ë¦¬ì˜¤ì— ì í•©\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"7\"\u003e\n\u003cli\u003eëŒ€ê·œëª¨ OLTP ì›Œí¬ë¡œë“œì— ì í•©\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eëŒ€ëŸ‰ì˜ INSERT/UPDATE/DELETE ì²˜ë¦¬ì—ì„œ ì¼ê´€ëœ ì„±ëŠ¥ê³¼ ì•ˆì •ì„± ì œê³µ\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ë‹¨ì \"\u003eë‹¨ì \u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003eë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í¼\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eBuffer Pool ë“± ìºì‹œ êµ¬ì¡°ë¡œ ë©”ëª¨ë¦¬ ìš”êµ¬ëŸ‰ ë†’ìŒ\u003c/li\u003e\n\u003cli\u003eë©”ëª¨ë¦¬ ë¶€ì¡± ì‹œ ë””ìŠ¤í¬ I/O ì¦ê°€ë¡œ ì„±ëŠ¥ ì €í•˜ ê°€ëŠ¥\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eí´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤ íŠ¹ì„±ì— ë”°ë¥¸ PK ì„¤ê³„ ë¯¼ê°ë„ ë†’ìŒ\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003ePK ì—…ë°ì´íŠ¸ëŠ” ë¬¼ë¦¬ ì¬ë°°ì¹˜ì™€ í˜ì´ì§€ ë¶„í•  ìœ ë°œ ê°€ëŠ¥\u003c/li\u003e\n\u003cli\u003eê¸´ ë¬¸ìì—´ PK ì‚¬ìš© ì‹œ ì €ì¥ ë¹„íš¨ìœ¨ ë° ë¶„í•  ì¦ê°€ ìœ„í—˜\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003eë””ìŠ¤í¬ ê³µê°„ ì‚¬ìš©ëŸ‰ ìƒëŒ€ì ìœ¼ë¡œ í¼\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eUndo/Redo, Doublewrite, ê°ì¢… ë©”íƒ€ë°ì´í„°ë¡œ íŒŒì¼ ê·œëª¨ ì¦ê°€ ê°€ëŠ¥\u003c/li\u003e\n\u003cli\u003eëŒ€ëŸ‰ ê°±ì‹  í›„ ì¡°ê°í™” ìš°ë ¤\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003eíŒŒë¼ë¯¸í„°ê°€ ë§ì•„ ìš´ì˜ ë‚œì´ë„ ì¡´ì¬\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003einnodb_buffer_pool_size, innodb_log_file_size, innodb_flush_method ë“± íŠœë‹ í•„ìš”\u003c/li\u003e\n\u003cli\u003eë¶€ì ì ˆí•œ ì„¤ì • ì‹œ ê¸°ëŒ€ ì„±ëŠ¥ ë¯¸ë‹¬ ìœ„í—˜\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"5\"\u003e\n\u003cli\u003eì™¸ë˜ í‚¤ë¡œ ì¸í•œ ì ê¸ˆ ê²½í•©ê³¼ ë°ë“œë½ ë¦¬ìŠ¤í¬ ì¦ê°€\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eë‹¤ì¤‘ FK ê²€ì¦ ê²½ë¡œê°€ ì–½íˆë©´ ê²½í•© ì‹¬í™”\u003c/li\u003e\n\u003cli\u003eì‚½ì…Â·ì‚­ì œ ìˆœì„œ ì œì•½ìœ¼ë¡œ íŠ¸ëœì­ì…˜ ë³µì¡ë„ ì¦ê°€\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"6\"\u003e\n\u003cli\u003eRead-heavy ë¶„ì„í˜• ì›Œí¬ë¡œë“œ ì í•©ì„± í•œê³„\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eëŒ€ê·œëª¨ ë‹¨ìˆœ ì¡°íšŒ ì¤‘ì‹¬ OLAP ì„±ê²©ì€ ì»¬ëŸ¼ ì§€í–¥ ë¶„ì„ ì‹œìŠ¤í…œì´ ìœ ë¦¬í•œ ê²½ìš° ì¡´ì¬\u003c/li\u003e\n\u003cli\u003eê³¼ê±° ì¼ë¶€ ì½ê¸° íŒ¨í„´ì—ì„œ MyISAMì´ ë¹ ë¥¸ ì‚¬ë¡€ê°€ ìˆì—ˆìœ¼ë‚˜ í˜„ì¬ëŠ” InnoDBê°€ ê¸°ë³¸ ì„ íƒì§€ë¡œ ìë¦¬í•¨\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ìš´ì˜-ì‹œ-ì£¼ì˜ì‚¬í•­ê³¼-ë² ìŠ¤íŠ¸-í”„ë™í‹°ìŠ¤\"\u003eìš´ì˜ ì‹œ ì£¼ì˜ì‚¬í•­ê³¼ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003eëª…ì‹œì  PK ë˜ëŠ” ê³ ìœ  ì¸ë±ìŠ¤ í•„ìˆ˜\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eëª…ì‹œì  PK ì—†ìœ¼ë©´ ìˆ¨ì€ Row ID ì‚¬ìš©ìœ¼ë¡œ ë¹„íš¨ìœ¨ ë°œìƒ ê°€ëŠ¥\u003c/li\u003e\n\u003cli\u003eë³€ê²½ì´ ë“œë¬¸ ì§§ì€ ì •ìˆ˜í˜• PK ì„ í˜¸ ì˜ˆ) INT AUTO_INCREMENT, BIGINT\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eBuffer Pool ì‚¬ì´ì¦ˆ ì ì •í™”\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003einnodb_buffer_pool_sizeëŠ” í•µì‹¬ íŒŒë¼ë¯¸í„°\u003c/li\u003e\n\u003cli\u003eê°€ëŠ¥í•œ ë§ì€ ë°ì´í„° í˜ì´ì§€ë¥¼ ë©”ëª¨ë¦¬ì— ìœ ì§€í• ìˆ˜ë¡ I/O ì ˆê° íš¨ê³¼ í¼\u003c/li\u003e\n\u003cli\u003eì„œë²„ ë©”ëª¨ë¦¬ ëŒ€ë¹„ ë†’ì€ ë¹„ì¤‘ í• ë‹¹ ê¶Œì¥í•˜ë‚˜ ì›Œí¬ë¡œë“œì™€ ì—¬ìœ  ë©”ëª¨ë¦¬ ê³ ë ¤í•˜ì—¬ ì ì§„ ì¡°ì •\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"3\"\u003e\n\u003cli\u003eFK ì‚¬ìš© ìµœì†Œí™” ë° ì¸ë±ìŠ¤ ì •í•©ì„± í™•ë³´\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eê¼­ í•„ìš”í•œ ê´€ê³„ì—ë§Œ FK ì ìš©\u003c/li\u003e\n\u003cli\u003eFK ì»¬ëŸ¼ì— ì ì ˆí•œ ì¸ë±ìŠ¤ ë¶€ì—¬ë¡œ ì ê¸ˆ ê²½í•©ê³¼ í…Œì´ë¸” ìŠ¤ìº” ë°©ì§€\u003c/li\u003e\n\u003cli\u003eíŠ¸ëœì­ì…˜ ë‚´ ì ê¸ˆ ìˆœì„œ ì¼ê´€ì„± ìœ ì§€ë¡œ ë°ë“œë½ í™•ë¥  ë‚®ì¶”ê¸°\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"4\"\u003e\n\u003cli\u003eRow formatê³¼ í˜ì´ì§€ ì „ëµ ì„ íƒ\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eROW_FORMAT=DYNAMIC ë“±ìœ¼ë¡œ ê¸´ TEXT/BLOBë¥¼ ì˜¤í”„í˜ì´ì§€í™”í•˜ì—¬ ì €ì¥ íš¨ìœ¨ ê°œì„ \u003c/li\u003e\n\u003cli\u003eí¬ê²Œ ë³´ì´ì§€ ì•ŠëŠ” ì„¤ì •ì´ë¼ë„ ëŒ€ê·œëª¨ í…Œì´ë¸”ì—ì„œ ì„±ëŠ¥ê³¼ ê³µê°„ íš¨ìœ¨ì— ì˜í–¥ í¼\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"5\"\u003e\n\u003cli\u003eAuto-increment ì¶©ëŒ ë°©ì§€\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eë ˆí”Œë¦¬ì¼€ì´ì…˜ ë˜ëŠ” ë©€í‹° ë¼ì´í„° ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ í‚¤ ì¶©ëŒ ë°©ì§€ ì „ëµ í•„ìš”\u003c/li\u003e\n\u003cli\u003einnodb_autoinc_lock_mode ê°’ ê²€í†  ë° í‚¤ ê³µê°„ ë¶„í•  ë˜ëŠ” ì‹œí€€ìŠ¤ ì „ëµ ë³‘í–‰\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"6\"\u003e\n\u003cli\u003eí†µê³„ ê°±ì‹ ê³¼ ì¡°ê°í™” ëŒ€ì‘\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eANALYZE TABLEë¡œ ì˜µí‹°ë§ˆì´ì € í†µê³„ ìµœì‹ í™”\u003c/li\u003e\n\u003cli\u003eOPTIMIZE TABLE ë˜ëŠ” í…Œì´ë¸” ë¦¬ë¹Œë“œë¡œ ì‹¬í•œ ì¡°ê°í™” í•´ì†Œì™€ ê³µê°„ íšŒìˆ˜ ê²€í† \u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"7\"\u003e\n\u003cli\u003eë°ë“œë½ ëª¨ë‹ˆí„°ë§ ë£¨í‹´í™”\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003eSHOW ENGINE INNODB STATUSì™€ information_schemaì˜ INNODB_TRX, INNODB_LOCKS, INNODB_LOCK_WAITSë¡œ ì›ì¸ ì¶”ì \u003c/li\u003e\n\u003cli\u003eì¿¼ë¦¬ ì ‘ê·¼ ìˆœì„œ ì •ë ¬, íŠ¸ëœì­ì…˜ ë‹¨ìœ„ ì¶•ì†Œ, ì ì ˆí•œ ì¸ë±ì‹±ìœ¼ë¡œ ì˜ˆë°©\u003c/li\u003e\n\u003c/ul\u003e\n\u003col start=\"8\"\u003e\n\u003cli\u003eë¡œê·¸ í¬ê¸°ì™€ í”ŒëŸ¬ì‹œ ì •ì±…ì˜ íŠ¸ë ˆì´ë“œì˜¤í”„ ì´í•´\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003einnodb_log_file_size, innodb_flush_log_at_trx_commit, sync_binlog ì„¤ì •ì´ ì§€ì—° ì‹œê°„ê³¼ ë‚´êµ¬ì„±ì— ì§ì ‘ ì˜í–¥\u003c/li\u003e\n\u003cli\u003eí—ˆìš© ê°€ëŠ¥í•œ ë°ì´í„° ì†ì‹¤ ë²”ìœ„ì™€ ì§€ì—° ìš”êµ¬ì‚¬í•­ì— ë§ì¶° ì„¤ì • ì¡°ì •\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ë§ˆë¬´ë¦¬\"\u003eë§ˆë¬´ë¦¬\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eì¥ì  ìš”ì•½\n\u003cul\u003e\n\u003cli\u003eACID íŠ¸ëœì­ì…˜, Row-level lock, MVCC, FK, í´ëŸ¬ìŠ¤í„°í˜• ì¸ë±ìŠ¤, ì•ˆì •ì  í¬ë˜ì‹œ ë¦¬ì»¤ë²„ë¦¬\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eë‹¨ì  ìš”ì•½\n\u003cul\u003e\n\u003cli\u003eë©”ëª¨ë¦¬ì™€ ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ í¼, ì„¤ì • ë³µì¡ë„ ì¡´ì¬, PK ì„¤ê³„ ë¯¼ê°, FKë¡œ ì¸í•œ ê²½í•©ê³¼ ë°ë“œë½ ë¦¬ìŠ¤í¬\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸\n\u003cul\u003e\n\u003cli\u003eì§§ì€ ì •ìˆ˜í˜• ëª…ì‹œì  PK ì„¤ê³„\u003c/li\u003e\n\u003cli\u003eBuffer Pool ë° ë¡œê·¸ ì •ì±… íŠœë‹\u003c/li\u003e\n\u003cli\u003eFK ìµœì†Œí™”ì™€ ì¸ë±ìŠ¤ ì •í•©ì„± í™•ë³´\u003c/li\u003e\n\u003cli\u003eì •ê¸° í†µê³„ ê°±ì‹ ê³¼ ì¡°ê°í™” ê´€ë¦¬, ë°ë“œë½ ëª¨ë‹ˆí„°ë§\nì ì ˆí•œ ì„¤ì •ê³¼ ìŠ¤í‚¤ë§ˆ ì„¤ê³„ë¥¼ ë³‘í–‰í•˜ë©´ OLTP í™˜ê²½ì—ì„œ ë†’ì€ ì•ˆì •ì„±ê³¼ ì„±ëŠ¥ì„ ë™ì‹œì— ë‹¬ì„± ê°€ëŠ¥\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ì°¸ê³ ìë£Œ\"\u003eì°¸ê³ ìë£Œ\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-storage-engine.html\"\u003ehttps://dev.mysql.com/doc/refman/8.0/en/innodb-storage-engine.html\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-introduction.html\"\u003ehttps://dev.mysql.com/doc/refman/8.0/en/innodb-introduction.html\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-transaction-model.html\"\u003ehttps://dev.mysql.com/doc/refman/8.0/en/innodb-transaction-model.html\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-multi-versioning.html\"\u003ehttps://dev.mysql.com/doc/refman/8.0/en/innodb-multi-versioning.html\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html\"\u003ehttps://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-buffer-pool.html\"\u003ehttps://dev.mysql.com/doc/refman/8.0/en/innodb-buffer-pool.html\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-file-system-architecture.html\"\u003ehttps://dev.mysql.com/doc/refman/8.0/en/innodb-file-system-architecture.html\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-parameters.html\"\u003ehttps://dev.mysql.com/doc/refman/8.0/en/innodb-parameters.html\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-optimizing-innodb-operations.html\"\u003ehttps://dev.mysql.com/doc/refman/8.0/en/innodb-optimizing-innodb-operations.html\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","title":"MySQL InnoDB ì¥ë‹¨ì ê³¼ ìš´ì˜ ì‹œ ì£¼ì˜ì‚¬í•­ ì •ë¦¬"},{"content":"ê°œìš” TypeScriptì—ì„œ enum, const enum, as constëŠ” ê°’ ì§‘í•©ì„ ì„ ì–¸í•˜ê³  íƒ€ì…ìœ¼ë¡œ í™œìš©í•˜ê¸° ìœ„í•œ ì„œë¡œ ë‹¤ë¥¸ ë„êµ¬ì„ ê° íŠ¹ì„±ì˜ ì°¨ì´ì™€ íŠ¸ë ˆì´ë“œì˜¤í”„ë¥¼ ì´í•´í•˜ë©´ ê°€ë…ì„±ê³¼ ì•ˆì •ì„±ì„ ì±™ê¸°ë©´ì„œ ë²ˆë“¤ í¬ê¸°ì™€ ë„êµ¬ í˜¸í™˜ì„± ë¬¸ì œë„ í”¼í•  ìˆ˜ ìˆìŒ\nenum ê°œë…ê³¼ ë™ì‘ ì—´ê±°í˜• íƒ€ì…ì„ ì„ ì–¸í•˜ëŠ” ë¬¸ë²• ìˆ«ì ê¸°ë°˜ê³¼ ë¬¸ìì—´ ê¸°ë°˜ ëª¨ë‘ ì§€ì› ì»´íŒŒì¼ ê²°ê³¼ë¡œ ì–‘ë°©í–¥ ë§¤í•‘ì„ ë‹´ì€ JS ê°ì²´ ìƒì„± í‚¤ë¡œ ê°’ ì¡°íšŒ, ê°’ìœ¼ë¡œ í‚¤ ì—­ì¡°íšŒ ê°€ëŠ¥ ì˜ˆì‹œ\nenum BooleanType { False = 0, True = 1, } ì»´íŒŒì¼ ê²°ê³¼ëŠ” ì¦‰ì‹œì‹¤í–‰í•¨ìˆ˜ í˜•íƒœë¡œ ì–‘ë°©í–¥ ë§µ ê°ì²´ ìƒì„±ë¨\nvar BooleanType = { \u0026#34;0\u0026#34;: \u0026#34;False\u0026#34;, \u0026#34;1\u0026#34;: \u0026#34;True\u0026#34;, False: 0, True: 1 } ì£¼ì˜ì \në©¤ë²„ ì´ë¦„ì— ìˆ«ì ì´ë¦„ ì‚¬ìš© ë¶ˆê°€ ì˜ˆ) enum X { 1: \u0026lsquo;A\u0026rsquo; } ì—ëŸ¬ ë°œìƒ ë©¤ë²„ ì¢…ë¥˜ Constant Member: ê³ ì • ìƒìˆ˜ê°’ ë³´ìœ  Computed Member: í‘œí˜„ì‹ í‰ê°€ ê²°ê³¼ë¥¼ ê°’ìœ¼ë¡œ ê°€ì§ ê°’ íƒ€ì…ë³„ ì¢…ë¥˜ Numeric enum String enum Heterogeneous enum (ìˆ«ìì™€ ë¬¸ìì—´ í˜¼í•© ì‚¬ìš©, íŠ¹ë³„í•œ ì´ìœ  ì—†ìœ¼ë©´ ì§€ì–‘) ìë™ í• ë‹¹ ì²« ë©¤ë²„ ë¯¸ì´ˆê¸°í™” ì‹œ 0ë¶€í„° ì‹œì‘ ì´ì „ ë©¤ë²„ê°€ ìˆ«ì ìƒìˆ˜ë©´ ë‹¤ìŒ ë¯¸ì´ˆê¸°í™” ë©¤ë²„ëŠ” ì´ì „ê°’ + 1 í• ë‹¹ enum Direction { Up, // 0 Down, // 1 Left, // 2 Right, // 3 } ì¥ì  ì˜ë„ í‘œí˜„ë ¥ ë†’ìŒ, ì–‘ë°©í–¥ ë§¤í•‘ìœ¼ë¡œ ìƒìˆ˜ ì§‘í•©ì„ í•˜ë‚˜ì˜ ì‹ë³„ìë¡œ ì¶”ìƒí™” ê°€ëŠ¥ ì •ì˜ëœ ê°’ë§Œ ì‚¬ìš©í•˜ë„ë¡ ê°•ì œ ê°€ëŠ¥, ì˜¤ì…ë ¥ ë°©ì§€ì— ìœ ë¦¬ ë‹¨ì  ì»´íŒŒì¼ëœ JS ì½”ë“œê°€ ê°ì²´ì™€ ì´ˆê¸°í™” ë¡œì§ì„ í¬í•¨í•˜ì—¬ ë²ˆë“¤ í¬ê¸° ì¦ê°€ IIFEë¡œ ìƒì„±ë˜ëŠ” ì‚¬ì´ë“œì´í™íŠ¸ ë•Œë¬¸ì— ì¼ë°˜ì ìœ¼ë¡œ íŠ¸ë¦¬ ì…°ì´í‚¹ì— ì·¨ì•½ const enum enumì˜ ì½”ë“œ ë¹„ìš©ê³¼ ê°„ì ‘ ì°¸ì¡° ë¹„ìš©ì„ ì¤„ì´ëŠ” ëª©ì ì˜ ë³€í˜• ë¬¸ë²• í•µì‹¬ íŠ¹ì§•\në©¤ë²„ ì ‘ê·¼ ì§€ì ì— ê°’ì´ ì¸ë¼ì¸ë¨ ì»´íŒŒì¼ ì‹œ enum êµ¬í˜„ì²´ê°€ ì œê±°ë¨ Computed Member ê¸ˆì§€, ìƒìˆ˜ í‘œí˜„ì‹ë§Œ í—ˆìš© ì˜ˆì‹œ\nconst enum Direction { Up, Down, } const xs = [Direction.Up, Direction.Down] ì»´íŒŒì¼ ê²°ê³¼ì—ì„œ ë°°ì—´ ë¦¬í„°ëŸ´ì— ìˆ«ì ê°’ì´ ì§ì ‘ ì¸ë¼ì¸ë¨\në©¤ë²„ëŠ” ë¬¸ìì—´ ë¦¬í„°ëŸ´ ì ‘ê·¼ìœ¼ë¡œë§Œ ì‚¬ìš© ê°€ëŠ¥í•˜ì§€ ì•Šì€ ë°©ì‹ì€ ì—ëŸ¬ ë°œìƒ ì¥ì \nì‹¤í–‰ ì‹œ ì˜¤ë¸Œì íŠ¸ ìƒì„± ë¹„ìš© ì œê±°, ë²ˆë“¤ í¬ê¸° ê°ì†Œ ê°€ëŠ¥ ì£¼ì˜ ë° í•¨ì •\në¹Œë“œ íŒŒì´í”„ë¼ì¸ì—ì„œ íŠ¸ëœìŠ¤íŒŒì¼ëŸ¬ê°€ const enum ì¸ë¼ì¸ì„ ë³´ì¥í•˜ì§€ ì•Šìœ¼ë©´ ê¹¨ì§ ì˜ˆ) ì¼ë¶€ Babel, isolatedModules í™˜ê²½, íƒ€ì… ì •ë³´ ì†ì‹¤ë˜ëŠ” íŠ¸ëœìŠ¤íŒŒì¼ ê²½ë¡œ ë“± ë¼ì´ë¸ŒëŸ¬ë¦¬ ê²½ê³„ ë„˜ì–´ ì‚¬ìš©í•˜ëŠ” ê²½ìš° ì†Œë¹„ì ë¹Œë“œ ì„¤ì •ì— ë”°ë¼ ì˜¤ë¥˜ ìœ ë°œ ê°€ëŠ¥ ì´ìœ ë¡œ í”„ë¡œë•ì…˜ ì½”ë“œë² ì´ìŠ¤ì—ì„œ const enum ì‚¬ìš©ì„ ì œí•œí•˜ê±°ë‚˜ ê¸ˆì§€í•˜ëŠ” íŒ€ì´ ë§ìŒ as const TypeScript 3.4ì˜ const assertion ë¬¸ë²• ëª©ì \nê°’ì˜ íƒ€ì… ì¶”ë¡  ë²”ìœ„ë¥¼ ë¦¬í„°ëŸ´ ë‹¨ìœ„ë¡œ ì¢íˆê¸° ìœ„í•œ ì„ ì–¸ì  ë°©ë²• ê°ì²´, ë°°ì—´, ì¤‘ì²© êµ¬ì¡°ë¥¼ í¬í•¨í•´ ê°’ ì „ë°˜ì„ ìƒìˆ˜ë¡œ ì·¨ê¸‰í•˜ê²Œ í•¨ í•µì‹¬ íš¨ê³¼\në¬¸ìì—´/ìˆ«ì ê°’ì´ ë¦¬í„°ëŸ´ íƒ€ì…ìœ¼ë¡œ ê³ ì •ë¨ ê°ì²´ ìˆ˜ì¤€ìœ¼ë¡œ ì‚¬ìš© ì‹œ í”„ë¡œí¼í‹°ì— readonly ì ìš©ë¨ ê°„ë‹¨ ì˜ˆì‹œ\nconst s = \u0026#39;NLP\u0026#39; as const // íƒ€ì…ì´ \u0026#39;NLP\u0026#39;ë¡œ ê³ ì • const obj = { a: 1, b: \u0026#39;x\u0026#39; } as const // obj.a: 1, obj.b: \u0026#39;x\u0026#39;, ëª¨ë‘ readonly letìœ¼ë¡œ ì„ ì–¸í•œ ê°’ì—ë„ as constë¥¼ ë¶™ì´ë©´ ë¦¬í„°ëŸ´ íƒ€ì…ìœ¼ë¡œ ê³ ì •ë¨\nì¬í• ë‹¹ ë˜ëŠ” ë³€ê²½ ì‹œ íƒ€ì… ì˜¤ë¥˜ ë˜ëŠ” readonly ìœ„ë°˜ìœ¼ë¡œ ë§‰í˜ Discriminated Unionê³¼ì˜ ê²°í•© ì¡°ê±´ ë¶„ê¸°ì—ì„œ ì•ˆì „í•˜ê²Œ ì†ì„±ì„ ì ‘ê·¼í•˜ë ¤ë©´ íŒë³„ ê°€ëŠ¥í•œ ìœ ë‹ˆì˜¨ì´ ìœ ìš©í•¨\nê³µí†µ íŒë³„ í‚¤ kind ë“±ìœ¼ë¡œ ê° ë¶„ê¸°ë¥¼ ì¢í˜€ íƒ€ì… ì•ˆì „í•œ ì ‘ê·¼ ë³´ì¥ as constë¡œ ë¦¬í„°ëŸ´ ê°’ì„ ê³ ì •í•˜ë©´ íŒë³„ í‚¤ê°€ í™•ì •ë˜ì–´ ì˜¤ë¥˜ ì œê±°ì— ë„ì›€ ì˜ˆì‹œ\ntype Shape = | { kind: \u0026#39;circle\u0026#39;; radius: number } | { kind: \u0026#39;square\u0026#39;; x: number } function area(s: Shape) { if (s.kind === \u0026#39;circle\u0026#39;) return Math.PI * s.radius * s.radius return s.x * s.x } ê°ì²´ ë¦¬í„°ëŸ´ ì‘ì„± ì‹œ kind ê°’ì„ as constë¡œ ê³ ì •í•˜ë©´ íŒë³„ ì •í™•ë„ í–¥ìƒ\nconst enum ëŒ€ì²´ íŒ¨í„´(as const ê¸°ë°˜) const enum ì—†ì´ë„ ê°’ ì§‘í•©ì„ íƒ€ì…ìœ¼ë¡œ ë½‘ì•„ ì“°ëŠ” íŒ¨í„´\nconst BooleanType = { False: 0, True: 1 } as const type BooleanTypeValue = typeof BooleanType[keyof typeof BooleanType] // 0 | 1 íŠ¹ì§•\nëŸ°íƒ€ì„ ê°ì²´ëŠ” ë‹¨ë°©í–¥ ë§¤í•‘ë§Œ ê°€ì§ íƒ€ì…ì€ ê°’ ì§‘í•©ì˜ ìœ ë‹ˆì˜¨ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ë°˜ì˜ë¨ ë²ˆë“¤ì— ë¶ˆí•„ìš”í•œ ì´ˆê¸°í™” í•¨ìˆ˜ ì—†ìŒ, íŠ¸ë¦¬ ì…°ì´í‚¹ ì¹œí™”ì  enumì²˜ëŸ¼ ê°’â†’í‚¤ ì—­ì¡°íšŒê°€ í•„ìš”í•˜ë©´ ë³„ë„ ë§µ êµ¬ì„± í•„ìš” ì„ íƒ ê¸°ì¤€ ì´ì¤‘ ë§¤í•‘ í•„ìš” ì—¬ë¶€ê°€ 1ì°¨ ê¸°ì¤€\nê°’â†”í‚¤ ì–‘ë°©í–¥ ë§¤í•‘ê³¼ ì—­ì¡°íšŒê°€ ìœ ìš©í•œ ë„ë©”ì¸ì´ë©´ enum ê³ ë ¤ ë§¤í•‘ ë°©í–¥ì´ ë‹¨ë°©í–¥ì´ê³  ê°’ ì§‘í•©ì„ íƒ€ì…ìœ¼ë¡œë§Œ í™œìš©í•˜ë©´ as const + ìœ ë‹ˆì˜¨ ì¶”ì¶œ ê¶Œì¥ ë¹Œë“œ í™˜ê²½ê³¼ ë„êµ¬ í˜¸í™˜ì„±ë„ ì¤‘ìš”\nconst enumì€ ì¸ë¼ì¸ì´ ë³´ì¥ë˜ëŠ” ë‹¨ì¼ tsc íŒŒì´í”„ë¼ì¸ì—ì„œë§Œ ì•ˆì •ì  ë‹¤ì–‘í•œ íŠ¸ëœìŠ¤íŒŒì¼ ë‹¨ê³„ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ê²½ê³„ë¥¼ ë„˜ëŠ” ê²½ìš° as const ëŒ€ì•ˆì´ ì•ˆì „ ìš”ì•½\nenumì€ ì˜ë„ í‘œí˜„ê³¼ ì—­ì¡°íšŒê°€ í•„ìš”í•œ ê²½ìš° ì í•©í•˜ì§€ë§Œ ë²ˆë“¤ ë¹„ìš©ê³¼ íŠ¸ë¦¬ ì…°ì´í‚¹ í•œê³„ ì¡´ì¬ const enumì€ ì´ë¡ ìƒ ê°€ì¥ ê°€ë²¼ìš°ë‚˜ ë¹Œë“œ íŒŒì´í”„ë¼ì¸ ì œì•½ê³¼ í•¨ì •ìœ¼ë¡œ ì‹¤ë¬´ì—ì„œ ì±„íƒ ì‹ ì¤‘ í•„ìš” as constëŠ” ë¦¬í„°ëŸ´ íƒ€ì… ê³ ì •ê³¼ readonly ë¶€ì—¬ë¡œ íƒ€ì… ì•ˆì „ì„±ì„ ë†’ì´ê³ , const enumì˜ ì£¼ìš” ì‚¬ìš©ì²˜ë¥¼ ë¬´ë¦¬ ì—†ì´ ëŒ€ì²´í•¨ ë§ˆë¬´ë¦¬ ì–‘ë°©í–¥ ë§¤í•‘ê³¼ ì—­ì¡°íšŒê°€ ë°˜ë“œì‹œ í•„ìš”í•˜ë©´ enum ì„ íƒ ê·¸ ì™¸ ëŒ€ë¶€ë¶„ì˜ ìƒìˆ˜ ì§‘í•©ê³¼ íƒ€ì… ì¶”ë¡  ê³ ì • ìš”êµ¬ì—ëŠ” as const ê¸°ë°˜ íŒ¨í„´ ê¶Œì¥ const enumì€ ë¹Œë“œ êµ¬ì„±ê³¼ íŒ€ ê·œì¹™ì„ ì¶©ë¶„íˆ ê²€í† í•œ ë’¤ ì œí•œì ìœ¼ë¡œ ì‚¬ìš© ê¶Œì¥\nì°¸ê³ ìë£Œ https://www.typescriptlang.org/docs/handbook/enums.html https://www.typescriptlang.org/docs/handbook/enums.html#const-enum-pitfalls https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#literal-types https://www.typescriptlang.org/docs/handbook/2/narrowing.html#discriminated-unions https://devblogs.microsoft.com/typescript/announcing-typescript-3-4/#const-assertions https://www.kabuku.co.jp/developers/good-bye-typescript-enum ","permalink":"https://blog.jsontapose.com/posts/typescript-enum-const-enum-as-const-3817af/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eTypeScriptì—ì„œ enum, const enum, as constëŠ” ê°’ ì§‘í•©ì„ ì„ ì–¸í•˜ê³  íƒ€ì…ìœ¼ë¡œ í™œìš©í•˜ê¸° ìœ„í•œ ì„œë¡œ ë‹¤ë¥¸ ë„êµ¬ì„\nê° íŠ¹ì„±ì˜ ì°¨ì´ì™€ íŠ¸ë ˆì´ë“œì˜¤í”„ë¥¼ ì´í•´í•˜ë©´ ê°€ë…ì„±ê³¼ ì•ˆì •ì„±ì„ ì±™ê¸°ë©´ì„œ ë²ˆë“¤ í¬ê¸°ì™€ ë„êµ¬ í˜¸í™˜ì„± ë¬¸ì œë„ í”¼í•  ìˆ˜ ìˆìŒ\u003c/p\u003e\n\u003ch3 id=\"enum-ê°œë…ê³¼-ë™ì‘\"\u003eenum ê°œë…ê³¼ ë™ì‘\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eì—´ê±°í˜• íƒ€ì…ì„ ì„ ì–¸í•˜ëŠ” ë¬¸ë²•\u003c/li\u003e\n\u003cli\u003eìˆ«ì ê¸°ë°˜ê³¼ ë¬¸ìì—´ ê¸°ë°˜ ëª¨ë‘ ì§€ì›\u003c/li\u003e\n\u003cli\u003eì»´íŒŒì¼ ê²°ê³¼ë¡œ ì–‘ë°©í–¥ ë§¤í•‘ì„ ë‹´ì€ JS ê°ì²´ ìƒì„±\n\u003cul\u003e\n\u003cli\u003eí‚¤ë¡œ ê°’ ì¡°íšŒ, ê°’ìœ¼ë¡œ í‚¤ ì—­ì¡°íšŒ ê°€ëŠ¥\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eì˜ˆì‹œ\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-ts\" data-lang=\"ts\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eenum\u003c/span\u003e \u003cspan style=\"color:#a6e22e\"\u003eBooleanType\u003c/span\u003e {\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eFalse\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e0\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e  \u003cspan style=\"color:#a6e22e\"\u003eTrue\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e=\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e,\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e}\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eì»´íŒŒì¼ ê²°ê³¼ëŠ” ì¦‰ì‹œì‹¤í–‰í•¨ìˆ˜ í˜•íƒœë¡œ ì–‘ë°©í–¥ ë§µ ê°ì²´ ìƒì„±ë¨\u003c/p\u003e","title":"TypeScript enum, const enum, as const ì°¨ì´ì™€ ì„ íƒ ê¸°ì¤€"},{"content":"ê¸°ë³¸ ë¬¸ë²• LIMITëŠ” SELECT ê²°ê³¼ì—ì„œ ë°˜í™˜í•  í–‰ ìˆ˜ë¥¼ ì œí•œí•˜ëŠ” êµ¬ë¬¸ WHEREì™€ ORDER BY ë’¤, ì¦‰ SELECT ë¬¸ ëì— ìœ„ì¹˜\në‘ ê°€ì§€ í˜•íƒœ ì‚¬ìš©\nSELECT ì»¬ëŸ¼ëª… FROM í…Œì´ë¸”ëª… LIMIT ê°œìˆ˜ SELECT ì»¬ëŸ¼ëª… FROM í…Œì´ë¸”ëª… LIMIT ê°œìˆ˜ OFFSET ì‹œì‘_ì¸ë±ìŠ¤ ì¼ë¶€ dialectì—ì„œëŠ” ì•„ë˜ ì¶•ì•½í˜•ë„ ì¡´ì¬\n-- MySQL, SQLite SELECT ì»¬ëŸ¼ëª… FROM í…Œì´ë¸”ëª… LIMIT ì‹œì‘_ì¸ë±ìŠ¤, ê°œìˆ˜ 1. LIMIT ê°œìˆ˜ LIMIT ë’¤ ìˆ«ìëŠ” ì¸ë±ìŠ¤ê°€ ì•„ë‹Œ ê°œìˆ˜\nSELECT * FROM Book LIMIT 1 í˜„ì¬ ì •ë ¬ ê¸°ì¤€ì—ì„œ ë§¨ ìœ„ í–‰ 1ê°œë§Œ ë°˜í™˜ ORDER BYê°€ ì—†ìœ¼ë©´ ë°˜í™˜ë˜ëŠ” í–‰ì€ ë¹„ê²°ì •ì ì¼ ìˆ˜ ìˆìŒ\n2. LIMIT ê°œìˆ˜ OFFSET ì‹œì‘ OFFSETì€ 0ë¶€í„° ì‹œì‘ ë‹¤ìŒ ì˜ˆì‹œëŠ” 4ë²ˆì§¸ í–‰ë¶€í„° 1ê°œ ë°˜í™˜\nSELECT * FROM Book LIMIT 1 OFFSET 3 3. OFFSET ìƒëµ ë¬¸ë²• ì•„ë˜ í˜•íƒœëŠ” ì‹œì‘ ì¸ë±ìŠ¤ì™€ ê°œìˆ˜ë¥¼ ì‰¼í‘œë¡œ ì „ë‹¬\n-- MySQL, SQLite ì „ìš© SELECT * FROM Book LIMIT 1, 3 1ë²ˆ ì¸ë±ìŠ¤ë¶€í„° 3ê°œì˜ í–‰ ë°˜í™˜ PostgreSQL ë“±ì—ì„œëŠ” ì´ ë¬¸ë²• ë¯¸ì§€ì›ì´ë¯€ë¡œ LIMIT ê°œìˆ˜ OFFSET ì‹œì‘ í˜•íƒœ ì‚¬ìš©\nì£¼ì˜ ORDER BY ì—†ì´ LIMITë§Œ ì‚¬ìš©í•˜ë©´ ê²°ê³¼ ìˆœì„œ ë³´ì¥ ì•ˆ ë¨ í° OFFSETì€ ë¹„ìš© ì¦ê°€ ìœ„í—˜, ëŒ€ëŸ‰ í˜ì´ì§•ì—ì„œëŠ” ì •ë ¬ í‚¤ ê¸°ë°˜ ì»¤ì„œ ë°©ì‹ ê³ ë ¤ OFFSETì€ 0ë¶€í„° ì‹œì‘, ì˜¤í”„ë°”ì´ì› ì‹¤ìˆ˜ ì£¼ì˜ ì°¸ê³ ìë£Œ https://www.postgresql.org/docs/current/queries-limit.html https://dev.mysql.com/doc/refman/8.0/en/select.html https://www.sqlite.org/lang_select.html ","permalink":"https://blog.jsontapose.com/posts/sql-limit-offset-basics-4a9880/","summary":"\u003ch3 id=\"ê¸°ë³¸-ë¬¸ë²•\"\u003eê¸°ë³¸ ë¬¸ë²•\u003c/h3\u003e\n\u003cp\u003eLIMITëŠ” SELECT ê²°ê³¼ì—ì„œ ë°˜í™˜í•  í–‰ ìˆ˜ë¥¼ ì œí•œí•˜ëŠ” êµ¬ë¬¸\nWHEREì™€ ORDER BY ë’¤, ì¦‰ SELECT ë¬¸ ëì— ìœ„ì¹˜\u003c/p\u003e\n\u003cp\u003eë‘ ê°€ì§€ í˜•íƒœ ì‚¬ìš©\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-sql\" data-lang=\"sql\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eSELECT\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eì»¬ëŸ¼ëª…\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eFROM\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eí…Œì´ë¸”ëª…\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eLIMIT\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eê°œìˆ˜\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eSELECT\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eì»¬ëŸ¼ëª…\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eFROM\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eí…Œì´ë¸”ëª…\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eLIMIT\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eê°œìˆ˜\u003c/span\u003e \u003cspan style=\"color:#66d9ef\"\u003eOFFSET\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eì‹œì‘\u003c/span\u003e_ì¸ë±ìŠ¤\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eì¼ë¶€ dialectì—ì„œëŠ” ì•„ë˜ ì¶•ì•½í˜•ë„ ì¡´ì¬\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-sql\" data-lang=\"sql\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e-- MySQL, SQLite\n\u003c/span\u003e\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#75715e\"\u003e\u003c/span\u003e\u003cspan style=\"color:#66d9ef\"\u003eSELECT\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eì»¬ëŸ¼ëª…\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eFROM\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eí…Œì´ë¸”ëª…\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eLIMIT\u003c/span\u003e \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eì‹œì‘\u003c/span\u003e_ì¸ë±ìŠ¤, \u003cspan style=\"color:#960050;background-color:#1e0010\"\u003eê°œìˆ˜\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003ch3 id=\"1-limit-ê°œìˆ˜\"\u003e1. LIMIT ê°œìˆ˜\u003c/h3\u003e\n\u003cp\u003eLIMIT ë’¤ ìˆ«ìëŠ” ì¸ë±ìŠ¤ê°€ ì•„ë‹Œ ê°œìˆ˜\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-sql\" data-lang=\"sql\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eSELECT\u003c/span\u003e \u003cspan style=\"color:#f92672\"\u003e*\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eFROM\u003c/span\u003e Book\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\u003cspan style=\"color:#66d9ef\"\u003eLIMIT\u003c/span\u003e \u003cspan style=\"color:#ae81ff\"\u003e1\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003eí˜„ì¬ ì •ë ¬ ê¸°ì¤€ì—ì„œ ë§¨ ìœ„ í–‰ 1ê°œë§Œ ë°˜í™˜\nORDER BYê°€ ì—†ìœ¼ë©´ ë°˜í™˜ë˜ëŠ” í–‰ì€ ë¹„ê²°ì •ì ì¼ ìˆ˜ ìˆìŒ\u003c/p\u003e","title":"SQL LIMITì™€ OFFSET ì‚¬ìš©ë²• ì •ë¦¬: í–‰ ê°œìˆ˜ ì œí•œê³¼ í˜ì´ì§•"},{"content":"ê°œìš” Node.js ë””ë²„ê¹… í™˜ê²½ì€ V8 ì¸ìŠ¤í™í„° ë„ì… ì´í›„ ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ìˆ˜ë ´í–ˆìŒ Node.js v6ë¶€í„° V8 ë„¤ì´í‹°ë¸Œ ì¸ìŠ¤í™í„°ê°€ ë“¤ì–´ì™”ê³  v8.0.0ì—ì„œ v8-inspectorë¥¼ ë³¸ê²© ì§€ì›í•˜ë©´ì„œ ê¸°ì¡´ \u0026ndash;debugëŠ” íê¸°, \u0026ndash;inspectë¡œ í†µì¼ë¨ CLI ë””ë²„ê±° node-inspectê°€ ì½”ì–´ì— í†µí•©ë˜ì–´ ë¸Œë¼ìš°ì € ê°œë°œìë„êµ¬ì™€ ì»¤ë§¨ë“œë¼ì¸ ì¤‘ ì„ íƒ ê°€ëŠ¥í•¨\nì´ ê¸€ì€ Node.js 8 ì´ìƒì—ì„œ ë™ì‘í•˜ëŠ” v8-inspector ê¸°ë°˜ ë””ë²„ê¹… í”Œë¡œìš°ë¥¼ ìš”ì•½í•¨\ní•µì‹¬ ê°œë… v8-inspector í”„ë¡œí† ì½œ V8ì´ ë…¸ì¶œí•˜ëŠ” ë””ë²„ê¹… í”„ë¡œí† ì½œ Node í”„ë¡œì„¸ìŠ¤ê°€ WebSocket ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì—´ê³  ë””ë²„ê±°ê°€ ì—¬ê¸°ì— ì—°ê²°í•˜ëŠ” êµ¬ì¡° \u0026ndash;inspect vs \u0026ndash;inspect-brk \u0026ndash;inspectëŠ” ë°”ë¡œ ì‹¤í–‰í•˜ë©´ì„œ ë””ë²„ê±° ì ‘ì† ëŒ€ê¸° \u0026ndash;inspect-brkëŠ” ì²« ì¤„ì—ì„œ ì¼ì‹œì •ì§€ í›„ ì‹œì‘, ì´ˆê¸°í™” ë¡œì§ë¶€í„° ì¶”ì í•  ë•Œ ìœ ìš© í¬íŠ¸ ê¸°ë³¸ í¬íŠ¸ 9229 ì‚¬ìš© \u0026ndash;inspect=PORT, \u0026ndash;inspect-brk=PORT í˜•íƒœë¡œ ë³€ê²½ ê°€ëŠ¥ í”„ë¡ íŠ¸ì—”ë“œ Chromium ê¸°ë°˜ ê°œë°œìë„êµ¬ë¡œ ì—°ê²° ê°€ëŠ¥ chrome://inspect ì—ì„œ Node ëŒ€ìƒ íƒìƒ‰ ë° ì—°ê²° node-inspect Node ë‚´ì¥ CLI ë””ë²„ê±° ë™ì¼í•œ ì¸ìŠ¤í™í„° í¬íŠ¸ë¡œ ì ‘ì†í•˜ì—¬ í„°ë¯¸ë„ì—ì„œ ìŠ¤í… ì‹¤í–‰ê³¼ REPL ìˆ˜í–‰ í¬ë¡¬ ê°œë°œìë„êµ¬ë¡œ ë””ë²„ê¹… Express ê°™ì€ ì„œë²„ ì•±ì„ ì˜ˆì‹œë¡œ ì‹¤í–‰ íŒŒì¼ì´ bin/wwwë¼ê³  ê°€ì •\nì„œë²„ë¥¼ ì¸ìŠ¤í™í„° ëª¨ë“œë¡œ ì‹œì‘ node --inspect bin/www # Debugger listening on ws://127.0.0.1:9229/\u0026lt;uuid\u0026gt; # For help see https://nodejs.org/en/docs/inspector ë¸Œë¼ìš°ì €ì—ì„œ chrome://inspect ì ‘ì† Remote Target ëª©ë¡ì—ì„œ í•´ë‹¹ Node í”„ë¡œì„¸ìŠ¤ í™•ì¸ inspect ë²„íŠ¼ìœ¼ë¡œ ê°œë°œìë„êµ¬ ì—°ê²° ë””ë²„ê¹… ë°©ë²•ì€ ì›¹ í”„ë¡ íŠ¸ ë””ë²„ê¹…ê³¼ ë™ì¼ ë¸Œë ˆì´í¬í¬ì¸íŠ¸ ì„¤ì •, ì½œìŠ¤íƒ í™•ì¸, ìŠ¤í… ì¸/ì•„ì›ƒ, ì›Œì¹˜, ì½˜ì†” í™œìš© ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œì ë¶€í„° ë©ˆì¶”ë ¤ë©´ \u0026ndash;inspect-brk ì‚¬ìš© node-inspectë¡œ í„°ë¯¸ë„ ë””ë²„ê¹… GUI ì—†ì´ë„ ë¹ ë¥´ê²Œ ë¬¸ì œë¥¼ ì¶”ì í•  ë•Œ ìœ ìš©\në””ë²„ê±° ì‹œì‘ node inspect bin/www # Debugger listening on ws://127.0.0.1:9229/\u0026lt;uuid\u0026gt; # Debugger attached # Break on start in bin/www:1 ê¸°ë³¸ ëª…ë ¹ cont, c ê³„ì† ì‹¤í–‰ next, n ë‹¤ìŒ ë¼ì¸ìœ¼ë¡œ ì´ë™ step, s í•¨ìˆ˜ ë‚´ë¶€ë¡œ ì§„ì… out, o í˜¸ì¶œí•œ í•¨ìˆ˜ë¡œ ë¹ ì ¸ë‚˜ì˜¤ê¸° run, restart í”„ë¡œì„¸ìŠ¤ ì¬ì‹œì‘ repl í˜„ì¬ ì»¨í…ìŠ¤íŠ¸ì—ì„œ í‘œí˜„ì‹ ì‹¤í–‰ ë¸Œë ˆì´í¬í¬ì¸íŠ¸ íŒ ì½”ë“œì— debugger êµ¬ë¬¸ì„ ì‚½ì…í•´ ëª…ì‹œì  ì¤‘ë‹¨ì ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥ ê°„ë‹¨ ì˜ˆì‹œ\ndebug\u0026gt; cont # ... debugger êµ¬ë¬¸ì—ì„œ ì¼ì‹œì •ì§€ë¨ debug\u0026gt; repl Press Ctrl + C to leave debug repl \u0026gt; console.log(app.settings) \u0026lt; { env: \u0026#39;development\u0026#39;, \u0026#39;view engine\u0026#39;: \u0026#39;jade\u0026#39;, ... } \u0026gt; undefined ê²½ë¡œ ë“± ë¯¼ê°í•œ ê°’ì€ ì¶œë ¥ ì‹œ ë§ˆìŠ¤í‚¹ ê¶Œì¥\ní¬íŠ¸ì™€ ì—°ê²° ê´€ë¦¬ ê¸°ë³¸ í¬íŠ¸ 9229 ì¶©ëŒ ì‹œ \u0026ndash;inspect=9230 ì²˜ëŸ¼ ë³€ê²½ ë™ì¼í•œ í¬íŠ¸ì— í¬ë¡¬ ê°œë°œìë„êµ¬ ë˜ëŠ” node-inspect ì¤‘ í•˜ë‚˜ë§Œ ë…ì  ì—°ê²°í•˜ì§€ ì•Šë„ë¡ ìœ ì˜ ì›ê²© ì„œë²„ì—ì„œ ì‚¬ìš©í•  ê²½ìš° ë„¤íŠ¸ì›Œí¬ì— ë””ë²„ê·¸ í¬íŠ¸ë¥¼ ê·¸ëŒ€ë¡œ ë…¸ì¶œí•˜ì§€ ì•ŠìŒ ì‹ ë¢° ë„¤íŠ¸ì›Œí¬ì—ì„œë§Œ ì ‘ì† í—ˆìš© ë˜ëŠ” í¬íŠ¸í¬ì›Œë”©, í„°ë„ë§ ì‚¬ìš© ê¶Œì¥ ìš´ì˜ ì‹œ ìœ ì˜ì‚¬í•­ \u0026ndash;inspectëŠ” ì„±ëŠ¥ì— ì•½ê°„ì˜ ì˜¤ë²„í—¤ë“œê°€ ìˆì„ ìˆ˜ ìˆìŒ í”„ë¡œë•ì…˜ ìƒì‹œ í™œì„±í™”ëŠ” ì§€ì–‘, ì¬í˜„ ê°€ëŠ¥í•œ í™˜ê²½ì—ì„œ ì¼ì‹œì ìœ¼ë¡œ í™œì„±í™” ê¶Œì¥ ì´ˆê¸°í™” ì½”ë“œ ì´ìŠˆ ì¶”ì ì€ \u0026ndash;inspect-brkê°€ ë” ì•ˆì •ì  ë””ë²„ê¹… ì„¸ì…˜ ì¤‘ í”„ë¡œì„¸ìŠ¤ê°€ ì¬ì‹œì‘ë˜ë©´ ì—°ê²°ì´ ëŠê¸°ë¯€ë¡œ ì¬ì—°ê²° í•„ìš” ì •ë¦¬ Node.jsì˜ ë””ë²„ê¹…ì€ v8-inspectorë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í‘œì¤€í™”ë˜ì—ˆìŒ \u0026ndash;inspect ë˜ëŠ” \u0026ndash;inspect-brkë¡œ í”„ë¡œì„¸ìŠ¤ë¥¼ ë„ìš°ê³ , í¬ë¡¬ ê°œë°œìë„êµ¬ë‚˜ node-inspect ì¤‘ ì„ í˜¸ ë„êµ¬ë¡œ ì—°ê²°í•´ ë¸Œë ˆì´í¬í¬ì¸íŠ¸ì™€ ìŠ¤í… ì‹¤í–‰, REPLê¹Œì§€ í•œ íë¦„ìœ¼ë¡œ í•´ê²° ê°€ëŠ¥í•¨ ê°œë°œ ë‹¨ê³„ì—ì„œ ë¹ ë¥´ê²Œ ì¬í˜„í•˜ê³  ì¶”ì í•˜ëŠ” ê¸°ë³¸ ë£¨í‹´ìœ¼ë¡œ ì •ì°©ì‹œí‚¤ë©´ ì½˜ì†” ë¡œê·¸ë§Œìœ¼ë¡œ ë†“ì¹˜ëŠ” ë¶„ê¸°ì™€ íƒ€ì´ë° ì´ìŠˆë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŒ\nì°¸ê³ ìë£Œ Node.js v8.0.0 Release Debugging Node.js Apps with the Inspector Node.js Debugger API node-inspect Repository Express ì°¸ê³ ìë£Œ https://nodejs.org/en/blog/release/v8.0.0/ https://nodejs.org/en/docs/inspector/ https://nodejs.org/api/debugger.html https://github.com/nodejs/node-inspect https://expressjs.com/ ","permalink":"https://blog.jsontapose.com/posts/nodejs-v8-inspector-debugging-guide-inspect-node-inspect-2e5ae9/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eNode.js ë””ë²„ê¹… í™˜ê²½ì€ V8 ì¸ìŠ¤í™í„° ë„ì… ì´í›„ ì¼ê´€ëœ ë°©ì‹ìœ¼ë¡œ ìˆ˜ë ´í–ˆìŒ\nNode.js v6ë¶€í„° V8 ë„¤ì´í‹°ë¸Œ ì¸ìŠ¤í™í„°ê°€ ë“¤ì–´ì™”ê³  v8.0.0ì—ì„œ v8-inspectorë¥¼ ë³¸ê²© ì§€ì›í•˜ë©´ì„œ ê¸°ì¡´ \u0026ndash;debugëŠ” íê¸°, \u0026ndash;inspectë¡œ í†µì¼ë¨\nCLI ë””ë²„ê±° node-inspectê°€ ì½”ì–´ì— í†µí•©ë˜ì–´ ë¸Œë¼ìš°ì € ê°œë°œìë„êµ¬ì™€ ì»¤ë§¨ë“œë¼ì¸ ì¤‘ ì„ íƒ ê°€ëŠ¥í•¨\u003c/p\u003e\n\u003cp\u003eì´ ê¸€ì€ Node.js 8 ì´ìƒì—ì„œ ë™ì‘í•˜ëŠ” v8-inspector ê¸°ë°˜ ë””ë²„ê¹… í”Œë¡œìš°ë¥¼ ìš”ì•½í•¨\u003c/p\u003e\n\u003ch3 id=\"í•µì‹¬-ê°œë…\"\u003eí•µì‹¬ ê°œë…\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003ev8-inspector í”„ë¡œí† ì½œ\n\u003cul\u003e\n\u003cli\u003eV8ì´ ë…¸ì¶œí•˜ëŠ” ë””ë²„ê¹… í”„ë¡œí† ì½œ\u003c/li\u003e\n\u003cli\u003eNode í”„ë¡œì„¸ìŠ¤ê°€ WebSocket ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì—´ê³  ë””ë²„ê±°ê°€ ì—¬ê¸°ì— ì—°ê²°í•˜ëŠ” êµ¬ì¡°\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u0026ndash;inspect vs \u0026ndash;inspect-brk\n\u003cul\u003e\n\u003cli\u003e\u0026ndash;inspectëŠ” ë°”ë¡œ ì‹¤í–‰í•˜ë©´ì„œ ë””ë²„ê±° ì ‘ì† ëŒ€ê¸°\u003c/li\u003e\n\u003cli\u003e\u0026ndash;inspect-brkëŠ” ì²« ì¤„ì—ì„œ ì¼ì‹œì •ì§€ í›„ ì‹œì‘, ì´ˆê¸°í™” ë¡œì§ë¶€í„° ì¶”ì í•  ë•Œ ìœ ìš©\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eí¬íŠ¸\n\u003cul\u003e\n\u003cli\u003eê¸°ë³¸ í¬íŠ¸ 9229 ì‚¬ìš©\u003c/li\u003e\n\u003cli\u003e\u0026ndash;inspect=PORT, \u0026ndash;inspect-brk=PORT í˜•íƒœë¡œ ë³€ê²½ ê°€ëŠ¥\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eí”„ë¡ íŠ¸ì—”ë“œ\n\u003cul\u003e\n\u003cli\u003eChromium ê¸°ë°˜ ê°œë°œìë„êµ¬ë¡œ ì—°ê²° ê°€ëŠ¥\u003c/li\u003e\n\u003cli\u003echrome://inspect ì—ì„œ Node ëŒ€ìƒ íƒìƒ‰ ë° ì—°ê²°\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003enode-inspect\n\u003cul\u003e\n\u003cli\u003eNode ë‚´ì¥ CLI ë””ë²„ê±°\u003c/li\u003e\n\u003cli\u003eë™ì¼í•œ ì¸ìŠ¤í™í„° í¬íŠ¸ë¡œ ì ‘ì†í•˜ì—¬ í„°ë¯¸ë„ì—ì„œ ìŠ¤í… ì‹¤í–‰ê³¼ REPL ìˆ˜í–‰\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"í¬ë¡¬-ê°œë°œìë„êµ¬ë¡œ-ë””ë²„ê¹…\"\u003eí¬ë¡¬ ê°œë°œìë„êµ¬ë¡œ ë””ë²„ê¹…\u003c/h3\u003e\n\u003cp\u003eExpress ê°™ì€ ì„œë²„ ì•±ì„ ì˜ˆì‹œë¡œ ì‹¤í–‰ íŒŒì¼ì´ bin/wwwë¼ê³  ê°€ì •\u003c/p\u003e","title":"Node.js v8-inspector ë””ë²„ê¹… ê°€ì´ë“œ â€” --inspectì™€ node-inspect ì‚¬ìš©ë²•"},{"content":"ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì€ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì˜ ë‘ë‡Œì´ì ì˜ì‚¬ê²°ì • ê³„ì¸µìœ¼ë¡œ, ì›Œì»¤ ë…¸ë“œê°€ ì‹¤ì œ ì›Œí¬ë¡œë“œë¥¼ ëŒë¦¬ëŠ” ë™ì•ˆ ì „ì²´ ìƒíƒœë¥¼ ì •ì˜í•˜ê³  ì¡°ìœ¨í•˜ëŠ” ì—­í• ì„ ë§¡ìŒ ì¡°ì§ ë¹„ìœ ë¡œ ë³´ë©´ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì€ ë³¸ì‚¬ì™€ ê²½ì˜ì§„, ì›Œì»¤ ë…¸ë“œëŠ” ì§€ì ê³¼ í˜„ì¥ ì§ì›ì— í•´ë‹¹í•¨\nê°œë…ê³¼ ì •ì˜ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì€ Desired Stateë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ì €ì¥í•˜ê³ , Observed Stateì™€ ë¹„êµí•´ ì¼ì¹˜í•˜ë„ë¡ ëŠì„ì—†ì´ ì¡°ì •í•˜ëŠ” ê³„ì¸µ ì‚¬ìš©ìëŠ” APIë¥¼ í†µí•´ ìƒíƒœë¥¼ ì„ ì–¸í•˜ê³ , ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì€ ìŠ¤ì¼€ì¤„ë§ê³¼ ì»¨íŠ¸ë¡¤ ë£¨í”„ë¡œ ì´ë¥¼ ë§Œì¡±í•˜ë„ë¡ ì‹œìŠ¤í…œì„ ìˆ˜ë ´ì‹œí‚´\ní•µì‹¬ êµ¬ì„±ìš”ì†Œ API ì„œë²„ kube-apiserver â€” ëª¨ë“  ìš”ì²­ì˜ ì§„ì…ì , ì¸ì¦Â·ì¸ê°€Â·ì–´ë“œë¯¸ì…˜ ìˆ˜í–‰ í›„ ìƒíƒœ ë³€ê²½ì„ etcdì— ë°˜ì˜\nkubectl, ì»¨íŠ¸ë¡¤ëŸ¬, ìŠ¤ì¼€ì¤„ëŸ¬ ë“± ëª¨ë“  í´ë¼ì´ì–¸íŠ¸ëŠ” API ì„œë²„ë¥¼ í†µí•´ ìƒí˜¸ì‘ìš©\nì˜ˆì‹œ\nkubectl get pods kubectl apply -f app.yaml etcd â€” í´ëŸ¬ìŠ¤í„° ìƒíƒœë¥¼ ì €ì¥í•˜ëŠ” ë¶„ì‚° í‚¤-ê°’ ì €ì¥ì†Œ\në„¤ì„ìŠ¤í˜ì´ìŠ¤, íŒŒë“œ, ì„œë¹„ìŠ¤, ì»¨í”¼ê·¸ë§µ ë“± ëª¨ë“  ë¦¬ì†ŒìŠ¤ ìŠ¤í™ê³¼ ìƒíƒœ ì €ì¥ ê°•í•œ ì¼ê´€ì„± ê¸°ë°˜ìœ¼ë¡œ ì»¨íŠ¸ë¡¤ ë£¨í”„ì˜ ì‹ ë¢°ì„±ì— í•µì‹¬ ì—­í•  ìŠ¤ì¼€ì¤„ëŸ¬ kube-scheduler â€” ìƒˆ íŒŒë“œë¥¼ ì–´ë–¤ ë…¸ë“œì— ë°°ì¹˜í• ì§€ ê²°ì •\në¦¬ì†ŒìŠ¤ ì—¬ìœ , ì–´í”¼ë‹ˆí‹°/ì•ˆí‹°ì–´í”¼ë‹ˆí‹°, í†¨ëŸ¬ë ˆì´ì…˜, ë…¸ë“œ ì…€ë ‰í„° ë“±ì„ ê³ ë ¤í•´ ìµœì  ë…¸ë“œ ì„ íƒ í”„ë¦¬ì— ì…˜ê³¼ ìŠ¤ì½”ì–´ë§ìœ¼ë¡œ ê³µì •ì„±ê³¼ íš¨ìœ¨ì„± ê· í˜• ìœ ì§€ ì»¨íŠ¸ë¡¤ëŸ¬ ë§¤ë‹ˆì € kube-controller-manager â€” ë‹¤ì–‘í•œ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ ì¡°ì • ë£¨í”„ ì‹¤í–‰\në ˆí”Œë¦¬ì¹´ì…‹, ì¡, ë°ëª¬ì…‹, ë…¸ë“œ, ì—”ë“œí¬ì¸íŠ¸ ë“± ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì„ ì–¸ëœ ìƒíƒœì— ë§ê²Œ ìƒì„±Â·ì‚­ì œÂ·ìˆ˜ì • ìˆ˜í–‰ í•µì‹¬ì€ ì§€ì†ì  ë¦¬ì»¨ì‹¤ë¦¬ì—ì´ì…˜ìœ¼ë¡œ ìƒíƒœ ìˆ˜ë ´ ë³´ì¥ ë™ì‘ ê°œìš” ì‚¬ìš©ìê°€ Desired Stateë¥¼ APIë¡œ ì œì¶œ etcdì— ì˜ì†í™” ìŠ¤ì¼€ì¤„ëŸ¬ê°€ íŒŒë“œ ë°°ì¹˜ ê²°ì • ì»¨íŠ¸ë¡¤ëŸ¬ë“¤ì´ ì‹¤ì œ ìƒíƒœë¥¼ ê°ì‹œí•˜ê³  ì¡°ì • ì›Œì»¤ ë…¸ë“œì˜ kubeletì´ íŒŒë“œ ì‹¤í–‰ê³¼ í—¬ìŠ¤ ë¦¬í¬íŒ… ìˆ˜í–‰ ì´ íë¦„ì´ ë°˜ë³µë˜ë©° ì¥ì• ë‚˜ ë³€ë™ì—ë„ ì„ ì–¸ëœ ìƒíƒœë¡œ ë³µê·€í•˜ëŠ” ìê¸°ì¹˜ìœ  ì„±ì§ˆì„ êµ¬í˜„í•¨ EKSì™€ ì¼ë°˜ k8s ì°¨ì´ ê´€ë¦¬ ê´€ì \nì¼ë°˜ k8s â€” ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ë…¸ë“œ ì„¤ì¹˜, etcd ìš´ì˜ê³¼ ë°±ì—… ì „ëµ, ë²„ì „ ì—…ê·¸ë ˆì´ë“œ í”Œëœ, ë³´ì•ˆ íŒ¨ì¹˜, ëª¨ë‹ˆí„°ë§, ë‹¤ì¤‘ AZ ê¸°ë°˜ HAë¥¼ ì§ì ‘ ì„¤ê³„Â·ìš´ì˜í•´ì•¼ í•¨ EKS â€” ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì€ ì™„ì „ê´€ë¦¬í˜•ìœ¼ë¡œ ì œê³µ, ë§ˆìŠ¤í„° ë…¸ë“œì™€ etcdëŠ” ì‚¬ìš©ìê°€ ì ‘ê·¼Â·ê´€ë¦¬í•˜ì§€ ì•ŠìŒ, ë‚´ë¶€ì ìœ¼ë¡œ ë°±ì—…Â·ë³µêµ¬ì™€ íŒ¨ì¹˜Â·HAê°€ ê´€ë¦¬ë¨, ì œì–´í”Œë ˆì¸ ë¡œê·¸ë¥¼ CloudWatchë¡œ ì „ì†¡ ê°€ëŠ¥ ë¹„ìš© êµ¬ì¡°\nì¼ë°˜ k8s â€” ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì¸í”„ë¼ ë¹„ìš©, ìš´ì˜ ì¸ë ¥ ë¹„ìš©, ë°±ì—… ìŠ¤í† ë¦¬ì§€ì™€ ëª¨ë‹ˆí„°ë§ ë„êµ¬ ë¹„ìš©ì„ ì§ì ‘ ì‚°ì • EKS â€” í´ëŸ¬ìŠ¤í„°ë‹¹ ì œì–´í”Œë ˆì¸ ì‚¬ìš©ë£Œê°€ ì‹œê°„ ë‹¨ìœ„ ê³¼ê¸ˆ, ì›Œì»¤ ë…¸ë“œëŠ” EC2 ë“± ì‚¬ìš©ëŸ‰ ê¸°ë°˜, EBSÂ·ELB ë“± ì—°ë™ ë¦¬ì†ŒìŠ¤ëŠ” ê°ê° ê³¼ê¸ˆ í†µí•© ê¸°ëŠ¥\nì¼ë°˜ k8s â€” ë¡œë“œë°¸ëŸ°ì„œ ì—°ë™, ìŠ¤í† ë¦¬ì§€ í”„ë¡œë¹„ì €ë‹, ì¸ì¦Â·ì¸ê°€, ë¡œê¹…/ëª¨ë‹ˆí„°ë§ì„ ë³„ë„ êµ¬ì„± í•„ìš” EKS â€” AWS Load Balancer Controllerë¡œ ALB/NLB ì—°ë™, EBS/EFS CSI ë“œë¼ì´ë²„ í†µí•©, IAM Roles for Service Accounts IRSAë¡œ í¼ë¯¸ì…˜ ì—°ê³„, Control Plane ë¡œê¹…ê³¼ ë©”íŠ¸ë¦­ì˜ CloudWatch í†µí•© ìš©ì´ ë„¤íŠ¸ì›Œí‚¹\nì¼ë°˜ k8s â€” CNI ì„ íƒÂ·ì„¤ì¹˜, ë„¤íŠ¸ì›Œí¬ ì •ì±… êµ¬í˜„, ì¸ê·¸ë ˆìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬ êµ¬ì„± í•„ìš” EKS â€” AWS VPC CNI ê¸°ë³¸ ì œê³µìœ¼ë¡œ VPC ë„¤ì´í‹°ë¸Œ IP ëª¨ë¸, Security Groups for Podsë¡œ L3/L4 ê²©ë¦¬ ê°€ëŠ¥, í‘œì¤€ Kubernetes NetworkPolicyëŠ” ë³„ë„ êµ¬í˜„ì²´ í•„ìš” Calico ë“±, ì¸ê·¸ë ˆìŠ¤ëŠ” AWS Load Balancer Controller ì‚¬ìš© ê¶Œì¥ ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ í´ëŸ¬ìŠ¤í„° ìƒì„±\nì¼ë°˜ k8s â€” ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ë…¸ë“œ ì¤€ë¹„, kubeadm init, etcd êµ¬ì„±, CNI ì„¤ì¹˜, ì¸ì¦ì„œì™€ RBAC ì„¤ì •, HAë©´ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ë³µìˆ˜ AZ ë°°ì¹˜ì™€ í”„ëŸ°íŠ¸ VIP êµ¬ì„± í•„ìš”\nEKS â€” ëª…ë ¹ ëª‡ ì¤„ë¡œ ì œì–´í”Œë ˆì¸ê³¼ ë§¤ë‹ˆì§€ë“œ ë…¸ë“œê·¸ë£¹ ìƒì„± ê°€ëŠ¥\neksctl create cluster \\ --name my-cluster \\ --region ap-northeast-2 \\ --nodes 2 ì—…ê·¸ë ˆì´ë“œ\nì¼ë°˜ k8s â€” ì‚¬ì „ etcd ìŠ¤ëƒ…ìƒ·, ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ì»´í¬ë„ŒíŠ¸ ìˆœì°¨ ì—…ê·¸ë ˆì´ë“œ, kubelet ë° CNI ì• ë“œì˜¨ í˜¸í™˜ì„± ê²€ì¦, ì›Œì»¤ ë…¸ë“œ ë¡¤ë§ ì—…ë°ì´íŠ¸ê°€ í•„ìš”\nEKS â€” ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ë²„ì „ì„ ë¨¼ì € ì˜¬ë¦¬ê³  ë…¸ë“œê·¸ë£¹ì„ ìˆœì°¨ ì—…ê·¸ë ˆì´ë“œ, ì½˜ì†”ì´ë‚˜ eksctlë¡œ ì§„í–‰ ê°€ëŠ¥\neksctl upgrade cluster \\ --name my-cluster \\ --version 1.24 ì£¼ì˜ì™€ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ê°€ìš©ì„± â€” ì¼ë°˜ k8sëŠ” etcd ì¿¼ëŸ¼ê³¼ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ë…¸ë“œ ë‹¤ì¤‘í™”ê°€ í•µì‹¬, EKSëŠ” ë‹¤ì¤‘ AZê°€ ê¸°ë³¸ì´ì§€ë§Œ ë¦¬ì „ ì¥ì•  ì‹œ DR ì „ëµ ë³„ë„ ê³ ë ¤ ê¶Œì¥ ì—…ê·¸ë ˆì´ë“œ â€” ë§ˆì´ë„ˆ ë²„ì „ ìŠ¤í ì •ì±…ê³¼ ì• ë“œì˜¨ í˜¸í™˜ì„± ì²´í¬, ì‚¬ì „ í…ŒìŠ¤íŠ¸ í´ëŸ¬ìŠ¤í„°ì—ì„œ ë¦¬í—ˆì„¤ ê¶Œì¥ ë³´ì•ˆ â€” EKSëŠ” IRSAë¡œ ìµœì†Œê¶Œí•œ ë¶€ì—¬, ì¼ë°˜ k8sëŠ” OIDC ì—°ê³„ì™€ RBAC ìµœì†Œí™” ì ìš©, API ì„œë²„ ì ‘ê·¼ ê²½ê³„ ëª…í™•í™” ë„¤íŠ¸ì›Œí¬ ì •ì±… â€” EKSì—ì„œ SG for Podsì™€ NetworkPolicyëŠ” ëª¨ë¸ì´ ë‹¤ë¦„, í•„ìš”í•œ ë ˆì´ì–´ì— ë§ê²Œ ë³‘í–‰ ì„¤ê³„ ê¶Œì¥ ê´€ì¸¡ì„± â€” ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ ë¡œê·¸ì™€ ê°ì‚¬ ë¡œê·¸ í™œì„±í™”, ë©”íŠ¸ë¦­ ê¸°ë°˜ìœ¼ë¡œ ì»¨íŠ¸ë¡¤ëŸ¬ ì§€ì—°ê³¼ ìŠ¤ì¼€ì¤„ë§ ì‹¤íŒ¨ ê°ì‹œ ë§ˆë¬´ë¦¬ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì€ ì„ ì–¸ëœ ìƒíƒœë¥¼ ê¸°ì¤€ìœ¼ë¡œ í´ëŸ¬ìŠ¤í„°ë¥¼ ì§€ì†ì ìœ¼ë¡œ ìˆ˜ë ´ì‹œí‚¤ëŠ” ì¡°ì •ì ì—­í• ì„ ìˆ˜í–‰í•¨ ì¼ë°˜ k8sëŠ” ë†’ì€ ì„¤ê³„ ììœ ë„ì™€ í†µì œê°€ ì¥ì ì´ë‚˜ ìš´ì˜ ë³µì¡ë„ê°€ í¼, EKSëŠ” ìš´ì˜ ë¶€ë‹´ì„ í¬ê²Œ ì¤„ì´ëŠ” ëŒ€ì‹  ì„œë¹„ìŠ¤ ì¢…ì†ì„±ê³¼ ê³¼ê¸ˆ êµ¬ì¡°ë¥¼ í•¨ê»˜ ê³ ë ¤í•´ì•¼ í•¨ ì›Œí¬ë¡œë“œ íŠ¹ì„±ê³¼ íŒ€ì˜ ìš´ì˜ ì„±ìˆ™ë„ì— ë§ì¶° ê´€ë¦¬í˜•ê³¼ ìê°€ ìš´ì˜í˜• ì¤‘ í•©ë¦¬ì  ì„ íƒ í•„ìš”\nì°¸ê³ ìë£Œ https://kubernetes.io/docs/concepts/overview/components/ https://kubernetes.io/docs/concepts/architecture/controller/ https://docs.aws.amazon.com/eks/latest/userguide/what-is-eks.html https://aws.amazon.com/eks/pricing/ https://docs.aws.amazon.com/eks/latest/userguide/pod-security-groups.html https://kubernetes-sigs.github.io/aws-load-balancer-controller/v2.6/ ","permalink":"https://blog.jsontapose.com/posts/kubernetes-control-plane-eks-2af164/","summary":"\u003cp\u003eì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì€ ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì˜ ë‘ë‡Œì´ì ì˜ì‚¬ê²°ì • ê³„ì¸µìœ¼ë¡œ, ì›Œì»¤ ë…¸ë“œê°€ ì‹¤ì œ ì›Œí¬ë¡œë“œë¥¼ ëŒë¦¬ëŠ” ë™ì•ˆ ì „ì²´ ìƒíƒœë¥¼ ì •ì˜í•˜ê³  ì¡°ìœ¨í•˜ëŠ” ì—­í• ì„ ë§¡ìŒ\nì¡°ì§ ë¹„ìœ ë¡œ ë³´ë©´ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì€ ë³¸ì‚¬ì™€ ê²½ì˜ì§„, ì›Œì»¤ ë…¸ë“œëŠ” ì§€ì ê³¼ í˜„ì¥ ì§ì›ì— í•´ë‹¹í•¨\u003c/p\u003e\n\u003ch3 id=\"ê°œë…ê³¼-ì •ì˜\"\u003eê°œë…ê³¼ ì •ì˜\u003c/h3\u003e\n\u003cp\u003eì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì€ Desired Stateë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ì €ì¥í•˜ê³ , Observed Stateì™€ ë¹„êµí•´ ì¼ì¹˜í•˜ë„ë¡ ëŠì„ì—†ì´ ì¡°ì •í•˜ëŠ” ê³„ì¸µ\nì‚¬ìš©ìëŠ” APIë¥¼ í†µí•´ ìƒíƒœë¥¼ ì„ ì–¸í•˜ê³ , ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ì€ ìŠ¤ì¼€ì¤„ë§ê³¼ ì»¨íŠ¸ë¡¤ ë£¨í”„ë¡œ ì´ë¥¼ ë§Œì¡±í•˜ë„ë¡ ì‹œìŠ¤í…œì„ ìˆ˜ë ´ì‹œí‚´\u003c/p\u003e\n\u003ch3 id=\"í•µì‹¬-êµ¬ì„±ìš”ì†Œ\"\u003eí•µì‹¬ êµ¬ì„±ìš”ì†Œ\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eAPI ì„œë²„ kube-apiserver â€” ëª¨ë“  ìš”ì²­ì˜ ì§„ì…ì , ì¸ì¦Â·ì¸ê°€Â·ì–´ë“œë¯¸ì…˜ ìˆ˜í–‰ í›„ ìƒíƒœ ë³€ê²½ì„ etcdì— ë°˜ì˜\u003c/p\u003e","title":"ì¿ ë²„ë„¤í‹°ìŠ¤ ì»¨íŠ¸ë¡¤ í”Œë ˆì¸ í•µì‹¬ ê°œë…ê³¼ EKS ë¹„êµ"},{"content":"ê°œìš” ê°€ë“œ Guardë¥¼ ì´ìš©í•´ NestJS ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í—˜í•œ ìš”ì²­ìœ¼ë¡œë¶€í„° ì°¨ë‹¨í•˜ëŠ” ë°©ë²• ì •ë¦¬ ì»¨íŠ¸ë¡¤ëŸ¬ì— ë„ë‹¬í•˜ê¸° ì „ ë‹¨ê³„ì—ì„œ ì¸ì¦ê³¼ ì ‘ê·¼ ì œì–´ ìˆ˜í–‰í•˜ëŠ” íŒ¨í„´ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ëª…\nê°€ë“œë€ NestJSì—ì„œ ê°€ë“œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ë³´ë‚´ê¸° ì „ì— í†µê³¼ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ” êµ¬ì„± ìš”ì†Œ ë¯¸ë“¤ì›¨ì–´ì™€ ìœ ì‚¬í•œ ì—­í• ì´ì§€ë§Œ ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬ ì‹¤í–‰ ì—¬ë¶€ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ê²°ì •í•˜ëŠ” ì±…ì„ì— ì´ˆì  ìš”ì²­ ìˆ˜ëª…ì£¼ê¸°ì—ì„œ ë¯¸ë“¤ì›¨ì–´ ë‹¤ìŒ, ì»¨íŠ¸ë¡¤ëŸ¬ ì´ì „ì— ì‹¤í–‰ë¨ canActivateê°€ true ë˜ëŠ” Promiseì„ ë°˜í™˜í•˜ë©´ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰, falseë©´ ê¸°ë³¸ì ìœ¼ë¡œ 403 Forbidden ì‘ë‹µ ë°œìƒ\ní”„ë¡œì íŠ¸ ì¤€ë¹„ Nest CLIë¡œ ìƒ˜í”Œ í”„ë¡œì íŠ¸ ìƒì„±\n$ nest new our-nestjs íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € ì„ íƒ í›„ ê¸°ë³¸ í…œí”Œë¦¿ ìƒì„±ë¨\nê°€ë“œë¡œ ìš”ì²­ ì „ë‹¬ CanActivate ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ìœ¼ë¡œ ê°€ë“œ ì •ì˜\nimport { Injectable, CanActivate } from \u0026#39;@nestjs/common\u0026#39; @Injectable() export class AuthGuard implements CanActivate { canActivate() { return true } } canActivateê°€ trueë¥¼ ë°˜í™˜í•˜ë¯€ë¡œ ìš”ì²­ì€ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì „ë‹¬ë¨\nì»¨íŠ¸ë¡¤ëŸ¬ì— ê°€ë“œ ì ìš© UseGuards ë°ì½”ë ˆì´í„°ë¡œ í´ë˜ìŠ¤ ë˜ëŠ” ë©”ì„œë“œ ë‹¨ìœ„ ì ìš© ê°€ëŠ¥\nimport { Controller, Get, UseGuards } from \u0026#39;@nestjs/common\u0026#39; @UseGuards(AuthGuard) @Controller() export class AppController { @Get() getHello() { return \u0026#39;Hello World!\u0026#39; } } curlë¡œ í™•ì¸\n$ curl http://localhost:3000 Hello World! ê°€ë“œë¡œ ìš”ì²­ ì°¨ë‹¨ ë°˜ëŒ€ë¡œ falseë¥¼ ë°˜í™˜í•˜ë©´ ìš”ì²­ì€ ì°¨ë‹¨ë˜ê³  403 Forbidden ì‘ë‹µ\n@Injectable() export class AuthGuard implements CanActivate { canActivate() { return false } } $ curl http://localhost:3000 {\u0026#34;message\u0026#34;:\u0026#34;Forbidden resource\u0026#34;,\u0026#34;error\u0026#34;:\u0026#34;Forbidden\u0026#34;,\u0026#34;statusCode\u0026#34;:403} ê°€ë“œë¡œ ì¸ì¦ êµ¬í˜„ ExecutionContextë¡œ HTTP ìš”ì²­ ê°ì²´ì— ì ‘ê·¼í•´ í—¤ë” ë“± ì…ë ¥ê°’ ê²€ì‚¬ ê°€ëŠ¥ Bearer í† í°ì„ ë‹¨ìˆœ ê²€ì¦í•˜ëŠ” ì˜ˆì‹œ\nimport { CanActivate, ExecutionContext, BadRequestException, Injectable } from \u0026#39;@nestjs/common\u0026#39; @Injectable() export class AuthGuard implements CanActivate { canActivate(context: ExecutionContext) { const req = context.switchToHttp().getRequest() const auth = req.headers[\u0026#39;authorization\u0026#39;] as string | undefined if (!auth) throw new BadRequestException() const [scheme, token] = auth.split(\u0026#39; \u0026#39;) return scheme?.toLowerCase() === \u0026#39;bearer\u0026#39; \u0026amp;\u0026amp; token === \u0026#39;1234\u0026#39; } } ì˜ë¯¸\nAuthorization í—¤ë”ê°€ ì—†ìœ¼ë©´ BadRequestException ë°œìƒí•´ 400 ì‘ë‹µ Bearer ìŠ¤í‚´ì´ë©° í† í°ì´ 1234ì¼ ë•Œë§Œ í†µê³¼ ì‹¤ì„œë¹„ìŠ¤ì—ì„œëŠ” ë‹¤ìŒ ì¤‘ í•˜ë‚˜ ì´ìƒ í•„ìš”\ní† í°ìœ¼ë¡œ ì‚¬ìš©ì ì¡°íšŒ ë˜ëŠ” ê¶Œí•œ ê²€ì¦ ì„œë“œíŒŒí‹° ì¸ì¦ ì„œë²„ ì—°ë™ ë˜ëŠ” ìºì‹œ ê²€ì¦ JWT ë””ì½”ë”© ë° ì„œëª… ê²€ì¦ ì¸ì¦ ê°€ë“œ í…ŒìŠ¤íŠ¸ ì˜ëª»ëœ í† í°ì´ë©´ 403\n$ curl -H \u0026#34;Authorization: Bearer 1111\u0026#34; http://localhost:3000 {\u0026#34;message\u0026#34;:\u0026#34;Forbidden resource\u0026#34;,\u0026#34;error\u0026#34;:\u0026#34;Forbidden\u0026#34;,\u0026#34;statusCode\u0026#34;:403} ì˜¬ë°”ë¥¸ í† í°ì´ë©´ ì„±ê³µ\n$ curl -H \u0026#34;Authorization: Bearer 1234\u0026#34; http://localhost:3000 Hello World! í—¤ë”ê°€ ì—†ìœ¼ë©´ 400\n$ curl http://localhost:3000 {\u0026#34;message\u0026#34;:\u0026#34;Bad Request\u0026#34;,\u0026#34;statusCode\u0026#34;:400} ì£¼ì˜ì™€ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ê°€ë“œëŠ” ì¸ì¦Â·ì¸ê°€ ê°™ì€ ì ‘ê·¼ ì œì–´ì— ì§‘ì¤‘, ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ì„œë¹„ìŠ¤ë¡œ ìœ„ì„ ê³µí†µ ê²€ì¦ì€ ê¸€ë¡œë²Œ ê°€ë“œë¡œ ë“±ë¡í•´ ì¤‘ë³µ ì œê±° ë°˜í™˜í˜•ì€ boolean ë˜ëŠ” Promise ì‚¬ìš©, ëª…ì‹œì  ì˜ˆì™¸ëŠ” Exception í´ë˜ìŠ¤ë¡œ ë˜ì§ ë¡œê¹…ì€ ì½˜ì†” ëŒ€ì‹  í”„ë ˆì„ì›Œí¬ ë¡œê±° ì‚¬ìš© ê¶Œì¥ ì„¸ë¶„í™”ëœ ì—­í•  ê²€ì¦ì€ ë©”íƒ€ë°ì´í„°ì™€ ì»¤ìŠ¤í…€ ë°ì½”ë ˆì´í„° ì¡°í•©ìœ¼ë¡œ ì—­í•  ê¸°ë°˜ ê°€ë“œ êµ¬ì„± ê¶Œì¥ ë§ˆë¬´ë¦¬ GuardëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ ì•ë‹¨ì—ì„œ ìš”ì²­ì„ ì„ ë³„í•˜ëŠ” í™•ì‹¤í•œ ì§„ì…ì  ì œê³µ ê°„ë‹¨í•œ êµ¬í˜„ë§Œìœ¼ë¡œë„ ì¸ì¦ê³¼ ì ‘ê·¼ ì œì–´ì˜ ê¸°ë³¸ì„ ì„ ì„¸ìš¸ ìˆ˜ ìˆìŒ ì‹¤ì„œë¹„ìŠ¤ì—ì„œëŠ” í† í° ê²€ì¦, ìºì‹œ, ì™¸ë¶€ ì¸ì¦ ì—°ë™ì„ ì¡°í•©í•´ ì„±ëŠ¥ê³¼ ë³´ì•ˆì˜ ê· í˜•ì„ ë§ì¶œ ê²ƒ\nì°¸ê³ ìë£Œ https://docs.nestjs.com/guards https://docs.nestjs.com/fundamentals/execution-context https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization https://curl.se/docs/manpage.html ","permalink":"https://blog.jsontapose.com/posts/nestjs-guard-canactivate-useguards-bearer-auth-427051/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eê°€ë“œ Guardë¥¼ ì´ìš©í•´ NestJS ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìœ„í—˜í•œ ìš”ì²­ìœ¼ë¡œë¶€í„° ì°¨ë‹¨í•˜ëŠ” ë°©ë²• ì •ë¦¬\nì»¨íŠ¸ë¡¤ëŸ¬ì— ë„ë‹¬í•˜ê¸° ì „ ë‹¨ê³„ì—ì„œ ì¸ì¦ê³¼ ì ‘ê·¼ ì œì–´ ìˆ˜í–‰í•˜ëŠ” íŒ¨í„´ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ëª…\u003c/p\u003e\n\u003ch3 id=\"ê°€ë“œë€\"\u003eê°€ë“œë€\u003c/h3\u003e\n\u003cp\u003eNestJSì—ì„œ ê°€ë“œëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì— ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ë³´ë‚´ê¸° ì „ì— í†µê³¼ ì—¬ë¶€ë¥¼ ê²°ì •í•˜ëŠ” êµ¬ì„± ìš”ì†Œ\në¯¸ë“¤ì›¨ì–´ì™€ ìœ ì‚¬í•œ ì—­í• ì´ì§€ë§Œ ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬ ì‹¤í–‰ ì—¬ë¶€ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ê²°ì •í•˜ëŠ” ì±…ì„ì— ì´ˆì \nìš”ì²­ ìˆ˜ëª…ì£¼ê¸°ì—ì„œ ë¯¸ë“¤ì›¨ì–´ ë‹¤ìŒ, ì»¨íŠ¸ë¡¤ëŸ¬ ì´ì „ì— ì‹¤í–‰ë¨\ncanActivateê°€ true ë˜ëŠ” Promise\u003c!-- raw HTML omitted --\u003eì„ ë°˜í™˜í•˜ë©´ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰, falseë©´ ê¸°ë³¸ì ìœ¼ë¡œ 403 Forbidden ì‘ë‹µ ë°œìƒ\u003c/p\u003e","title":"NestJS Guardë¡œ ìš”ì²­ ë³´í˜¸í•˜ê¸° â€” CanActivate, UseGuards, Bearer ì¸ì¦ ì˜ˆì‹œ"},{"content":"ê°œìš” ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì œì–´ í‰ë©´ê³¼ ì›Œì»¤ ë…¸ë“œ, ê·¸ë¦¬ê³  ê·¸ ì‚¬ì´ë¥¼ ë§¤ê°œí•˜ëŠ” ëŸ°íƒ€ì„ê³¼ ì»¤ë„ ë©”ì»¤ë‹ˆì¦˜ì´ ë§ë¬¼ë ¤ ë™ì‘í•˜ëŠ” ë¶„ì‚° ì‹œìŠ¤í…œ í•µì‹¬ì€ ë‹¨ì¼ ì§„ì‹¤ ì†ŒìŠ¤ì— ì›í•˜ëŠ” ìƒíƒœë¥¼ ê¸°ë¡í•˜ê³ , ì´ë¥¼ ì§€ì†ì ìœ¼ë¡œ ê°ì‹œí•˜ê³  ì¡°ì •í•´ ì‹¤ì œ ìƒíƒœë¥¼ ì¼ì¹˜ì‹œí‚¤ëŠ” ë£¨í”„ ê° ì»´í¬ë„ŒíŠ¸ì˜ ì—­í• ê³¼ ìƒí˜¸ì‘ìš©ì„ ì´í•´í•˜ë©´ ì¥ì•  ëŒ€ì‘, ìŠ¤ì¼€ì¼ë§, ì„±ëŠ¥ íŠœë‹ì˜ ê¸°ì¤€ì  í™•ë³´ ê°€ëŠ¥\nêµ¬ì„±ìš”ì†Œ ê´€ê³„ í•œëˆˆì— kubectl / CI â”‚ â–¼ kube-apiserver â”€â”€\u0026gt; etcd â”‚ â–² â”‚ â””(ìƒíƒœ ì˜ì†) â”‚ â”œâ”€ kube-scheduler(ì–´ë”” ë°°ì¹˜í• ì§€ ê²°ì •) â””â”€ kube-controller-manager(ì›í•˜ëŠ” ìƒíƒœë¡œ ë§ì¶¤: ReplicaSet ë“±) [ê° ì›Œì»¤ ë…¸ë“œ] kubelet â”€â”€(CRI gRPC)â”€â”€\u0026gt; container runtime â”€â”€(OCI)â”€â”€\u0026gt; runc/crun â”€â”€\u0026gt; cgroup ì„¤ì • + ì»¨í…Œì´ë„ˆ ì‹œì‘ â”‚ â”‚ â”œâ”€(CNI í˜¸ì¶œ) ë„¤íŠ¸ì›Œí¬/IP í• ë‹¹ â””â”€ ë„¤ì„ìŠ¤í˜ì´ìŠ¤/ë§ˆìš´íŠ¸ ë“± ê²©ë¦¬ â””â”€ kube-proxy(ì„œë¹„ìŠ¤ ë¼ìš°íŒ…: iptables/ipvs) ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì˜ ê¶Œìœ„ìì´ì ì…êµ¬ëŠ” apiserver etcdì™€ ì§ì ‘ í†µì‹ í•˜ëŠ” ì£¼ì²´ëŠ” apiserverë§Œ ì¡´ì¬ kubeletì€ apiserverë¥¼ watchí•˜ì—¬ ìì‹ ì—ê²Œ ë°°ì •ëœ íŒŒë“œ ê°ì§€ container runtimeì€ OCI ëŸ°íƒ€ì„ì„ í†µí•´ cgroupê³¼ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì„¸íŒ…í•˜ê³  ì»¨í…Œì´ë„ˆ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰ Pod ìƒì„±ì—ì„œ Runningê¹Œì§€ ì‚¬ìš©ìê°€ kubectl apply ë“±ìœ¼ë¡œ Desired Stateë¥¼ ì œì¶œí•˜ë©´ apiserverê°€ ì¸ì¦ê³¼ ìœ íš¨ì„±, ì–´ë“œë¯¸ì…˜ì„ ê±°ì³ etcdì— ì˜ì†í™” controller-managerê°€ ì˜¤ë¸Œì íŠ¸ë¥¼ ê´€ì°°í•˜ê³  í•„ìš”í•œ ë¶€ìˆ˜ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±, ì˜ˆ ReplicaSetê³¼ Pod ë“± schedulerê°€ Pending íŒŒë“œì— ëŒ€í•´ ë…¸ë“œ ë°°ì¹˜ë¥¼ ê²°ì •, ë¦¬ì†ŒìŠ¤ ìš”ì²­, ì–´í”¼ë‹ˆí‹°, í† í´ë¡œì§€, taintì™€ tolerance ë“±ì„ ê³ ë ¤í•´ Podì— NodeName ë°”ì¸ë”© ëŒ€ìƒ ë…¸ë“œì˜ kubeletì´ apiserver watchë¡œ ìì‹ ì—ê²Œ í• ë‹¹ëœ íŒŒë“œ íƒì§€ kubeletì´ ì´ë¯¸ì§€ í’€, ë³¼ë¥¨ ë§ˆìš´íŠ¸, ë„¤íŠ¸ì›Œí¬ ì¤€ë¹„ë¥¼ ìˆœì°¨ ìˆ˜í–‰, CNI í”ŒëŸ¬ê·¸ì¸ì„ í˜¸ì¶œí•´ ì¸í„°í˜ì´ìŠ¤ì™€ IP í• ë‹¹ kubeletì´ CRIë¥¼ í†µí•´ container runtimeì— íŒŒë“œì™€ ì»¨í…Œì´ë„ˆ ìƒì„± ìš”ì²­ ì „ë‹¬ runtimeì´ OCI ëŸ°íƒ€ì„ runc ë˜ëŠ” crunì„ í˜¸ì¶œí•˜ì—¬ cgroup ìƒì„±ê³¼ ë¦¬ëˆ…ìŠ¤ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ PID NET MNT UTS IPC ì„¤ì • í›„ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ì‹¤í–‰ kubeletì´ liveness readiness ìŠ¤íƒ€íŠ¸ì—… í”„ë¡œë¸Œë¡œ ìƒíƒœë¥¼ í™•ì¸í•˜ê³  apiserverë¡œ ì£¼ê¸° ë³´ê³  kube-proxyê°€ Serviceì™€ Endpoints ë³€ê²½ì„ ë°˜ì˜í•´ iptables í˜¹ì€ ipvs ê·œì¹™ ê°±ì‹ , ì„œë¹„ìŠ¤ íŠ¸ë˜í”½ ë¼ìš°íŒ… ê²½ë¡œ ì„±ë¦½ í´ëŸ¬ìŠ¤í„° DNSì™€ Service IPë¥¼ í†µí•´ íŒŒë“œë¡œ íŠ¸ë˜í”½ ì „ë‹¬ ì™„ë£Œ cgroupê³¼ ë¦¬ì†ŒìŠ¤ ì œí•œ ì—°ê²° PodSpecì˜ resources.requestsì™€ limitsê°€ kubeletì„ ê±°ì³ runtimeì— ì „ë‹¬ë˜ê³ , runtimeê³¼ OCIê°€ cgroup v1 ë˜ëŠ” v2ì— ì‹¤ì œ quotaì™€ limit ì„¤ì • CPUëŠ” sharesì™€ quotaë¥¼ í†µí•´ ìŠ¤ì¼€ì¤„ëŸ¬ ê°€ì¤‘ì¹˜ì™€ ì‹œê°„ ì¿¼í„° ë¶€ì—¬ ë©”ëª¨ë¦¬ëŠ” hard limitê³¼ OOM killer ì ìˆ˜ ì¡°ì •ìœ¼ë¡œ ì»¤ë„ ë ˆë²¨ ê°•ì œ ì¿ ë²„ë„¤í‹°ìŠ¤ ë¦¬ì†ŒìŠ¤ ì œí•œì˜ ì‹¤ì²´ëŠ” cgroup ì„¤ì •ì´ë¼ëŠ” ì ì´ í•µì‹¬ ì¥ì• Â·ìŠ¤ì¼€ì¼Â·ìì²´ ë³µêµ¬ íë¦„ ì»¨í…Œì´ë„ˆ í¬ë˜ì‹œ ë°œìƒ ì‹œ kubeletì´ ìƒíƒœë¥¼ ë³´ê³ í•˜ê³  ì»¨íŠ¸ë¡¤ëŸ¬ê°€ Desired ìˆ˜ë¥¼ ë³´ì¥í•˜ê¸° ìœ„í•´ ì¬ì‹œì‘ ë˜ëŠ” ì¬ìŠ¤ì¼€ì¤„ ìˆ˜í–‰ ë…¸ë“œê°€ NotReadyë¡œ ì „í™˜ë˜ë©´ ìŠ¤ì¼€ì¤„ëŸ¬ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ íŒŒë“œë¥¼ ë‹¤ë¥¸ ë…¸ë“œë¡œ ì´ë™ì‹œí‚¤ëŠ” ë³µêµ¬ ê²½ë¡œ ì„ íƒ HPA VPA í´ëŸ¬ìŠ¤í„° ì˜¤í† ìŠ¤ì¼€ì¼ëŸ¬ ë“±ìœ¼ë¡œ Desired Stateë¥¼ ì¡°ì •í•˜ë©´ ë™ì¼í•œ ì¡°ìœ¨ ë£¨í”„ë¡œ ë°˜ì˜ë˜ì–´ ìì›ê³¼ íŒŒë“œ ìˆ˜ê°€ í™•ì¥ ë˜ëŠ” ì¶•ì†Œ ìš©ì–´ í•µì‹¬ ì •ë¦¬ control plane apiserver ê¶Œìœ„ì™€ ì…êµ¬, scheduler ë°°ì¹˜, controller-manager ì¡°ìœ¨, etcd ë‹¨ì¼ ì§„ì‹¤ ì €ì¥ì†Œ worker node íŒŒë“œë¥¼ ì‹¤ì œë¡œ ì‹¤í–‰í•˜ëŠ” ë¨¸ì‹  í’€ kubelet ê° ë…¸ë“œì˜ í˜„ì¥ ì—ì´ì „íŠ¸, íŒŒë“œ ë¼ì´í”„ì‚¬ì´í´ ê´€ë¦¬ì™€ apiserver ë™ê¸°í™” ë‹´ë‹¹ container runtime kubelet ì§€ì‹œë¡œ ì»¨í…Œì´ë„ˆ ìƒì„±ê³¼ ì‚­ì œë¥¼ ìˆ˜í–‰í•˜ëŠ” ì‹¤í–‰ê¸°, CRI ì¸í„°í˜ì´ìŠ¤ ì¤€ìˆ˜ cgroup ì»¨í…Œì´ë„ˆ ìì› ê²©ë¦¬ì™€ ì œí•œì˜ ì»¤ë„ ë©”ì»¤ë‹ˆì¦˜, OCI ëŸ°íƒ€ì„ì´ ì„¤ì • ë§ˆë¬´ë¦¬ apiserverëŠ” ì§„ì‹¤ì˜ ê´€ë¬¸, etcdëŠ” ì§„ì‹¤ì˜ ì €ì¥ì†Œ, ìŠ¤ì¼€ì¤„ëŸ¬ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ê³„íšê³¼ ì¡°ìœ¨, kubeletì€ í˜„ì¥ ì‹¤í–‰, runtimeê³¼ OCIëŠ” ì»¨í…Œì´ë„ˆ ìƒì„±, cgroupì€ ìì› ê²©ë¦¬ ë‹´ë‹¹\nì°¸ê³ ìë£Œ https://kubernetes.io/docs/concepts/overview/components/ https://kubernetes.io/docs/concepts/architecture/ https://kubernetes.io/docs/concepts/architecture/cri/ https://kubernetes.io/docs/concepts/workloads/pods/ https://kubernetes.io/docs/tasks/administer-cluster/reserve-compute-resources/ https://www.kernel.org/doc/html/latest/admin-guide/cgroup-v2.html https://kubernetes.io/docs/concepts/services-networking/ ","permalink":"https://blog.jsontapose.com/posts/kubernetes-core-components-and-flow-915d3a/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ì œì–´ í‰ë©´ê³¼ ì›Œì»¤ ë…¸ë“œ, ê·¸ë¦¬ê³  ê·¸ ì‚¬ì´ë¥¼ ë§¤ê°œí•˜ëŠ” ëŸ°íƒ€ì„ê³¼ ì»¤ë„ ë©”ì»¤ë‹ˆì¦˜ì´ ë§ë¬¼ë ¤ ë™ì‘í•˜ëŠ” ë¶„ì‚° ì‹œìŠ¤í…œ\ní•µì‹¬ì€ ë‹¨ì¼ ì§„ì‹¤ ì†ŒìŠ¤ì— ì›í•˜ëŠ” ìƒíƒœë¥¼ ê¸°ë¡í•˜ê³ , ì´ë¥¼ ì§€ì†ì ìœ¼ë¡œ ê°ì‹œí•˜ê³  ì¡°ì •í•´ ì‹¤ì œ ìƒíƒœë¥¼ ì¼ì¹˜ì‹œí‚¤ëŠ” ë£¨í”„\nê° ì»´í¬ë„ŒíŠ¸ì˜ ì—­í• ê³¼ ìƒí˜¸ì‘ìš©ì„ ì´í•´í•˜ë©´ ì¥ì•  ëŒ€ì‘, ìŠ¤ì¼€ì¼ë§, ì„±ëŠ¥ íŠœë‹ì˜ ê¸°ì¤€ì  í™•ë³´ ê°€ëŠ¥\u003c/p\u003e\n\u003ch3 id=\"êµ¬ì„±ìš”ì†Œ-ê´€ê³„-í•œëˆˆì—\"\u003eêµ¬ì„±ìš”ì†Œ ê´€ê³„ í•œëˆˆì—\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-plain\" data-lang=\"plain\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekubectl / CI\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    â”‚\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    â–¼\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekube-apiserver â”€â”€\u0026gt; etcd\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    â”‚  â–²\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    â”‚  â””(ìƒíƒœ ì˜ì†)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    â”‚\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    â”œâ”€ kube-scheduler(ì–´ë”” ë°°ì¹˜í• ì§€ ê²°ì •)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    â””â”€ kube-controller-manager(ì›í•˜ëŠ” ìƒíƒœë¡œ ë§ì¶¤: ReplicaSet ë“±)\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e[ê° ì›Œì»¤ ë…¸ë“œ]\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003ekubelet â”€â”€(CRI gRPC)â”€â”€\u0026gt; container runtime â”€â”€(OCI)â”€â”€\u0026gt; runc/crun â”€â”€\u0026gt; cgroup ì„¤ì • + ì»¨í…Œì´ë„ˆ ì‹œì‘\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    â”‚                                        â”‚\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    â”œâ”€(CNI í˜¸ì¶œ) ë„¤íŠ¸ì›Œí¬/IP í• ë‹¹            â””â”€ ë„¤ì„ìŠ¤í˜ì´ìŠ¤/ë§ˆìš´íŠ¸ ë“± ê²©ë¦¬\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003e    â””â”€ kube-proxy(ì„œë¹„ìŠ¤ ë¼ìš°íŒ…: iptables/ipvs)\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\n\u003cli\u003eëª¨ë“  ì»´í¬ë„ŒíŠ¸ì˜ ê¶Œìœ„ìì´ì ì…êµ¬ëŠ” apiserver\u003c/li\u003e\n\u003cli\u003eetcdì™€ ì§ì ‘ í†µì‹ í•˜ëŠ” ì£¼ì²´ëŠ” apiserverë§Œ ì¡´ì¬\u003c/li\u003e\n\u003cli\u003ekubeletì€ apiserverë¥¼ watchí•˜ì—¬ ìì‹ ì—ê²Œ ë°°ì •ëœ íŒŒë“œ ê°ì§€\u003c/li\u003e\n\u003cli\u003econtainer runtimeì€ OCI ëŸ°íƒ€ì„ì„ í†µí•´ cgroupê³¼ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì„¸íŒ…í•˜ê³  ì»¨í…Œì´ë„ˆ í”„ë¡œì„¸ìŠ¤ ì‹¤í–‰\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"pod-ìƒì„±ì—ì„œ-runningê¹Œì§€\"\u003ePod ìƒì„±ì—ì„œ Runningê¹Œì§€\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003eì‚¬ìš©ìê°€ kubectl apply ë“±ìœ¼ë¡œ Desired Stateë¥¼ ì œì¶œí•˜ë©´ apiserverê°€ ì¸ì¦ê³¼ ìœ íš¨ì„±, ì–´ë“œë¯¸ì…˜ì„ ê±°ì³ etcdì— ì˜ì†í™”\u003c/li\u003e\n\u003cli\u003econtroller-managerê°€ ì˜¤ë¸Œì íŠ¸ë¥¼ ê´€ì°°í•˜ê³  í•„ìš”í•œ ë¶€ìˆ˜ ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±, ì˜ˆ ReplicaSetê³¼ Pod ë“±\u003c/li\u003e\n\u003cli\u003eschedulerê°€ Pending íŒŒë“œì— ëŒ€í•´ ë…¸ë“œ ë°°ì¹˜ë¥¼ ê²°ì •, ë¦¬ì†ŒìŠ¤ ìš”ì²­, ì–´í”¼ë‹ˆí‹°, í† í´ë¡œì§€, taintì™€ tolerance ë“±ì„ ê³ ë ¤í•´ Podì— NodeName ë°”ì¸ë”©\u003c/li\u003e\n\u003cli\u003eëŒ€ìƒ ë…¸ë“œì˜ kubeletì´ apiserver watchë¡œ ìì‹ ì—ê²Œ í• ë‹¹ëœ íŒŒë“œ íƒì§€\u003c/li\u003e\n\u003cli\u003ekubeletì´ ì´ë¯¸ì§€ í’€, ë³¼ë¥¨ ë§ˆìš´íŠ¸, ë„¤íŠ¸ì›Œí¬ ì¤€ë¹„ë¥¼ ìˆœì°¨ ìˆ˜í–‰, CNI í”ŒëŸ¬ê·¸ì¸ì„ í˜¸ì¶œí•´ ì¸í„°í˜ì´ìŠ¤ì™€ IP í• ë‹¹\u003c/li\u003e\n\u003cli\u003ekubeletì´ CRIë¥¼ í†µí•´ container runtimeì— íŒŒë“œì™€ ì»¨í…Œì´ë„ˆ ìƒì„± ìš”ì²­ ì „ë‹¬\u003c/li\u003e\n\u003cli\u003eruntimeì´ OCI ëŸ°íƒ€ì„ runc ë˜ëŠ” crunì„ í˜¸ì¶œí•˜ì—¬ cgroup ìƒì„±ê³¼ ë¦¬ëˆ…ìŠ¤ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ PID NET MNT UTS IPC ì„¤ì • í›„ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ì‹¤í–‰\u003c/li\u003e\n\u003cli\u003ekubeletì´ liveness readiness ìŠ¤íƒ€íŠ¸ì—… í”„ë¡œë¸Œë¡œ ìƒíƒœë¥¼ í™•ì¸í•˜ê³  apiserverë¡œ ì£¼ê¸° ë³´ê³ \u003c/li\u003e\n\u003cli\u003ekube-proxyê°€ Serviceì™€ Endpoints ë³€ê²½ì„ ë°˜ì˜í•´ iptables í˜¹ì€ ipvs ê·œì¹™ ê°±ì‹ , ì„œë¹„ìŠ¤ íŠ¸ë˜í”½ ë¼ìš°íŒ… ê²½ë¡œ ì„±ë¦½\u003c/li\u003e\n\u003cli\u003eí´ëŸ¬ìŠ¤í„° DNSì™€ Service IPë¥¼ í†µí•´ íŒŒë“œë¡œ íŠ¸ë˜í”½ ì „ë‹¬ ì™„ë£Œ\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"cgroupê³¼-ë¦¬ì†ŒìŠ¤-ì œí•œ-ì—°ê²°\"\u003ecgroupê³¼ ë¦¬ì†ŒìŠ¤ ì œí•œ ì—°ê²°\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003ePodSpecì˜ resources.requestsì™€ limitsê°€ kubeletì„ ê±°ì³ runtimeì— ì „ë‹¬ë˜ê³ , runtimeê³¼ OCIê°€ cgroup v1 ë˜ëŠ” v2ì— ì‹¤ì œ quotaì™€ limit ì„¤ì •\u003c/li\u003e\n\u003cli\u003eCPUëŠ” sharesì™€ quotaë¥¼ í†µí•´ ìŠ¤ì¼€ì¤„ëŸ¬ ê°€ì¤‘ì¹˜ì™€ ì‹œê°„ ì¿¼í„° ë¶€ì—¬\u003c/li\u003e\n\u003cli\u003eë©”ëª¨ë¦¬ëŠ” hard limitê³¼ OOM killer ì ìˆ˜ ì¡°ì •ìœ¼ë¡œ ì»¤ë„ ë ˆë²¨ ê°•ì œ\u003c/li\u003e\n\u003cli\u003eì¿ ë²„ë„¤í‹°ìŠ¤ ë¦¬ì†ŒìŠ¤ ì œí•œì˜ ì‹¤ì²´ëŠ” cgroup ì„¤ì •ì´ë¼ëŠ” ì ì´ í•µì‹¬\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ì¥ì• ìŠ¤ì¼€ì¼ìì²´-ë³µêµ¬-íë¦„\"\u003eì¥ì• Â·ìŠ¤ì¼€ì¼Â·ìì²´ ë³µêµ¬ íë¦„\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eì»¨í…Œì´ë„ˆ í¬ë˜ì‹œ ë°œìƒ ì‹œ kubeletì´ ìƒíƒœë¥¼ ë³´ê³ í•˜ê³  ì»¨íŠ¸ë¡¤ëŸ¬ê°€ Desired ìˆ˜ë¥¼ ë³´ì¥í•˜ê¸° ìœ„í•´ ì¬ì‹œì‘ ë˜ëŠ” ì¬ìŠ¤ì¼€ì¤„ ìˆ˜í–‰\u003c/li\u003e\n\u003cli\u003eë…¸ë“œê°€ NotReadyë¡œ ì „í™˜ë˜ë©´ ìŠ¤ì¼€ì¤„ëŸ¬ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ íŒŒë“œë¥¼ ë‹¤ë¥¸ ë…¸ë“œë¡œ ì´ë™ì‹œí‚¤ëŠ” ë³µêµ¬ ê²½ë¡œ ì„ íƒ\u003c/li\u003e\n\u003cli\u003eHPA VPA í´ëŸ¬ìŠ¤í„° ì˜¤í† ìŠ¤ì¼€ì¼ëŸ¬ ë“±ìœ¼ë¡œ Desired Stateë¥¼ ì¡°ì •í•˜ë©´ ë™ì¼í•œ ì¡°ìœ¨ ë£¨í”„ë¡œ ë°˜ì˜ë˜ì–´ ìì›ê³¼ íŒŒë“œ ìˆ˜ê°€ í™•ì¥ ë˜ëŠ” ì¶•ì†Œ\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ìš©ì–´-í•µì‹¬-ì •ë¦¬\"\u003eìš©ì–´ í•µì‹¬ ì •ë¦¬\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003econtrol plane  apiserver ê¶Œìœ„ì™€ ì…êµ¬, scheduler ë°°ì¹˜, controller-manager ì¡°ìœ¨, etcd ë‹¨ì¼ ì§„ì‹¤ ì €ì¥ì†Œ\u003c/li\u003e\n\u003cli\u003eworker node  íŒŒë“œë¥¼ ì‹¤ì œë¡œ ì‹¤í–‰í•˜ëŠ” ë¨¸ì‹  í’€\u003c/li\u003e\n\u003cli\u003ekubelet  ê° ë…¸ë“œì˜ í˜„ì¥ ì—ì´ì „íŠ¸, íŒŒë“œ ë¼ì´í”„ì‚¬ì´í´ ê´€ë¦¬ì™€ apiserver ë™ê¸°í™” ë‹´ë‹¹\u003c/li\u003e\n\u003cli\u003econtainer runtime  kubelet ì§€ì‹œë¡œ ì»¨í…Œì´ë„ˆ ìƒì„±ê³¼ ì‚­ì œë¥¼ ìˆ˜í–‰í•˜ëŠ” ì‹¤í–‰ê¸°, CRI ì¸í„°í˜ì´ìŠ¤ ì¤€ìˆ˜\u003c/li\u003e\n\u003cli\u003ecgroup  ì»¨í…Œì´ë„ˆ ìì› ê²©ë¦¬ì™€ ì œí•œì˜ ì»¤ë„ ë©”ì»¤ë‹ˆì¦˜, OCI ëŸ°íƒ€ì„ì´ ì„¤ì •\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ë§ˆë¬´ë¦¬\"\u003eë§ˆë¬´ë¦¬\u003c/h3\u003e\n\u003cp\u003eapiserverëŠ” ì§„ì‹¤ì˜ ê´€ë¬¸, etcdëŠ” ì§„ì‹¤ì˜ ì €ì¥ì†Œ, ìŠ¤ì¼€ì¤„ëŸ¬ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ê³„íšê³¼ ì¡°ìœ¨, kubeletì€ í˜„ì¥ ì‹¤í–‰, runtimeê³¼ OCIëŠ” ì»¨í…Œì´ë„ˆ ìƒì„±, cgroupì€ ìì› ê²©ë¦¬ ë‹´ë‹¹\u003c/p\u003e","title":"Kubernetes í•µì‹¬ êµ¬ì„±ìš”ì†Œì™€ ë™ì‘ íë¦„"},{"content":"ê°œìš” EXPLAINì€ SELECTê°€ ì–´ë–¤ ê²½ë¡œë¡œ ë°ì´í„°ë¥¼ ì½ëŠ”ì§€ ë“œëŸ¬ë‚´ëŠ” ë„êµ¬ ë³‘ëª© íŒŒì•…ê³¼ ì¸ë±ìŠ¤ ì „ëµ ì ê²€ì— ì‚¬ìš©\ní•µì‹¬ ê°œë… select_type SIMPLE ë‹¨ìˆœ SELECT, ì„œë¸Œì¿¼ë¦¬ë‚˜ UNION ì—†ìŒ PRIMARY ê°€ì¥ ë°”ê¹¥ìª½ SELECT SUBQUERY ì„œë¸Œì¿¼ë¦¬ DERIVED FROM ì ˆì˜ ì„œë¸Œì¿¼ë¦¬ UNION UNIONì˜ ë‘ ë²ˆì§¸ ì´í›„ SELECT type ì‹¤í–‰ í’ˆì§ˆ ì§€í‘œ, ìœ„ì—ì„œ ì•„ë˜ë¡œ ìœ ë¦¬ system í…Œì´ë¸”ì— ë‹¨ í•˜ë‚˜ì˜ í–‰ const PRIMARY KEY ë˜ëŠ” UNIQUE ì¸ë±ìŠ¤ ë‹¨ê±´ ì¡°íšŒ eq_ref ì¡°ì¸ì—ì„œ PRIMARY KEY ë˜ëŠ” UNIQUEë¡œ ì •í™•íˆ 1í–‰ ë§¤ì¹­ ref ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œ ë™ë“± ì¡°ê±´ ê²€ìƒ‰ range ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œ ë²”ìœ„ ê²€ìƒ‰ index ì¸ë±ìŠ¤ ì „ì²´ ìŠ¤ìº” ALL í…Œì´ë¸” ì „ì²´ ìŠ¤ìº”, ìµœì•… possible_keys ì‚¬ìš© ê°€ëŠ¥í•œ ì¸ë±ìŠ¤ ëª©ë¡, NULLì´ë©´ í›„ë³´ ì—†ìŒ key ì‹¤ì œ ì‚¬ìš©ëœ ì¸ë±ìŠ¤, NULLì´ë©´ ì¸ë±ìŠ¤ ë¯¸ì‚¬ìš© rows ì˜µí‹°ë§ˆì´ì €ê°€ ì½ì„ ê²ƒìœ¼ë¡œ ì¶”ì •í•œ í–‰ ìˆ˜, ë‚®ì„ìˆ˜ë¡ ìœ ë¦¬ filtered ì¡°ê±´ í›„ ë‚¨ëŠ” í–‰ ë¹„ìœ¨ ì¶”ì •ì¹˜, ë†’ì„ìˆ˜ë¡ ìœ ë¦¬ Extra ì¶”ê°€ ë‹¨ì„œ Using index ì»¤ë²„ë§ ì¸ë±ìŠ¤ ì‚¬ìš©, ìœ ë¦¬ Using where WHERE ì¡°ê±´ìœ¼ë¡œ í•„í„°ë§ ìˆ˜í–‰ Using filesort ì¶”ê°€ ì •ë ¬ í•„ìš”, ë¹„ìš© í¼ Using temporary ì„ì‹œ í…Œì´ë¸” ì‚¬ìš©, ë¹„ìš© í¼ í•´ì„ ê¸°ì¤€ typeì´ const, ref, range ë²”ì£¼ì— ìœ„ì¹˜ keyê°€ NULLì´ ì•„ë‹ˆê³  ì ì ˆí•œ ì¸ë±ìŠ¤ ì„ íƒ rows ì¶”ì •ì¹˜ê°€ ì‘ê³  filtered ë¹„ìœ¨ì´ ë†’ìŒ Extraì— Using filesort, Using temporary ë¶€ì¬ ì˜ˆì‹œì™€ í•´ì„ type: ALL possible_keys: NULL rows: 3527425 Extra: Using where; Using filesort í…Œì´ë¸” ì „ì²´ ìŠ¤ìº”ìœ¼ë¡œ ë§ì€ í–‰ì„ ì½ê²Œ ë¨ ì¸ë±ìŠ¤ í›„ë³´ì™€ ì‹¤ì œ ì‚¬ìš© ì¸ë±ìŠ¤ê°€ ì—†ìŒ WHEREë¡œ í•„í„°ë§í•˜ê³  ì¶”ê°€ ì •ë ¬ê¹Œì§€ ìˆ˜í–‰í•˜ì—¬ ë¹„ìš© ìƒìŠ¹ í˜„ì¬ ê³„íšì€ ì¸ë±ìŠ¤ ì„¤ê³„ì™€ ì¡°ê±´ì‹ ì¬ê²€í†  í•„ìš” ì£¼ì˜ì™€ íŒ rowsì™€ filteredëŠ” í†µê³„ ê¸°ë°˜ ì¶”ì •ì¹˜ë¼ ì‹¤ì œì™€ ì˜¤ì°¨ ê°€ëŠ¥ filteredëŠ” ëŒ€ëµ rows Ã— filtered%ë¡œ ë‚¨ëŠ” í–‰ ê·œëª¨ ê°€ëŠ ì— ì‚¬ìš© Using filesortê°€ í•­ìƒ ë‚˜ìœ ê²ƒì€ ì•„ë‹˜, ê²°ê³¼ ì§‘í•©ì´ ë§¤ìš° ì‘ìœ¼ë©´ ì˜í–¥ ë¯¸ë¯¸í•  ìˆ˜ ìˆìŒ ì¸ë±ìŠ¤ ìƒì„± ì‹œ ì¡°ê±´ ì»¬ëŸ¼ì˜ ì„ íƒë„ì™€ ì •ë ¬Â·ì¡°ì¸ í‚¤ ìš°ì„  ê³ ë ¤ ì»¤ë²„ë§ ì¸ë±ìŠ¤ êµ¬ì„± ì‹œ Extraì˜ Using indexë¡œ í™•ì¸ ê°€ëŠ¥ ë§ˆë¬´ë¦¬ EXPLAINì€ ì¦ìƒ ê´€ì°° ë„êµ¬, ì›ì¸ì€ ìŠ¤í‚¤ë§ˆ ì„¤ê³„ì™€ ì¡°ê±´ì‹, ì¸ë±ìŠ¤ ì „ëµì—ì„œ ì°¾ê¸° ìœ„ ì§€í‘œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìŠ¤ìº” ë²”ìœ„ë¥¼ ì¤„ì´ê³  ë¶ˆí•„ìš”í•œ ì •ë ¬ê³¼ ì„ì‹œ í…Œì´ë¸”ì„ ì œê±°í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ê°œì„  ì‹œë„ ê¶Œì¥\nì°¸ê³ ìë£Œ https://dev.mysql.com/doc/refman/8.0/en/explain.html https://dev.mysql.com/doc/refman/8.0/en/explain-output.html ","permalink":"https://blog.jsontapose.com/posts/mysql-explain-execution-plan-guide-b7fb65/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eEXPLAINì€ SELECTê°€ ì–´ë–¤ ê²½ë¡œë¡œ ë°ì´í„°ë¥¼ ì½ëŠ”ì§€ ë“œëŸ¬ë‚´ëŠ” ë„êµ¬\në³‘ëª© íŒŒì•…ê³¼ ì¸ë±ìŠ¤ ì „ëµ ì ê²€ì— ì‚¬ìš©\u003c/p\u003e\n\u003ch3 id=\"í•µì‹¬-ê°œë…\"\u003eí•µì‹¬ ê°œë…\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eselect_type\n\u003cul\u003e\n\u003cli\u003eSIMPLE ë‹¨ìˆœ SELECT, ì„œë¸Œì¿¼ë¦¬ë‚˜ UNION ì—†ìŒ\u003c/li\u003e\n\u003cli\u003ePRIMARY ê°€ì¥ ë°”ê¹¥ìª½ SELECT\u003c/li\u003e\n\u003cli\u003eSUBQUERY ì„œë¸Œì¿¼ë¦¬\u003c/li\u003e\n\u003cli\u003eDERIVED FROM ì ˆì˜ ì„œë¸Œì¿¼ë¦¬\u003c/li\u003e\n\u003cli\u003eUNION UNIONì˜ ë‘ ë²ˆì§¸ ì´í›„ SELECT\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003etype ì‹¤í–‰ í’ˆì§ˆ ì§€í‘œ, ìœ„ì—ì„œ ì•„ë˜ë¡œ ìœ ë¦¬\n\u003cul\u003e\n\u003cli\u003esystem í…Œì´ë¸”ì— ë‹¨ í•˜ë‚˜ì˜ í–‰\u003c/li\u003e\n\u003cli\u003econst PRIMARY KEY ë˜ëŠ” UNIQUE ì¸ë±ìŠ¤ ë‹¨ê±´ ì¡°íšŒ\u003c/li\u003e\n\u003cli\u003eeq_ref ì¡°ì¸ì—ì„œ PRIMARY KEY ë˜ëŠ” UNIQUEë¡œ ì •í™•íˆ 1í–‰ ë§¤ì¹­\u003c/li\u003e\n\u003cli\u003eref ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œ ë™ë“± ì¡°ê±´ ê²€ìƒ‰\u003c/li\u003e\n\u003cli\u003erange ì¸ë±ìŠ¤ë¥¼ ì‚¬ìš©í•œ ë²”ìœ„ ê²€ìƒ‰\u003c/li\u003e\n\u003cli\u003eindex ì¸ë±ìŠ¤ ì „ì²´ ìŠ¤ìº”\u003c/li\u003e\n\u003cli\u003eALL í…Œì´ë¸” ì „ì²´ ìŠ¤ìº”, ìµœì•…\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003epossible_keys ì‚¬ìš© ê°€ëŠ¥í•œ ì¸ë±ìŠ¤ ëª©ë¡, NULLì´ë©´ í›„ë³´ ì—†ìŒ\u003c/li\u003e\n\u003cli\u003ekey ì‹¤ì œ ì‚¬ìš©ëœ ì¸ë±ìŠ¤, NULLì´ë©´ ì¸ë±ìŠ¤ ë¯¸ì‚¬ìš©\u003c/li\u003e\n\u003cli\u003erows ì˜µí‹°ë§ˆì´ì €ê°€ ì½ì„ ê²ƒìœ¼ë¡œ ì¶”ì •í•œ í–‰ ìˆ˜, ë‚®ì„ìˆ˜ë¡ ìœ ë¦¬\u003c/li\u003e\n\u003cli\u003efiltered ì¡°ê±´ í›„ ë‚¨ëŠ” í–‰ ë¹„ìœ¨ ì¶”ì •ì¹˜, ë†’ì„ìˆ˜ë¡ ìœ ë¦¬\u003c/li\u003e\n\u003cli\u003eExtra ì¶”ê°€ ë‹¨ì„œ\n\u003cul\u003e\n\u003cli\u003eUsing index ì»¤ë²„ë§ ì¸ë±ìŠ¤ ì‚¬ìš©, ìœ ë¦¬\u003c/li\u003e\n\u003cli\u003eUsing where WHERE ì¡°ê±´ìœ¼ë¡œ í•„í„°ë§ ìˆ˜í–‰\u003c/li\u003e\n\u003cli\u003eUsing filesort ì¶”ê°€ ì •ë ¬ í•„ìš”, ë¹„ìš© í¼\u003c/li\u003e\n\u003cli\u003eUsing temporary ì„ì‹œ í…Œì´ë¸” ì‚¬ìš©, ë¹„ìš© í¼\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"í•´ì„-ê¸°ì¤€\"\u003eí•´ì„ ê¸°ì¤€\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003etypeì´ const, ref, range ë²”ì£¼ì— ìœ„ì¹˜\u003c/li\u003e\n\u003cli\u003ekeyê°€ NULLì´ ì•„ë‹ˆê³  ì ì ˆí•œ ì¸ë±ìŠ¤ ì„ íƒ\u003c/li\u003e\n\u003cli\u003erows ì¶”ì •ì¹˜ê°€ ì‘ê³  filtered ë¹„ìœ¨ì´ ë†’ìŒ\u003c/li\u003e\n\u003cli\u003eExtraì— Using filesort, Using temporary ë¶€ì¬\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ì˜ˆì‹œì™€-í•´ì„\"\u003eì˜ˆì‹œì™€ í•´ì„\u003c/h3\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" style=\"color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;\"\u003e\u003ccode class=\"language-text\" data-lang=\"text\"\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003etype: ALL\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003epossible_keys: NULL\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003erows: 3527425\n\u003c/span\u003e\u003c/span\u003e\u003cspan style=\"display:flex;\"\u003e\u003cspan\u003eExtra: Using where; Using filesort\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cul\u003e\n\u003cli\u003eí…Œì´ë¸” ì „ì²´ ìŠ¤ìº”ìœ¼ë¡œ ë§ì€ í–‰ì„ ì½ê²Œ ë¨\u003c/li\u003e\n\u003cli\u003eì¸ë±ìŠ¤ í›„ë³´ì™€ ì‹¤ì œ ì‚¬ìš© ì¸ë±ìŠ¤ê°€ ì—†ìŒ\u003c/li\u003e\n\u003cli\u003eWHEREë¡œ í•„í„°ë§í•˜ê³  ì¶”ê°€ ì •ë ¬ê¹Œì§€ ìˆ˜í–‰í•˜ì—¬ ë¹„ìš© ìƒìŠ¹\u003c/li\u003e\n\u003cli\u003eí˜„ì¬ ê³„íšì€ ì¸ë±ìŠ¤ ì„¤ê³„ì™€ ì¡°ê±´ì‹ ì¬ê²€í†  í•„ìš”\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ì£¼ì˜ì™€-íŒ\"\u003eì£¼ì˜ì™€ íŒ\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003erowsì™€ filteredëŠ” í†µê³„ ê¸°ë°˜ ì¶”ì •ì¹˜ë¼ ì‹¤ì œì™€ ì˜¤ì°¨ ê°€ëŠ¥\u003c/li\u003e\n\u003cli\u003efilteredëŠ” ëŒ€ëµ rows Ã— filtered%ë¡œ ë‚¨ëŠ” í–‰ ê·œëª¨ ê°€ëŠ ì— ì‚¬ìš©\u003c/li\u003e\n\u003cli\u003eUsing filesortê°€ í•­ìƒ ë‚˜ìœ ê²ƒì€ ì•„ë‹˜, ê²°ê³¼ ì§‘í•©ì´ ë§¤ìš° ì‘ìœ¼ë©´ ì˜í–¥ ë¯¸ë¯¸í•  ìˆ˜ ìˆìŒ\u003c/li\u003e\n\u003cli\u003eì¸ë±ìŠ¤ ìƒì„± ì‹œ ì¡°ê±´ ì»¬ëŸ¼ì˜ ì„ íƒë„ì™€ ì •ë ¬Â·ì¡°ì¸ í‚¤ ìš°ì„  ê³ ë ¤\u003c/li\u003e\n\u003cli\u003eì»¤ë²„ë§ ì¸ë±ìŠ¤ êµ¬ì„± ì‹œ Extraì˜ Using indexë¡œ í™•ì¸ ê°€ëŠ¥\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ë§ˆë¬´ë¦¬\"\u003eë§ˆë¬´ë¦¬\u003c/h3\u003e\n\u003cp\u003eEXPLAINì€ ì¦ìƒ ê´€ì°° ë„êµ¬, ì›ì¸ì€ ìŠ¤í‚¤ë§ˆ ì„¤ê³„ì™€ ì¡°ê±´ì‹, ì¸ë±ìŠ¤ ì „ëµì—ì„œ ì°¾ê¸°\nìœ„ ì§€í‘œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìŠ¤ìº” ë²”ìœ„ë¥¼ ì¤„ì´ê³  ë¶ˆí•„ìš”í•œ ì •ë ¬ê³¼ ì„ì‹œ í…Œì´ë¸”ì„ ì œê±°í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ ê°œì„  ì‹œë„ ê¶Œì¥\u003c/p\u003e","title":"MySQL EXPLAIN ì‹¤í–‰ ê³„íš í•´ì„ ê°€ì´ë“œ"},{"content":"ë¸”ë¡ì²´ì¸ ì¸ë±ì„œ ê°€ì´ë“œ ì¸ë±ì„œëŠ” ì›ì¥ ë°ì´í„°ë¥¼ ì œí’ˆ ìš”êµ¬ì— ë§ê²Œ ì¬êµ¬ì„±í•´ ì €ì§€ì—°ìœ¼ë¡œ ì œê³µí•˜ëŠ” ë°ì´í„° ë ˆì´ì–´ì„ ë””ì•± ì²´ê° ì†ë„ì™€ ì‹ ë¢°ë„ë¥¼ ì¢Œìš°í•˜ëŠ” í•µì‹¬ ì¸í”„ë¼ì„\nì™œ ì¸ë±ì„œê°€ í•„ìš”í•œê°€ ë¸”ë¡ì²´ì¸ ì›ì¥ì€ ë¸”ë¡ ë‹¨ìœ„ ì§ë ¬ êµ¬ì¡°ë¼ ì„ì˜ ì ‘ê·¼ê³¼ ì¡°ê±´ ê²€ìƒ‰ ë¹„ìš© í¼ ë””ì•±ì€ ì§€ê°‘ ì´ë ¥, í¬ì§€ì…˜, NFT ë³´ìœ  ë“± ì‚¬ìš©ì ë§¥ë½ ë°ì´í„°ë¥¼ ìˆ˜ì‹­~ìˆ˜ë°± ms ë‚´ì— í•„ìš”ë¡œ í•¨ ì „ì²´ ì›ì¥ì„ ë§¤ë²ˆ ìŠ¤ìº”í•˜ëŠ” ëŒ€ì‹  ëª©ì í˜• ë³´ì¡° ì¸ë±ìŠ¤ë¥¼ ì‚¬ì „ êµ¬ì¶•í•´ APIë¡œ ì œê³µí•˜ëŠ” ì „ëµì´ íš¨ìœ¨ì ì„ í•µì‹¬ ê°œë… ì¸ë±ì‹± ëŒ€ìƒ ë°ì´í„° ìœ í˜• ë¸”ë¡ í—¤ë”ì™€ íŠ¸ëœì­ì…˜ ë©”íƒ€ë°ì´í„°\në¸”ë¡ë²ˆí˜¸, íƒ€ì„ìŠ¤íƒ¬í”„, ê°€ìŠ¤ ì‚¬ìš©ëŸ‰, íŠ¸ëœì­ì…˜ í•´ì‹œ ë“± ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì´ë²¤íŠ¸ ë¡œê·¸\ní† í”½ê³¼ ë°ì´í„° í•„ë“œ, ì¸ë±ìŠ¤ë“œ íŒŒë¼ë¯¸í„°, ë¡œê·¸ ì¸ë±ìŠ¤ ë“± ì»¨íŠ¸ë™íŠ¸ ìƒíƒœ ìŠ¤ëƒ…ìƒ· ë˜ëŠ” íŒŒìƒ ì§€í‘œ\nì”ì•¡ ìŠ¤ëƒ…ìƒ·, í¬ì§€ì…˜ ì§€í‘œ, ì‹œê³„ì—´ ì§‘ê³„ ë“± ìš©ì–´ ì •ë¦¬ ì„œë¸Œê·¸ë˜í”„\níŠ¹ì • ë„ë©”ì¸ì„ ìœ„í•œ ìŠ¤í‚¤ë§ˆí˜• ì¸ë±ì‹± ë‹¨ìœ„ ìµœì¢…ì„± Finality\në¸”ë¡ì´ ë˜ëŒë ¤ì§€ì§€ ì•Šì„ í™•ë¥ ì´ ì¶©ë¶„íˆ ë‚®ì€ ìƒíƒœë¥¼ ì˜ë¯¸í•¨ ì¬êµ¬ì„± Reorg\në” ê¸´ ì²´ì¸ì´ ë‚˜íƒ€ë‚˜ ì¼ë¶€ ë¸”ë¡ì´ êµì²´ë˜ëŠ” í˜„ìƒìœ¼ë¡œ ì¸ë±ì„œê°€ ë¡¤ë°±ê³¼ ì¬ì²˜ë¦¬ë¥¼ ìˆ˜í–‰í•´ì•¼ í•¨ ë°±í•„ Backfill\nê³¼ê±° ë¸”ë¡ ë²”ìœ„ë¥¼ ëŒ€ëŸ‰ìœ¼ë¡œ ì¸ë±ì‹±í•˜ëŠ” ì‘ì—…ì´ë©° ë¼ì´ë¸Œ ìŠ¤íŠ¸ë¦¼ê³¼ ë³‘í–‰ ìš´ì˜ í•„ìš”í•¨ ì•„í‚¤í…ì²˜ êµ¬ì„± ìš”ì†Œ ìˆ˜ì§‘ê¸° Ingestor\ní’€ë…¸ë“œ ë˜ëŠ” ê²Œì´íŠ¸ì›¨ì´ì— êµ¬ë… í˜¹ì€ í´ë§ìœ¼ë¡œ ì—°ê²°í•´ ìƒˆ ë¸”ë¡ê³¼ íŠ¸ëœì­ì…˜, ë¡œê·¸ ìˆ˜ì‹  ë¸”ë¡ ë²”ìœ„ íì™€ ì¬ì‹œë„, ì†ë„ ì œí•œ ì œì–´ í¬í•¨ ê¶Œì¥ íŒŒì„œ Parser\nABI ê¸°ë°˜ ë””ì½”ë”©ìœ¼ë¡œ ì´ë²¤íŠ¸ì™€ í•¨ìˆ˜ í˜¸ì¶œ ì…ë ¥ì„ êµ¬ì¡°í™”í•¨ ì£¼ì†Œ, ì²´ì¸ID, ë¸”ë¡ë²ˆí˜¸, íŠ¸ëœì­ì…˜ í•´ì‹œë¥¼ ê¸°ë³¸ ì •ê·œí™” í‚¤ë¡œ í¬í•¨ ì¸ë±ì„œ Indexer\nì˜ˆìƒ ì§ˆì˜ íŒ¨í„´ì— ë§ì¶˜ ë³´ì¡° ì¸ë±ìŠ¤ì™€ ë¨¸í‹°ë¦¬ì–¼ë¼ì´ì¦ˆë“œ ë·° ìƒì„± ë©±ë“± ì²˜ë¦¬ë¡œ ì¤‘ë³µ ì…ë ¥ì— ì•ˆì „í•´ì•¼ í•¨ ì €ì¥ì†Œ Storage\nê´€ê³„í˜• SQL, ë¬¸ì„œí˜•, í‚¤ë°¸ë¥˜, ì‹œê³„ì—´ ì¤‘ ì›Œí¬ë¡œë“œì— ë§ê²Œ í˜¼í•© ì„ íƒ ì“°ê¸° ì§‘ì¤‘ êµ¬ê°„ê³¼ ì½ê¸° ì§‘ì¤‘ êµ¬ê°„ì„ ë¶„ë¦¬ ì„¤ê³„ ê¶Œì¥ ì„œë¹„ìŠ¤ API\nGraphQL ë˜ëŠ” REST ì œê³µ ìºì‹œ, ì»¤ì„œ ê¸°ë°˜ í˜ì´ì§€ë„¤ì´ì…˜, ë ˆì´íŠ¸ ë¦¬ë°‹, ë‹¤ì¤‘ ë¦¬ì „ ë°°í¬ í¬í•¨ ê¶Œì¥ ë™ì‘ ì›ë¦¬ 1) ë°ì´í„° ìˆ˜ì§‘ ìµœì‹  ë¸”ë¡ ìŠ¤íŠ¸ë¦¼ ìˆ˜ì‹  í† í”½ ê¸°ë°˜ í•„í„°ë¡œ ê´€ì‹¬ ì´ë²¤íŠ¸ë§Œ ì„ ë³„ ê°€ëŠ¥ ë¸”ë¡ ë²”ìœ„ ì‘ì—… ë‹¨ìœ„ë¥¼ ì„¤ì •í•´ ì¬ì‹œë„ì™€ ë³‘ë ¬ ì²˜ë¦¬ ì œì–´ 2) ì •ë¦¬ì™€ ì €ì¥ ABIë¡œ ì´ë²¤íŠ¸ íŒŒì‹± í›„ í‘œì¤€ ìŠ¤í‚¤ë§ˆë¡œ ì •ê·œí™”\níŒŒí‹°ì…”ë‹ í‚¤ ì„¤ê³„ ì˜ˆì‹œ\nì£¼ì†Œë³„ íŒŒí‹°ì…˜, ì»¨íŠ¸ë™íŠ¸ë³„ íŒŒí‹°ì…˜, ì²´ì¸IDë³„ ìƒ¤ë”© ìŠ¤í† ë¦¬ì§€ ì„ íƒ ê°€ì´ë“œ\nSQLì€ ì¡°ì¸ê³¼ ê°•í•œ ì •í•©ì„± ê°•ì  NoSQLì€ ì“°ê¸° ì„±ëŠ¥ê³¼ ìˆ˜í‰ í™•ì¥ ê°•ì  í˜¼í•© ì ‘ê·¼ìœ¼ë¡œ ì›ë³¸ ë¡œê·¸ í…Œì´ë¸”ê³¼ ì¡°íšŒ ìµœì í™” í…Œì´ë¸”ì„ ë¶„ë¦¬ 3) ì œê³µê³¼ ìºì‹± í•« í‚¤ì— ì¸ë©”ëª¨ë¦¬ ìºì‹œì™€ ì„¸ê·¸ë¨¼íŠ¸ ìºì‹œ ì ìš© ì»¤ì„œ ê¸°ë°˜ í˜ì´ì§€ë„¤ì´ì…˜ìœ¼ë¡œ ëŒ€ëŸ‰ ìŠ¤ìº” ë°©ì§€ ì§€í‘œì„± ë°ì´í„°ëŠ” ì‚¬ì „ ì§‘ê³„ í…Œì´ë¸”ì´ë‚˜ ë¨¸í‹°ë¦¬ì–¼ë¼ì´ì¦ˆë“œ ë·° ì‚¬ìš© 4) ìµœì¢…ì„±ê³¼ ì¬ì²˜ë¦¬ N ì»¨íŒ ì´í›„ í™•ì • ë§ˆí‚¹ìœ¼ë¡œ Reorg ì˜í–¥ ìµœì†Œí™” Reorg ë°œìƒ ì‹œ ì˜í–¥ ë²”ìœ„ë§Œ ì—­ì¸ë±ìŠ¤ ì‚­ì œ í›„ ì¬ì¸ë±ì‹± ë°±í•„ ì¡ê³¼ ë¼ì´ë¸Œ ìŠ¤íŠ¸ë¦¼ì˜ ê²½ê³„ ê´€ë¦¬ë¡œ ì¤‘ë³µ ì‘ì—… ë°©ì§€ ë°ì´í„° ëª¨ë¸ê³¼ ìŠ¤í‚¤ë§ˆ ì˜ˆì‹œ ì›ë³¸ ì´ë²¤íŠ¸ ë¡œê·¸ í…Œì´ë¸” ì˜ˆì‹œ CREATE TABLE ev_raw ( chain_id INT NOT NULL, contract_address VARBINARY(20) NOT NULL, block_number BIGINT NOT NULL, block_time TIMESTAMP NOT NULL, tx_hash VARBINARY(32) NOT NULL, log_index INT NOT NULL, topic0 VARBINARY(32) NOT NULL, topic1 VARBINARY(32) NULL, topic2 VARBINARY(32) NULL, topic3 VARBINARY(32) NULL, data BLOB NOT NULL, PRIMARY KEY (chain_id, block_number, tx_hash, log_index) ) ì¡°íšŒ ìµœì í™” í…Œì´ë¸” ì˜ˆì‹œ CREATE TABLE nft_transfers ( chain_id INT NOT NULL, contract_address VARBINARY(20) NOT NULL, token_id DECIMAL(78,0) NOT NULL, from_address VARBINARY(20) NOT NULL, to_address VARBINARY(20) NOT NULL, block_number BIGINT NOT NULL, block_time TIMESTAMP NOT NULL, tx_hash VARBINARY(32) NOT NULL, PRIMARY KEY (chain_id, contract_address, token_id, block_number, tx_hash), INDEX idx_owner_history (chain_id, to_address, block_number DESC) ) GraphQL ì§ˆì˜ ì˜ˆì‹œ query { transfers(first: 10, where: { from: \u0026#34;0xaaaa...\u0026#34;, to: null }) { id from to value blockNumber txHash } } í•µì‹¬ì€ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ì„ ìŠ¤í‚¤ë§ˆì™€ ì¸ë±ìŠ¤ë¡œ ì„ ì œ ì •ì˜í•˜ëŠ” ê²ƒì„ ì›ì¥ ì¬íƒìƒ‰ ì—†ì´ ì¦‰ì‹œ ì‘ë‹µ ê°€ëŠ¥í•œ í˜•íƒœë¡œ ë°ì´í„°ë¥¼ ì¬êµ¬ì„±í•˜ëŠ” ê²ƒì´ ëª©í‘œì„\nì¼ê´€ì„± ëª¨ë¸ í™•ì • ìƒíƒœì™€ ë¯¸í™•ì • ìƒíƒœë¥¼ ëª…ì‹œ êµ¬ë¶„\nì‘ë‹µ í•„ë“œì— finality_level ë˜ëŠ” confirmations í¬í•¨ ê¶Œì¥ API íŒŒë¼ë¯¸í„°ë¡œ ìµœì¢…ì„± ë ˆë²¨ í—ˆìš©\nì˜ˆì‹œë¡œ minConfirmations=12 ì „ë‹¬ ì‹œ í•´ë‹¹ ê¸°ì¤€ ì¶©ì¡± ë°ì´í„°ë§Œ ë°˜í™˜ ì½ê¸° ìŠ¤ëƒ…ìƒ· ì¼ê´€ì„± ìœ ì§€ë¡œ ë™ì¼ ìš”ì²­ ë‚´ ì‹œê°„ì¶• ì•ˆì •ì„± ë³´ì¥\nì¬ì²˜ë¦¬ì™€ ë©±ë“±ì„± ë¸”ë¡ ë²”ìœ„ ë‹¨ìœ„ì˜ ì¬ì¸ë±ì‹±ì´ ê°€ëŠ¥í•˜ë„ë¡ ë²”ìœ„ ë©”íƒ€ ìœ ì§€\në©±ë“± í‚¤ ì„¤ê³„\n(chain_id, tx_hash, log_index) ë˜ëŠ” ì´ë²¤íŠ¸ ê³ ìœ  í•´ì‹œë¡œ ì¤‘ë³µ ì‚½ì… ë°©ì§€ ì—…ì„œíŠ¸ ê¸°ë°˜ ë¡œë”©ìœ¼ë¡œ ì¬ì²˜ë¦¬ ì•ˆì „ì„± í™•ë³´\nINSERT INTO nft_transfers (...) VALUES (...) ON DUPLICATE KEY UPDATE block_time = VALUES(block_time) ì„±ëŠ¥ê³¼ ë¹„ìš© ìµœì í™” ë°±í•„ì€ ëŒ€ì—­í­ ìš°ì„ , ë¼ì´ë¸ŒëŠ” ì§€ì—° ìš°ì„ ìœ¼ë¡œ íŠœë‹ íŒŒí‹°ì…˜ í•«ìŠ¤íŒŸ íšŒí”¼ë¥¼ ìœ„í•´ ì£¼ì†Œ í•´ì‹± ë˜ëŠ” ë²”ìœ„ ì…”í”Œë§ ì ìš© ëŒ€ê·œëª¨ ì´ë²¤íŠ¸ì˜ ê²½ìš° ë°°ì¹˜ í¬ê¸°ì™€ ì»¤ë°‹ ê°„ê²©ì„ ì²´ê³„ì ìœ¼ë¡œ ì„¤ì • ìŠ¤í‚¤ë§ˆ ë²„ì €ë‹ì„ í†µí•´ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œ ì´ì¤‘ ê¸°ë¡ ì „ëµ ì ìš© ê¶Œì¥ ìš´ì˜ê³¼ ê´€ì¸¡ì„± í•„ìˆ˜ ì§€í‘œ\në¸”ë¡ ì§€ì—°, ìˆ˜ì§‘ ì§€ì—°, ì²˜ë¦¬ ë¼ê·¸, ì˜¤ë¥˜ìœ¨, ì¬ì‹œë„ìœ¨, í ì ì²´ëŸ‰ ì•ŒëŒ ê¸°ì¤€\në¼ê·¸ ê¸‰ì¦, Reorg ë¹ˆë„ ì¦ê°€, íŠ¹ì • ì»¨íŠ¸ë™íŠ¸ ì˜¤ë¥˜ ê¸‰ì¦ ë¡¤ë°±ê³¼ ì¬ì‹œì‘\nì €ì¥ì†Œì— ì²´í¬í¬ì¸íŠ¸ì™€ ì»¤ë°‹ ì˜¤í”„ì…‹ ê¸°ë¡ìœ¼ë¡œ ì•ˆì „ ë³µêµ¬ ê°€ëŠ¥í•˜ê²Œ ì„¤ê³„ ë³´ì•ˆê³¼ ë¬´ê²°ì„± ë°ì´í„° ì¶œì²˜ ì´ì¤‘í™”ì™€ êµì°¨ ê²€ì¦ ì ìš©\nì„œë¡œ ë‹¤ë¥¸ ë…¸ë“œë‚˜ ê³µê¸‰ìì—ì„œ ìƒ˜í”Œ ê²€ì¦ ìˆ˜í–‰ ê¶Œì¥ ì„œëª… ê²€ì¦ ê°€ëŠ¥í•œ ë°ì´í„°ëŠ” íŒŒì´í”„ë¼ì¸ ë‚´ ì¦‰ì‹œ ê²€ì¦\në¯¼ê° ë©”íƒ€ë°ì´í„°ëŠ” ì•”í˜¸í™” ì €ì¥ê³¼ ì ‘ê·¼ í†µì œ ì ìš©\nì£¼ìš” í”Œë«í¼ ë¹„êµ ìš”ì•½ The Graph\nGraphQL ê¸°ë°˜ ì„œë¸Œê·¸ë˜í”„ ëª¨ë¸ê³¼ ì»¤ìŠ¤í…€ ìŠ¤í‚¤ë§ˆ, ë§¤í•‘ ì§€ì› ì´ë²¤íŠ¸ ì¤‘ì‹¬ ë„ë©”ì¸ ëª¨ë¸ë§ì´ ë‹¨ìˆœí•¨ Covalent\në©€í‹°ì²´ì¸ í†µí•© APIì™€ ê³µí†µ ìŠ¤í‚¤ë§ˆ ì œê³µ ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ê³¼ ëŒ€ì‹œë³´ë“œ ì—°ë™ ìš©ì´ QuickNode\në…¸ë“œì™€ ì¸ë±ì‹± API ì¡°í•©ìœ¼ë¡œ ê³ ì„±ëŠ¥ ì—”ë“œí¬ì¸íŠ¸ ì œê³µ Moralis\në©€í‹°ì²´ì¸ ë””ì•± ë°±ì—”ë“œ ë„êµ¬ë¡œ ì§€ê°‘ê³¼ NFT ì¤‘ì‹¬ ì¸ë±ì‹± ì œê³µ ìì²´ êµ¬ì¶•\nìœ ì—°ì„±ê³¼ ë°ì´í„° ì†Œìœ ê¶Œ ê°•ì  ìš´ì˜ ë³µì¡ì„±ê³¼ ë¹„ìš© ì¦ê°€ ë‹¨ì  ì¡´ì¬ ëŒ€í‘œ ì‚¬ìš© ì‚¬ë¡€ ì§€ê°‘ í™”ë©´ì—ì„œ ì£¼ì†Œ ê¸°ì¤€ íŠ¸ëœì­ì…˜ê³¼ í† í° ì”ì•¡ ì¦‰ì‹œ ì¡°íšŒ ë””íŒŒì´ í¬ì§€ì…˜ ìˆ˜ìµë¥ ê³¼ ë‹´ë³´ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ ê³„ì‚° NFT ì†Œìœ  ëª©ë¡, ì „ì†¡ ì´ë ¥, ë©”íƒ€ë°ì´í„° ë™ê¸°í™” ì œê³µ ì˜¨ì²´ì¸ ë°ì´í„° ê¸°ë°˜ ë¶„ì„ê³¼ ì•Œë¦¼ íŠ¸ë¦¬ê±° ìƒì„± ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìŠ¤í‚¤ë§ˆ ì„¤ê³„ ìƒìœ„ í•µì‹¬ ì§ˆì˜ ì„¸ ê°€ì§€ë¥¼ ë¨¼ì € ì •í•˜ê³  íŒŒí‹°ì…”ë‹ê³¼ ë³´ì¡° ì¸ë±ìŠ¤ë¥¼ ê²°ì • ì›ë³¸ ë¡œê·¸ í…Œì´ë¸”ê³¼ ì¡°íšŒ ìµœì í™” í…Œì´ë¸”ì„ ë¶„ë¦¬ ìš´ì˜ ì‹œê°„ ê¸°ë°˜ íŒŒí‹°ì…”ë‹ê³¼ ì£¼ì†Œ ê¸°ë°˜ ì¸ë±ìŠ¤ë¥¼ í•¨ê»˜ ê³ ë ¤ ì¬ì²˜ë¦¬ ì „ëµ ë¸”ë¡ ë²”ìœ„ ë©”íƒ€ë¥¼ ë³´ê´€í•´ ë¶€ë¶„ ì¬ì¸ë±ì‹± ê°€ëŠ¥í•˜ê²Œ ìœ ì§€ ë©±ë“± í‚¤ì™€ ì—…ì„œíŠ¸ë¡œ ì¤‘ë³µ ì‚½ì… ë°©ì§€ ì¼ê´€ì„±ê³¼ ìµœì¢…ì„± í™•ì •ê³¼ ë¯¸í™•ì • ë°ì´í„°ë¥¼ ì‘ë‹µì—ì„œ êµ¬ë¶„ APIì— ìµœì¢…ì„± íŒŒë¼ë¯¸í„° ì œê³µ ì„±ëŠ¥ê³¼ ë¹„ìš© ë°±í•„ íŒŒì´í”„ë¼ì¸ì€ ëŒ€ì—­í­ê³¼ ë³‘ë ¬ì„± ê·¹ëŒ€í™” ë¼ì´ë¸Œ ìŠ¤íŠ¸ë¦¼ì€ ì§€ì—°ê³¼ ì•ˆì •ì„± ìµœì í™” í•« íŒŒí‹°ì…˜ íšŒí”¼ë¥¼ ìœ„í•œ í•´ì‹± ë˜ëŠ” ìƒ¤ë”© ì ìš© ìš´ì˜ê³¼ ê´€ì¸¡ì„± ë¼ê·¸ì™€ ì˜¤ë¥˜ ì§€í‘œë¥¼ 1ê¸‰ ì‹œë¯¼ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§ ìŠ¤í‚¤ë§ˆ ë²„ì €ë‹ê³¼ ë¡¤ë°± ê³„íšì„ ë¬¸ì„œí™” ë³´ì•ˆê³¼ ë¬´ê²°ì„± ê³µê¸‰ì ì´ì¤‘í™”ì™€ êµì°¨ê²€ì¦ êµ¬ì„± ì„œëª… ê²€ì¦ ê°€ëŠ¥í•œ ì§€í‘œëŠ” ìˆ˜ì§‘ ë‹¨ê³„ì—ì„œ ê²€ì¦ ì•ˆí‹° íŒ¨í„´ WHERE ì ˆì— í•¨ìˆ˜ ì—°ì‚°ì„ ë‚¨ë°œí•´ ì¸ë±ìŠ¤ë¥¼ ë¬´ë ¥í™”í•˜ëŠ” íŒ¨í„´ ì›ë³¸ ë¡œê·¸ í…Œì´ë¸” í•˜ë‚˜ë¡œë§Œ ëª¨ë“  ì§ˆì˜ë¥¼ ì²˜ë¦¬í•˜ë ¤ëŠ” ë‹¨ì¼ ìŠ¤í‚¤ë§ˆ ê³ ì§‘ Reorg ê°€ì • ë¶€ì¬ë¡œ ë¡¤ë°± ê²½ë¡œê°€ ì—†ëŠ” íŒŒì´í”„ë¼ì¸ ì»¤ì„œ ëŒ€ì‹  í˜ì´ì§€ ì˜¤í”„ì…‹ì„ ì‚¬ìš©í•´ ì‹¬ê°í•œ ìŠ¤ìº”ì„ ìœ ë°œí•˜ëŠ” í˜ì´ì§€ë„¤ì´ì…˜ ê°„ë‹¨ ë ˆí¼ëŸ°ìŠ¤ ì´ë”ë¦¬ì›€ JSON-RPC eth_getLogsë¡œ í† í”½ í•„í„°ë§ ìˆ˜ì§‘ ê°€ëŠ¥ Solidity ì´ë²¤íŠ¸ëŠ” ABIë¡œ ë””ì½”ë”©í•´ êµ¬ì¡°í™” ê°€ëŠ¥ GraphQLì€ ì„ íƒì  í•„ë“œ ì¡°íšŒì™€ ê´€ê³„ íƒìƒ‰ì— ìœ ë¦¬í•¨ query WalletView($owner: String!, $first: Int!, $cursor: String) { erc20Balances(owner: $owner, first: $first, after: $cursor) { edges { node { contract symbol decimals balance updatedAt } cursor } pageInfo { hasNextPage endCursor } } } ë§ˆë¬´ë¦¬ ì¸ë±ì„œëŠ” ì œí’ˆì´ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ì„ ë°ì´í„° êµ¬ì¡°ë¡œ ë¨¼ì € í‘œí˜„í•˜ëŠ” ë„êµ¬ì„ ì´ˆê¸° ë‹¨ê³„ì—ì„œ ì§ˆì˜ íŒ¨í„´ê³¼ ìµœì¢…ì„± ì „ëµì„ ë¶„ëª…íˆ í•˜ê³  ì¬ì²˜ë¦¬, ê´€ì¸¡ì„±, ë¹„ìš©ì˜ íŠ¸ë ˆì´ë“œì˜¤í”„ë¥¼ ë¬¸ì„œí™”í•  ê²ƒ ê´€ë¦¬í˜• ì„œë¹„ìŠ¤ì™€ ìì²´ êµ¬ì¶•ì„ í˜¼í•©í•´ ë¯¼ì²©ì„±ê³¼ í†µì œë ¥ì„ ê· í˜• ìˆê²Œ ê°€ì ¸ê°ˆ ê²ƒ ì°¸ê³ ìë£Œ https://thegraph.com/docs/en/ https://www.covalenthq.com/docs/ https://www.quicknode.com/docs https://docs.moralis.io/ https://ethereum.org/en/developers/docs/apis/json-rpc/#eth_getlogs https://docs.soliditylang.org/en/latest/contracts.html#events ","permalink":"https://blog.jsontapose.com/posts/blockchain-indexer-concepts-architecture-checklist-e452a9/","summary":"\u003ch1 id=\"ë¸”ë¡ì²´ì¸-ì¸ë±ì„œ-ê°€ì´ë“œ\"\u003eë¸”ë¡ì²´ì¸ ì¸ë±ì„œ ê°€ì´ë“œ\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003eì¸ë±ì„œëŠ” ì›ì¥ ë°ì´í„°ë¥¼ ì œí’ˆ ìš”êµ¬ì— ë§ê²Œ ì¬êµ¬ì„±í•´ ì €ì§€ì—°ìœ¼ë¡œ ì œê³µí•˜ëŠ” ë°ì´í„° ë ˆì´ì–´ì„\në””ì•± ì²´ê° ì†ë„ì™€ ì‹ ë¢°ë„ë¥¼ ì¢Œìš°í•˜ëŠ” í•µì‹¬ ì¸í”„ë¼ì„\u003c/p\u003e\u003c/blockquote\u003e\n\u003chr\u003e\n\u003ch2 id=\"ì™œ-ì¸ë±ì„œê°€-í•„ìš”í•œê°€\"\u003eì™œ ì¸ë±ì„œê°€ í•„ìš”í•œê°€\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eë¸”ë¡ì²´ì¸ ì›ì¥ì€ ë¸”ë¡ ë‹¨ìœ„ ì§ë ¬ êµ¬ì¡°ë¼ ì„ì˜ ì ‘ê·¼ê³¼ ì¡°ê±´ ê²€ìƒ‰ ë¹„ìš© í¼\u003c/li\u003e\n\u003cli\u003eë””ì•±ì€ ì§€ê°‘ ì´ë ¥, í¬ì§€ì…˜, NFT ë³´ìœ  ë“± ì‚¬ìš©ì ë§¥ë½ ë°ì´í„°ë¥¼ ìˆ˜ì‹­~ìˆ˜ë°± ms ë‚´ì— í•„ìš”ë¡œ í•¨\u003c/li\u003e\n\u003cli\u003eì „ì²´ ì›ì¥ì„ ë§¤ë²ˆ ìŠ¤ìº”í•˜ëŠ” ëŒ€ì‹  ëª©ì í˜• ë³´ì¡° ì¸ë±ìŠ¤ë¥¼ ì‚¬ì „ êµ¬ì¶•í•´ APIë¡œ ì œê³µí•˜ëŠ” ì „ëµì´ íš¨ìœ¨ì ì„\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"í•µì‹¬-ê°œë…\"\u003eí•µì‹¬ ê°œë…\u003c/h2\u003e\n\u003ch3 id=\"ì¸ë±ì‹±-ëŒ€ìƒ-ë°ì´í„°-ìœ í˜•\"\u003eì¸ë±ì‹± ëŒ€ìƒ ë°ì´í„° ìœ í˜•\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eë¸”ë¡ í—¤ë”ì™€ íŠ¸ëœì­ì…˜ ë©”íƒ€ë°ì´í„°\u003c/p\u003e","title":"ë¸”ë¡ì²´ì¸ ì¸ë±ì„œ ê°€ì´ë“œ"},{"content":"ê°œìš” í¼ë¸”ë¦­ ë¸”ë¡ì²´ì¸ì€ ì¤‘ì•™ ê´€ë¦¬ì ì—†ì´ ë‹¤ìˆ˜ ì°¸ì—¬ìê°€ ê°™ì€ ìƒíƒœë¥¼ ê³µìœ í•´ì•¼ í•¨ ì´ë•Œ ëª¨ë‘ê°€ ë¯¿ì„ ìˆ˜ ìˆëŠ” í•˜ë‚˜ì˜ ê¸°ë¡ì„ ì„ íƒí•˜ëŠ” ê·œì¹™ì´ í•„ìš”í•˜ë©° ì´ë¥¼ í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì´ë¼ ë¶€ë¦„ í•©ì˜ëŠ” ì„±ëŠ¥ê³¼ ë³´ì•ˆ, íƒˆì¤‘ì•™í™” ì‚¬ì´ì˜ ê· í˜• ë¬¸ì œì´ê¸°ë„ í•¨ PoWì™€ PoSëŠ” ëŒ€í‘œì  í•©ì˜ ë°©ì‹ì´ë©° ìµœê·¼ì—ëŠ” ì˜ì§€ì‹ì¦ëª… ê°™ì€ ì•”í˜¸ ê¸°ë²•ì´ ê°œì¸ì •ë³´ ë³´í˜¸ì™€ ê²€ì¦ ê°„ì†Œí™”ì— ê²°í•©ë˜ëŠ” ì¶”ì„¸ì„ ì‹¤ë¬´ ê´€ì ì—ì„œ ê° ë°©ì‹ì˜ ì›ë¦¬ì™€ íŠ¸ë ˆì´ë“œì˜¤í”„, ì˜ì§€ì‹ì¦ëª…ê³¼ì˜ ì ‘ì ì„ ì •ë¦¬í•¨\ní•©ì˜ê°€ í•„ìš”í•œ ì´ìœ ì™€ ê¸°ì¤€ ì•ˆì „ì„± ì•ˆì „í•˜ê²Œ í•˜ë‚˜ì˜ ì •ë³¸ì„ ê³ ìˆ˜í•˜ê³  ì´ì¤‘ ì§€ë¶ˆ ë“± ë¶ˆë³€ì„± íŒŒê´´ê°€ ë°œìƒí•˜ì§€ ì•ŠìŒ í™œì„± ìƒíƒœ ë„¤íŠ¸ì›Œí¬ ì§€ì—°ì´ë‚˜ ì¼ë¶€ ì¥ì• ê°€ ìˆì–´ë„ ìƒˆ ë¸”ë¡ ìƒì„±ì´ ì§€ì†ë¨ ìµœì¢…ì„± ì¼ë‹¨ í™•ì •ëœ ê±°ë˜ê°€ ë˜ëŒë ¤ì§€ì§€ ì•ŠìŒ í™•ë¥ ì  ë˜ëŠ” ê²°ì •ì  ìµœì¢…ì„±ìœ¼ë¡œ êµ¬ë¶„ë¨ ì‹œë¹Œ ë‚´ì„± ê°€ì§œ ì°¸ì—¬ì ëŒ€ëŸ‰ ìƒì„± ê³µê²©ì— ì €í•­í•¨ ê²½ì œì  ë¹„ìš© ë˜ëŠ” ì‹ ì› ê²€ì¦ ê¸°ë°˜ ë©”ì»¤ë‹ˆì¦˜ í•„ìš” ì„±ëŠ¥ ì²˜ë¦¬ëŸ‰ê³¼ ì§€ì—° ì‹œê°„ ëª©í‘œë¥¼ ëª…í™•íˆ í•´ì•¼ í•¨ ë¸”ë¡ ê°„ê²©, ë¸”ë¡ í¬ê¸°, ê²€ì¦ ë¹„ìš©ì´ ê´€ê±´ íƒˆì¤‘ì•™í™” ê²€ì¦ ì°¸ì—¬ ë¬¸í„±ì„ ë‚®ì¶° ëˆ„êµ¬ë‚˜ ê²€ì¦ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„ ê¶Œì¥ í’€ ì§‘ì¤‘ì´ë‚˜ ì†Œìˆ˜ ì§€ë°°ë¥¼ ì–µì œí•  ìœ ì¸ ì„¤ê³„ í•„ìš” PoW ì‘ì—…ì¦ëª… í•µì‹¬ ì •ì˜ íŠ¹ì • ë‚œì´ë„ì˜ í•´ì‹œ í¼ì¦ì„ í’€ì–´ ë¸”ë¡ ì œì•ˆê¶Œì„ ì–»ëŠ” ë°©ì‹ ì±„êµ´ìê°€ í•´ì‹œ ì—°ì‚°ì„ ë°˜ë³µí•´ ëª©í‘œê°’ ë¯¸ë§Œì˜ í•´ì‹œë¥¼ ì°¾ëŠ” êµ¬ì¡° êµ¬ì„± ìš”ì†Œ ë¸”ë¡ í—¤ë” ë‚œì´ë„ ëª©í‘œê°’ ë…¼ìŠ¤ í•´ì‹œ í•¨ìˆ˜ ì‘ì—… ì¦ëª… ê²€ì¦ì€ O(1)ì— ê°€ê¹Œì›€ ì œì•ˆì€ ëŒ€ëŸ‰ ê³„ì‚° í•„ìš” ë‚œì´ë„ ì¡°ì • ë„¤íŠ¸ì›Œí¬ ì „ì²´ í•´ì‹œ íŒŒì›Œ ë³€í™”ë¥¼ ë”°ë¼ ëª©í‘œ ë¸”ë¡ ê°„ê²©ì„ ìœ ì§€í•˜ë„ë¡ ì£¼ê¸°ì  ì¬ì¡°ì • ìˆ˜í–‰ ë³´ì•ˆ ëª¨ë¸ ì •ì§í•œ í•´ì‹œ íŒŒì›Œê°€ ê³¼ë°˜ì„ ì°¨ì§€í•˜ë©´ ê¸´ ì‚¬ìŠ¬ì´ ì •ë³¸ì´ ë¨ 51% ê³µê²©ì€ ë‹¤ìˆ˜ í•´ì‹œë ¥ìœ¼ë¡œ ê³¼ê±° ì¼ë¶€ êµ¬ê°„ì„ ì¬ì‘ì„±í•˜ëŠ” ìœ„í˜‘ì„ ì˜ë¯¸ ì¥ì \në‹¨ìˆœí•œ ê²€ì¦ ê²½ëŸ‰ ë…¸ë“œë„ í—¤ë” ì²´ì¸ê³¼ ì‘ì—… ì¦ëª…ë§Œìœ¼ë¡œ ìœ íš¨ì„± í™•ì¸ ê°€ëŠ¥ ì‹œë¹Œ ë‚´ì„± ê²½ì œì  ë¹„ìš©ì´ ëª…í™•í•˜ë©° ë¬¼ë¦¬ ìì› ê¸°ë°˜ ë³´ì•ˆ ë‹¨ì  ì—ë„ˆì§€ ë¹„ìš© ê³¼ë‹¤ ì „ë ¥ê³¼ í•˜ë“œì›¨ì–´ ë¹„ìš©ì´ ì§€ì†ì ìœ¼ë¡œ ì†Œëª¨ë¨ ì²˜ë¦¬ ì§€ì—° ë¸”ë¡ ê°„ê²© í™•ëŒ€ì™€ ì˜¤í”„ë¼ì¸ í™•ë¥ ë¡œ ì¸í•´ í™•ë¥ ì  ìµœì¢…ì„±ì— ì˜ì¡´í•¨ ì—¬ëŸ¬ ì»¨íŒ ëŒ€ê¸°ê°€ í•„ìš” ì¤‘ì•™í™” ìœ ì¸ ëŒ€ê·œëª¨ ì±„êµ´ ì¸í”„ë¼ì™€ í’€ ì§‘ì¤‘ ê²½í–¥ ì¡´ì¬ ìš´ì˜ íŒ ë¸”ë¡ ê°„ê²©ê³¼ í¬ê¸° ì„¤ì •ì€ ê³ ì•„ ë¸”ë¡ ë¹„ìœ¨ì„ ê³ ë ¤í•´ ë„¤íŠ¸ì›Œí¬ ì „íŒŒ ì§€ì—°ì„ ìƒíšŒí•˜ë„ë¡ ë³´ìˆ˜ì ìœ¼ë¡œ ì„¤ì • ë‚œì´ë„ ì¡°ì • ì£¼ê¸°ëŠ” ê¸‰ê²©í•œ ë‚œì´ë„ ìŠ¤ìœ™ì„ ì¤„ì´ë„ë¡ ì´ë™ í‰ê· ì´ë‚˜ í´ë¦¬í•‘ ì ìš© ìˆ˜ìˆ˜ë£Œ ì‹œì¥ ì•ˆì •í™”ë¥¼ ìœ„í•´ ê¸°ë³¸ ìˆ˜ìˆ˜ë£Œ ê·œì¹™ê³¼ ëŒ€ì—­í­ ê´€ë¦¬ ë³‘í–‰ PoS ì§€ë¶„ì¦ëª… í•µì‹¬ ì •ì˜ í† í° ì§€ë¶„ì„ ì˜ˆì¹˜í•œ ê²€ì¦ìê°€ ë¸”ë¡ ì œì•ˆ ë° íˆ¬í‘œ ê¶Œí•œì„ íšë“í•˜ëŠ” ë°©ì‹ ì—ë„ˆì§€ ì†Œëª¨ë¥¼ ë‚®ì¶”ê³  ê²°ì •ì  ìµœì¢…ì„± ë˜ëŠ” ì§§ì€ í™•ë¥ ì  ìµœì¢…ì„±ì„ ì§€í–¥ ì„ ì • ë°©ì‹ ë‚œìˆ˜ ë˜ëŠ” ê°€ì¤‘ ë¬´ì‘ìœ„ ì„ íƒ VRF ìœ„ì›íšŒ ì„ ì¶œ ë¼ìš´ë“œë³„ ë¦¬ë” ë¡œí…Œì´ì…˜ ë“± ë‹¤ì–‘í•¨ ì•ˆì „ ì¥ì¹˜ ìŠ¬ë˜ì‹± ì´ì¤‘ ì œì•ˆ ë˜ëŠ” ìƒì¶© íˆ¬í‘œì— ëŒ€í•´ ì§€ë¶„ ì¼ë¶€ ì†Œê°í•´ ë¶€ì • í–‰ìœ„ ì–µì œ ì²´í¬í¬ì¸íŠ¸ì™€ íŒŒì´ë„ë¼ì´ì €ë¡œ ìµœì¢…ì„± í™•ë³´ ëŒ€í‘œì  ì´ìŠˆ\nì•„ë¬´ ê²ƒë„ ê±¸ì§€ ì•Šê¸° ë¬¸ì œ í¬í¬ë§ˆë‹¤ ë¹„ìš© ì—†ì´ íˆ¬í‘œ ê°€ëŠ¥ ì„¤ê³„ ì‹œ ìŠ¬ë˜ì‹±ê³¼ ë³´ìƒ êµ¬ì¡°ë¡œ í•´ê²° ë¡±ë ˆì¸ì§€ ê³µê²© ì˜¤ë˜ëœ í‚¤ë¡œ ê³¼ê±°ë¶€í„° ìƒˆë¡œìš´ ì²´ì¸ì„ ìœ„ì¡° ê°€ëŠ¥ ì•½í•œ ì£¼ê´€ì„± ì²´í¬í¬ì¸íŠ¸ ë™ê¸°í™”ì™€ í‚¤ íšŒìˆ˜ ì •ì±…ìœ¼ë¡œ ëŒ€ì‘ ì§€ë¶„ ì§‘ì¤‘ ëŒ€ëŸ‰ ë³´ìœ ì˜ ë³µë¦¬ íš¨ê³¼ë¡œ ì¤‘ì•™í™” ê²½í–¥ ì™„í™” ìœ„í•´ ë³´ìƒ ê³¡ì„ ê³¼ ìœ„ì„ êµ¬ì¡° ì„¤ê³„ í•„ìš” ì¥ì  ì €ì „ë ¥ ê³ íš¨ìœ¨ ì¼ë°˜ í•˜ë“œì›¨ì–´ë¡œ ê²€ì¦ ê°€ëŠ¥í•´ ì°¸ì—¬ ë¬¸í„± ì™„í™” ë¹ ë¥¸ í™•ì • ìœ„ì›íšŒ ê¸°ë°˜ íˆ¬í‘œì™€ íŒŒì´ë„ë¦¬í‹° ê°€ì ¯ìœ¼ë¡œ ë¸”ë¡ í™•ì • ì§€ì—° ì¶•ì†Œ ë‹¨ì  í”„ë¡œí† ì½œ ë³µì¡ë„ ì¦ê°€ ìƒíƒœ ê´€ë¦¬ í‚¤ ë³´ì•ˆ ìŠ¬ë˜ì‹± ìš´ì˜ ë¦¬ìŠ¤í¬ ì¡´ì¬ ê²½ì œ ë³´ì•ˆì€ í† í° ê°€ì¹˜ì— ì˜ì¡´ ê°€ê²© ê¸‰ë½ ì‹œ ë³´ì•ˆ ì˜ˆì‚° ì €í•˜ ê°€ëŠ¥ ìš´ì˜ íŒ ê²€ì¦ì í‚¤ ê´€ë¦¬ ë¶„ë¦¬ ì„œëª… í‚¤ì™€ ìœ„ì„ í‚¤ ë¶„ë¦¬í•˜ê³  ì˜¨ë¼ì¸ ë…¸ì¶œ ìµœì†Œí™” ëª¨ë‹ˆí„°ë§ í•„ìˆ˜ ê°€ìš©ì„± ì €í•˜ì™€ ë„¤íŠ¸ì›Œí¬ ë¶„í•  ì‹œ ìŠ¬ë˜ì‹± ìœ„í—˜ì— ëŒ€ë¹„í•´ ìë™ ì¥ì•  ì¡°ì¹˜ì™€ ê²½ë³´ ì²´ê³„ êµ¬ì¶• ì—…ê·¸ë ˆì´ë“œ ê²½ë¡œ ì‚¬ì „ ì˜ˆê³ ì™€ ë²„ì „ ë¡¤ë§ ì „ëµìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ ë¶„ë¦¬ ë¦¬ìŠ¤í¬ ì™„í™” ì˜ì§€ì‹ì¦ëª… ê¸°ë³¸ ê°œë… ìš”ì•½ ëª©ì  íŠ¹ì • ëª…ì œê°€ ì°¸ì„ì„ ë¹„ë°€ ìì²´ë¥¼ ë“œëŸ¬ë‚´ì§€ ì•Šê³  ì¦ëª… í•µì‹¬ ì„±ì§ˆ ì„¸ ê°€ì§€\nì™„ì „ì„± ì¦ëª…ìê°€ ì •ë‹¹í•˜ë©´ ê²€ì¦ìëŠ” ìˆ˜ìš© ê±´ì „ì„± ì¦ëª…ìê°€ ê±°ì§“ì´ë©´ ë“¤í‚´ í™•ë¥ ì´ ë¬´ì‹œ ê°€ëŠ¥ ìˆ˜ì¤€ìœ¼ë¡œ ë‚®ìŒ ì˜ì§€ì‹ì„± ê²€ì¦ ê³¼ì •ì—ì„œ ë¹„ë°€ì— ëŒ€í•œ ì¶”ê°€ ì •ë³´ ëˆ„ì„¤ ì—†ìŒ ì§ê´€ì  ë¹„ìœ  ì•Œë¦¬ë°”ë°” ë™êµ´ ì´ì•¼ê¸° ì¦ëª…ìëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ ì•Œë ¤ì£¼ì§€ ì•Šì§€ë§Œ ê²€ì¦ìê°€ ë¬´ì‘ìœ„ë¡œ ìš”êµ¬í•œ ì¶œêµ¬ë¥¼ ë°˜ë³µí•´ì„œ ë§Œì¡±ì‹œí‚´ìœ¼ë¡œì¨ ì§€ì‹ì„ ì…ì¦í•¨ ë°˜ë³µ íšŸìˆ˜ë¥¼ ëŠ˜ë¦´ìˆ˜ë¡ ì†ì„ìˆ˜ ì„±ê³µ í™•ë¥ ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¤„ì–´ë“¦ zk-SNARKì™€ zk-STARK í•œëˆˆì— ì •ë¦¬ zk-SNARK ì§§ì€ ì¦ëª… í¬ê¸°ì™€ ë¹ ë¥¸ ê²€ì¦ ì¥ì  ì‹ ë¢° ì„¤ì •ì´ í•„ìš”í•œ ì„¤ê³„ê°€ ì¼ë°˜ì ì´ë©° ê³¡ì„  ìŒì„ í˜• ì—°ì‚° ì˜ì¡´ zk-STARK ì‹ ë¢° ì„¤ì • ë¶ˆí•„ìš” íˆ¬ëª…ì„± í™•ë³´ í•´ì‹œ ì¤‘ì‹¬ êµ¬ì„± ëŒ€ê·œëª¨ ì‚°ìˆ í™”ì— ê°•ì  ë‹¨ ì¦ëª… í¬ê¸°ê°€ ë‹¤ì†Œ í¼ ê²€ì¦ë„ ìƒìˆ˜í•­ì´ í° í¸ ìµœê·¼ ë™í–¥ ìˆœí™˜ ì¦ëª…ê³¼ ì§‘ê³„ ì¦ëª…ìœ¼ë¡œ ëŒ€ëŸ‰ íŠ¸ëœì­ì…˜ì„ í•˜ë‚˜ì˜ ì§§ì€ ì¦ëª…ìœ¼ë¡œ ì••ì¶•í•˜ëŠ” ê¸°ìˆ  ë°œì „ ì¤‘ ë¸”ë¡ì²´ì¸ì—ì„œ ì˜ì§€ì‹ì¦ëª…ì´ ìœ ìš©í•œ ì§€ì  í”„ë¼ì´ë²„ì‹œ ë³´í˜¸ ê±°ë˜ ê¸ˆì•¡ê³¼ ì£¼ì†Œë¥¼ ìˆ¨ê¸°ë©´ì„œë„ ë³´ìœ ì•¡ê³¼ ë³´ì¡´ ë²•ì¹™ì„ ì¦ëª… ê°€ëŠ¥ í”„ë¼ì´ë²„ì‹œ ì½”ì¸ê³¼ ì„ íƒì  ê³µê°œ ê¸°ëŠ¥ì— í™œìš© ê²½ëŸ‰ ê²€ì¦ê³¼ í™•ì¥ì„± ì²´ì¸ ì™¸ë¶€ì—ì„œ ìƒíƒœ ì „ì´ì˜ ì˜¬ë°”ë¦„ì„ ì¦ëª…í•˜ê³  ì˜¨ì²´ì¸ì—ì„œëŠ” ì§§ì€ ì¦ëª…ë§Œ ê²€ì¦ ë ˆì´ì–´2 ìœ íš¨ì„± ë¡¤ì—…ê³¼ ë¸Œë¦¬ì§€ì—ì„œ í•µì‹¬ ì—­í•  íƒˆì¤‘ì•™ ì‹ ì› DID ìê²©ì¦ëª… ë‚´ìš©ì„ ê³µê°œí•˜ì§€ ì•Šê³  íŠ¹ì • ì†ì„± ë³´ìœ  ì—¬ë¶€ë¥¼ ì¦ëª… ê°€ëŠ¥ ìµœì†Œ ì •ë³´ ê³µê°œ ì›ì¹™ ì¤€ìˆ˜ í•©ì˜ ê²€ì¦ ë¹„ìš© ì ˆê° ë¸”ë¡ ì œì•ˆìê°€ íŠ¸ëœì­ì…˜ ì§‘í•©ì˜ ìœ íš¨ì„±ì— ëŒ€í•œ ì¦ëª…ì„ ì²¨ë¶€í•˜ë©´ ê²€ì¦ìì˜ ë¶€í•˜ ê°ì†Œ ê°€ëŠ¥ íŠ¹íˆ ëŒ€ê·œëª¨ ê²€ì¦ ì§‘í•©ì—ì„œ íš¨ê³¼ì  PoWì™€ ZKPì˜ ì ‘ì  ê²½ëŸ‰ ë…¸ë“œ ê°•í™” SPV ìœ ì‚¬ ëª¨ë¸ì„ í•œ ë‹¨ê³„ ë” ì¤„ì—¬ ê±°ë˜ì™€ ìƒíƒœ ì „ì´ë¥¼ ì˜ì§€ì‹ ì¦ëª…ìœ¼ë¡œ ìš”ì•½ ê²€ì¦ ë°ì´í„° ìš”êµ¬ëŸ‰ ê°ì†Œ ë°ì´í„° ê°€ìš©ì„±ê³¼ì˜ ë¶„ë¦¬ ì¦ëª…ìœ¼ë¡œ ê³„ì‚°ì˜ ì •ë‹¹ì„±ì„ ë‹´ë³´í•˜ê³  ì‹¤ì œ ë°ì´í„°ëŠ” ìƒ˜í”Œë§ ê¸°ë°˜ ê°€ìš©ì„± ê²€ì¦ìœ¼ë¡œ ì²˜ë¦¬ ì¡°í•© ì‹œ ëŒ€ì—­í­ ë¶€ë‹´ ê²½ê° í˜„ì‹¤ ì œì•½ PoW ì²´ì¸ì— ì§ì ‘ ZKPë¥¼ ì˜ë¬´í™”í•˜ë©´ ë¸”ë¡ ìƒì„± ì§€ì—°ê³¼ ìˆ˜ìˆ˜ë£Œ ê¸‰ë“± ê°€ëŠ¥ ì„ íƒì  ì±„íƒ ë˜ëŠ” L2ì—ì„œ ì‚¬ìš© í›„ ì•µì»¤ë§ ì „ëµì´ ì‹¤ìš©ì  PoSì™€ ZKPì˜ ì ‘ì  ë¹ ë¥¸ ìµœì¢…ì„± ë³´ì¡° í™•ì • íˆ¬í‘œì™€ í•¨ê»˜ ë¸”ë¡ ìœ íš¨ì„±ì— ëŒ€í•œ ìœ íš¨ì„± ì¦ëª…ì„ ì²¨ë¶€í•˜ë©´ ì¬ê²€ì¦ ë¹„ìš© ê°ì†Œì™€ ìƒíƒœ ë™ê¸°í™” ì†ë„ í–¥ìƒ ê¸°ëŒ€ ê²½ê³„ ì¡°ê±´ ë¡±ë ˆì¸ì§€ ê³µê²© ë°©ì§€ ë¡œì§ê³¼ ZKPì˜ ì‹ ë¢° ì„¤ì • ë¬¸ì œê°€ ì¶©ëŒí•˜ì§€ ì•Šë„ë¡ ì„¤ê³„ í•„ìš” ê²€ì¦ í‚¤ ê´€ë¦¬ì™€ í”„ë¡œë¹™ ê³µê²© ëŒ€ì‘ í•„ìˆ˜ ë ˆì´ì–´2 ì¡°í•© PoS L1ì€ ë°ì´í„° ê°€ìš©ì„±ê³¼ ë³´ì•ˆì— ì§‘ì¤‘ L2ëŠ” ZKP ê¸°ë°˜ ìœ íš¨ì„± ì¦ëª…ìœ¼ë¡œ ëŒ€ëŸ‰ ì²˜ë¦¬ ê·œëª¨ í™•ì¥ êµ¬ì¡°ê°€ ì£¼ë¥˜ë¡œ ì´ë™ ì¤‘ ê°„ë‹¨ ì˜ˆì‹œ ì‹œë‚˜ë¦¬ì˜¤ ì „ì†¡ì Aê°€ ê¸ˆì•¡ xë¥¼ ë³´ìœ í•˜ê³  ìˆê³  xì˜ ì¼ë¶€ yë¥¼ Bì—ê²Œ ë³´ë‚¸ë‹¤ëŠ” ëª…ì œë¥¼ ì‚°ìˆ  íšŒë¡œë¡œ êµ¬ì„± AëŠ” ì…ë ¥ ê¸ˆì•¡ê³¼ ì”ì•¡ì„ ìˆ¨ê¸´ ì±„ ë³´ì¡´ ë²•ì¹™ê³¼ ì„œëª… ìœ íš¨ì„± ì´ì¤‘ ì§€ë¶ˆ ë°©ì§€ ì¡°ê±´ì„ ëª¨ë‘ ë§Œì¡±í•œë‹¤ëŠ” zk ì¦ëª…ì„ ìƒì„± ë¸”ë¡ ì œì•ˆìëŠ” ê±°ë˜ ë³¸ë¬¸ì´ ì•„ë‹ˆë¼ ì¦ëª…ê³¼ ìµœì†Œí•œì˜ ì»¤ë°‹ë¨¼íŠ¸ë§Œ í¬í•¨í•´ ë¸”ë¡ì„ êµ¬ì„± ê²€ì¦ìëŠ” ëª¨ë“  íŠ¸ëœì­ì…˜ì„ ì¬ì—°ì‚°í•˜ì§€ ì•Šê³  ì¦ëª…ë§Œ ê²€ì¦í•´ ìœ íš¨ì„± í™•ì¸ ë„¤íŠ¸ì›Œí¬ ì „ì²´ì˜ ê²€ì¦ ë¹„ìš©ê³¼ ë°ì´í„° ë…¸ì¶œì´ ì¤„ì–´ë“¦ ì£¼ì˜ ì‚¬í•­ê³¼ í•œê³„ PoW\nì—ë„ˆì§€ ë¹„ìš©ê³¼ í™˜ê²½ ë¶€ë‹´ í˜„ì‹¤ì  ê³ ë ¤ í•„ìš” ì •ì±… ë³€í™”ì™€ ì „ë ¥ ì‹œì¥ ë¦¬ìŠ¤í¬ ë°˜ì˜ ì±„êµ´ í’€ ì§‘ì¤‘ ìœ„í—˜ ìˆ˜ìˆ˜ë£Œ ë³€ë™ì„±ê³¼ ìˆ˜ìµ ë¶ˆì•ˆì •ì„±ìœ¼ë¡œ í•´ì‹œ íŒŒì›Œ ê¸‰ë³€ ê°€ëŠ¥ PoS ìŠ¬ë˜ì‹± ìš´ì˜ ë¦¬ìŠ¤í¬ ë„¤íŠ¸ì›Œí¬ ë¶„í•  ì¥ì• ë‚˜ í‚¤ ëˆ„ì¶œ ì‹œ ì†ì‹¤ ë°œìƒ ê°€ëŠ¥ ê¸°ê³„ì  ê°€ìš©ì„±ê³¼ ì´ì¤‘ ì„œëª… ë°©ì§€ ìë™í™” í•„ìˆ˜ ì§€ë¶„ ì§‘ì¤‘ ì™„í™” í•„ìš” ë³´ìƒ ê³¡ì„  ì„¤ê³„ ìœ„ì„ í•œë„ ë¶„ì‚° ì¸ì„¼í‹°ë¸Œ ë„ì… ê³ ë ¤ ZKP êµ¬í˜„ ë‚œë„ ë†’ìŒ íšŒë¡œ ì„¤ê³„ì™€ ì‚°ìˆ í™” ìµœì í™”ì— ê³ ë„ì˜ ì „ë¬¸ì„± ìš”êµ¬ ì‚¬ì†Œí•œ ë³€ê²½ìœ¼ë¡œë„ ë³´ì•ˆ ì„±ì§ˆì´ ê¹¨ì§ˆ ìˆ˜ ìˆìŒ ì‹ ë¢° ì„¤ì • ì´ìŠˆ TTPë¥¼ ìš”êµ¬í•˜ëŠ” ì‹œìŠ¤í…œì€ ì„¤ì • ìë£Œ ìœ ì¶œì— ëŒ€í•œ ìœ„í˜‘ ëª¨ë¸ì„ ëª…í™•í™”í•´ì•¼ í•¨ ë©€í‹° íŒŒí‹° ì„¤ì •ê³¼ íê¸° ì˜ì‹ ê°™ì€ ì ˆì°¨ í•„ìš” ì„±ëŠ¥ ë¹„ìš© ì¦ëª… ìƒì„± ì‹œê°„ì´ ê¸¸ê³  ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ í¼ ì˜¨ì²´ì¸ ê²€ì¦ ê°€ìŠ¤ ë¹„ìš©ê³¼ íŠ¸ë ˆì´ë“œì˜¤í”„ ì¡´ì¬ ê·œì œì™€ í”„ë¼ì´ë²„ì‹œ ì¶©ëŒ ìµëª…ì„± ê¸°ëŠ¥ì€ ê·œì œ ìš”êµ¬ì™€ ì¶©ëŒ ê°€ëŠ¥ ì„ íƒì  ê³µê°œì™€ ê°ì‚¬ ê¶Œí•œ ì„¤ê³„ í•„ìš” ì„¤ê³„ì™€ ìš´ì˜ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìš”êµ¬ì‚¬í•­ ì •ë ¬ ìµœì¢…ì„± ëª©í‘œ ì§€ì—° í—ˆìš©ì¹˜ ì²˜ë¦¬ëŸ‰ê³¼ ë¹„ìš© í•œë„ë¥¼ ìˆ˜ì¹˜ë¡œ ì •ì˜ ë³´ì•ˆ ì˜ˆì‚° ì¶”ì  PoWëŠ” ì „ë ¥ ë‹¨ê°€ì™€ ì¥ë¹„ ê°ê°€ PoSëŠ” ì‹œê°€ì´ì•¡ê³¼ ì—°ê°„ ì¸í”Œë ˆì´ì…˜ì„ ê¸°ë°˜ìœ¼ë¡œ ê²½ì œ ë³´ì•ˆ ì¸¡ì • íŒŒë¼ë¯¸í„° ê±°ë²„ë„ŒìŠ¤ ë‚œì´ë„ ì¡°ì • ê°„ê²© íŒŒì´ë„ë¦¬í‹° ì„ê³„ì¹˜ ìŠ¬ë˜ì‹± íŒŒë¼ë¯¸í„°ë¥¼ ì˜¨ì²´ì¸ ê±°ë²„ë„ŒìŠ¤ ë˜ëŠ” ë³´í˜¸ëœ í”„ë¡œì„¸ìŠ¤ë¡œ ê´€ë¦¬ ë¡¤ë°± ê·œì¹™ ì‚¬ì „ ëª…ì‹œ ê²½ëŸ‰ í´ë¼ì´ì–¸íŠ¸ ìš°ì„  ëˆ„êµ¬ë‚˜ ê²€ì¦ ê°€ëŠ¥í•œ ê²½ëŸ‰ ë…¸ë“œ ê²½ë¡œ ì œê³µ ì²´í¬í¬ì¸íŠ¸ì™€ ZKP ê¸°ë°˜ ë™ê¸°í™” ì˜µì…˜ ê²€í†  í‚¤ ë³´ì•ˆ ëª¨ë¸ ê²€ì¦ì í‚¤ ë‹¤ì¤‘í™” í•˜ë“œì›¨ì–´ ë³´ì•ˆ ëª¨ë“ˆ ì‚¬ìš© ì›ê²© ì„œëª… ë¶„ë¦¬ ê³µìš© ë°±ì—… ì ˆì°¨ ë¬¸ì„œí™” ZKP ë„ì… ì „ëµ íŒŒì¼ëŸ¿ì„ ë ˆì´ì–´2ë‚˜ íŠ¹ì • ìì‚° ìœ í˜•ì— ì ìš© ì¦ëª… ìƒì„± íŒŒì´í”„ë¼ì¸ê³¼ íšŒë¡œ ë²„ì „ ê´€ë¦¬ ìë™ í…ŒìŠ¤íŠ¸ êµ¬ì¶• ê´€ì¸¡ ê°€ëŠ¥ì„± ë©”íŠ¸ë¦­ í•©ì˜ íŒŒë¼ë¯¸í„° ìŠ¬ë˜ì‹± ì´ë²¤íŠ¸ ê³ ì•„ ë¸”ë¡ìœ¨ íŒŒì´ë„ë¦¬í‹° ì§€ì—°ì„ ì§€ì† ìˆ˜ì§‘ ê²½ë³´ ê¸°ì¤€ ìˆ˜ë¦½ ë§ˆë¬´ë¦¬ í•©ì˜ ì•Œê³ ë¦¬ì¦˜ ì„ íƒì€ ê¸°ìˆ  ì·¨í–¥ì´ ì•„ë‹ˆë¼ ì‹œìŠ¤í…œ ëª©í‘œì™€ ì œì•½ì— ëŒ€í•œ ì •ëŸ‰ì  íƒ€í˜‘ì˜ ì‚°ë¬¼ì„ PoWëŠ” ë‹¨ìˆœí•˜ê³  ê°•ì¸í•˜ì§€ë§Œ ì—ë„ˆì§€ ë¹„ìš©ê³¼ ì§€ì—°ì˜ ëŒ€ê°€ê°€ í¼ PoSëŠ” ê³ ì„±ëŠ¥ê³¼ ìœ ì—°ì„±ì„ ì œê³µí•˜ì§€ë§Œ í”„ë¡œí† ì½œ ë³µì¡ë„ì™€ ìš´ì˜ ë¦¬ìŠ¤í¬ë¥¼ ë™ë°˜í•¨ ì˜ì§€ì‹ì¦ëª…ì€ í”„ë¼ì´ë²„ì‹œì™€ ê²€ì¦ ë¹„ìš©ì„ ë™ì‹œì— ë‹¤ë£¨ëŠ” ì‹¤ìš© ë„êµ¬ë¡œ ìë¦¬ì¡ëŠ” ì¤‘ì´ë©° ì‹ ë¢° ì„¤ì •ê³¼ ì„±ëŠ¥ í•œê³„ì— ëŒ€í•œ ê³µí•™ì  í•´ê²°ì´ ë¹ ë¥´ê²Œ ì§„í–‰ë˜ê³  ìˆìŒ í˜„ì‹¤ì ì¸ ì ‘ê·¼ì€ L1 í•©ì˜ëŠ” ë³´ì•ˆì„ ìš°ì„ í•˜ê³  L2ì—ì„œ ZKPë¡œ í™•ì¥ì„±ê³¼ í”„ë¼ì´ë²„ì‹œë¥¼ í™•ë³´í•˜ëŠ” ê³„ì¸µí™” ì„¤ê³„ì„ ëª…í™•í•œ ëª©í‘œ ì§€í‘œ ì„¤ì •ê³¼ íŒŒë¼ë¯¸í„° ê±°ë²„ë„ŒìŠ¤ ìë™í™”ëœ ê²€ì¦ê³¼ ê´€ì¸¡ ê°€ëŠ¥ì„±ì„ ê°–ì¶˜ ìš´ì˜ì´ ì¥ê¸°ì  ì•ˆì •ì„±ì„ ë³´ì¥í•¨\nì°¸ê³ ìë£Œ https://bitcoin.org/bitcoin.pdf https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/ https://arxiv.org/abs/1710.09437 https://zerocash-project.org/media/pdf/zerocash-extended-20140518.pdf https://z.cash/technology/zksnarks/ https://zkproof.org https://vitalik.ca/general/2021/12/06/pos2021.html https://www.lgcns.com/blog/cns-tech/security/29926/ ","permalink":"https://blog.jsontapose.com/posts/blockchain-consensus-algorithms-pow-pos-and-zero-knowledge-proofs-2946e5/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eí¼ë¸”ë¦­ ë¸”ë¡ì²´ì¸ì€ ì¤‘ì•™ ê´€ë¦¬ì ì—†ì´ ë‹¤ìˆ˜ ì°¸ì—¬ìê°€ ê°™ì€ ìƒíƒœë¥¼ ê³µìœ í•´ì•¼ í•¨\nì´ë•Œ ëª¨ë‘ê°€ ë¯¿ì„ ìˆ˜ ìˆëŠ” í•˜ë‚˜ì˜ ê¸°ë¡ì„ ì„ íƒí•˜ëŠ” ê·œì¹™ì´ í•„ìš”í•˜ë©° ì´ë¥¼ í•©ì˜ ì•Œê³ ë¦¬ì¦˜ì´ë¼ ë¶€ë¦„\ní•©ì˜ëŠ” ì„±ëŠ¥ê³¼ ë³´ì•ˆ, íƒˆì¤‘ì•™í™” ì‚¬ì´ì˜ ê· í˜• ë¬¸ì œì´ê¸°ë„ í•¨\nPoWì™€ PoSëŠ” ëŒ€í‘œì  í•©ì˜ ë°©ì‹ì´ë©° ìµœê·¼ì—ëŠ” ì˜ì§€ì‹ì¦ëª… ê°™ì€ ì•”í˜¸ ê¸°ë²•ì´ ê°œì¸ì •ë³´ ë³´í˜¸ì™€ ê²€ì¦ ê°„ì†Œí™”ì— ê²°í•©ë˜ëŠ” ì¶”ì„¸ì„\nì‹¤ë¬´ ê´€ì ì—ì„œ ê° ë°©ì‹ì˜ ì›ë¦¬ì™€ íŠ¸ë ˆì´ë“œì˜¤í”„, ì˜ì§€ì‹ì¦ëª…ê³¼ì˜ ì ‘ì ì„ ì •ë¦¬í•¨\u003c/p\u003e\n\u003ch3 id=\"í•©ì˜ê°€-í•„ìš”í•œ-ì´ìœ ì™€-ê¸°ì¤€\"\u003eí•©ì˜ê°€ í•„ìš”í•œ ì´ìœ ì™€ ê¸°ì¤€\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eì•ˆì „ì„± ì•ˆì „í•˜ê²Œ í•˜ë‚˜ì˜ ì •ë³¸ì„ ê³ ìˆ˜í•˜ê³  ì´ì¤‘ ì§€ë¶ˆ ë“± ë¶ˆë³€ì„± íŒŒê´´ê°€ ë°œìƒí•˜ì§€ ì•ŠìŒ\u003c/li\u003e\n\u003cli\u003eí™œì„± ìƒíƒœ ë„¤íŠ¸ì›Œí¬ ì§€ì—°ì´ë‚˜ ì¼ë¶€ ì¥ì• ê°€ ìˆì–´ë„ ìƒˆ ë¸”ë¡ ìƒì„±ì´ ì§€ì†ë¨\u003c/li\u003e\n\u003cli\u003eìµœì¢…ì„± ì¼ë‹¨ í™•ì •ëœ ê±°ë˜ê°€ ë˜ëŒë ¤ì§€ì§€ ì•ŠìŒ í™•ë¥ ì  ë˜ëŠ” ê²°ì •ì  ìµœì¢…ì„±ìœ¼ë¡œ êµ¬ë¶„ë¨\u003c/li\u003e\n\u003cli\u003eì‹œë¹Œ ë‚´ì„± ê°€ì§œ ì°¸ì—¬ì ëŒ€ëŸ‰ ìƒì„± ê³µê²©ì— ì €í•­í•¨ ê²½ì œì  ë¹„ìš© ë˜ëŠ” ì‹ ì› ê²€ì¦ ê¸°ë°˜ ë©”ì»¤ë‹ˆì¦˜ í•„ìš”\u003c/li\u003e\n\u003cli\u003eì„±ëŠ¥ ì²˜ë¦¬ëŸ‰ê³¼ ì§€ì—° ì‹œê°„ ëª©í‘œë¥¼ ëª…í™•íˆ í•´ì•¼ í•¨ ë¸”ë¡ ê°„ê²©, ë¸”ë¡ í¬ê¸°, ê²€ì¦ ë¹„ìš©ì´ ê´€ê±´\u003c/li\u003e\n\u003cli\u003eíƒˆì¤‘ì•™í™” ê²€ì¦ ì°¸ì—¬ ë¬¸í„±ì„ ë‚®ì¶° ëˆ„êµ¬ë‚˜ ê²€ì¦ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„ ê¶Œì¥ í’€ ì§‘ì¤‘ì´ë‚˜ ì†Œìˆ˜ ì§€ë°°ë¥¼ ì–µì œí•  ìœ ì¸ ì„¤ê³„ í•„ìš”\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"pow-ì‘ì—…ì¦ëª…-í•µì‹¬\"\u003ePoW ì‘ì—…ì¦ëª… í•µì‹¬\u003c/h3\u003e\n\u003cp\u003eì •ì˜ íŠ¹ì • ë‚œì´ë„ì˜ í•´ì‹œ í¼ì¦ì„ í’€ì–´ ë¸”ë¡ ì œì•ˆê¶Œì„ ì–»ëŠ” ë°©ì‹ ì±„êµ´ìê°€ í•´ì‹œ ì—°ì‚°ì„ ë°˜ë³µí•´ ëª©í‘œê°’ ë¯¸ë§Œì˜ í•´ì‹œë¥¼ ì°¾ëŠ” êµ¬ì¡°\nêµ¬ì„± ìš”ì†Œ ë¸”ë¡ í—¤ë” ë‚œì´ë„ ëª©í‘œê°’ ë…¼ìŠ¤ í•´ì‹œ í•¨ìˆ˜ ì‘ì—… ì¦ëª… ê²€ì¦ì€ O(1)ì— ê°€ê¹Œì›€ ì œì•ˆì€ ëŒ€ëŸ‰ ê³„ì‚° í•„ìš”\në‚œì´ë„ ì¡°ì • ë„¤íŠ¸ì›Œí¬ ì „ì²´ í•´ì‹œ íŒŒì›Œ ë³€í™”ë¥¼ ë”°ë¼ ëª©í‘œ ë¸”ë¡ ê°„ê²©ì„ ìœ ì§€í•˜ë„ë¡ ì£¼ê¸°ì  ì¬ì¡°ì • ìˆ˜í–‰\në³´ì•ˆ ëª¨ë¸ ì •ì§í•œ í•´ì‹œ íŒŒì›Œê°€ ê³¼ë°˜ì„ ì°¨ì§€í•˜ë©´ ê¸´ ì‚¬ìŠ¬ì´ ì •ë³¸ì´ ë¨ 51% ê³µê²©ì€ ë‹¤ìˆ˜ í•´ì‹œë ¥ìœ¼ë¡œ ê³¼ê±° ì¼ë¶€ êµ¬ê°„ì„ ì¬ì‘ì„±í•˜ëŠ” ìœ„í˜‘ì„ ì˜ë¯¸\nì¥ì \u003c/p\u003e","title":"ë¸”ë¡ì²´ì¸ í•©ì˜ ì•Œê³ ë¦¬ì¦˜ ê°€ì´ë“œ â€” PoW, PoSì™€ ì˜ì§€ì‹ì¦ëª… í™œìš©"},{"content":"ê°œìš” ì±„êµ´ì€ íŠ¸ëœì­ì…˜ì„ ë¬¶ì–´ ë¸”ë¡ì„ ë§Œë“¤ê³  ë¸”ë¡ì²´ì¸ì— ì¶”ê°€í•˜ëŠ” í–‰ìœ„ì´ì, ë„¤íŠ¸ì›Œí¬ë¥¼ ê³µê²©ìœ¼ë¡œë¶€í„° ë°©ì–´í•˜ëŠ” í•µì‹¬ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì„ ì—­ì‚¬ì ìœ¼ë¡œ ë¹„íŠ¸ì½”ì¸ê³¼ ì´ë”ë¦¬ì›€ì€ ì‘ì—…ì¦ëª… PoW ê¸°ë°˜ ì±„êµ´ì— ì˜ì¡´í•´ í•©ì˜ë¥¼ ìœ ì§€í–ˆìŒ ì´ë”ë¦¬ì›€ì€ 2022ë…„ 9ì›” The Mergeë¡œ ì§€ë¶„ì¦ëª… PoSë¡œ ì „í™˜í•˜ì—¬ ë¸”ë¡ ìƒì„±ì— ì†Œëª¨ë˜ëŠ” ì—ë„ˆì§€ë¥¼ í¬ê²Œ ì¤„ì˜€ê³ , ì§€ê¸ˆì€ ì±„êµ´ ëŒ€ì‹  ê²€ì¦ì ìŠ¤í…Œì´í‚¹ì´ ì‚¬ìš©ë¨ ì•„ë˜ ë‚´ìš©ì€ ì±„êµ´ì´ ì‚¬ìš©ë˜ë˜ ì‹œê¸°ì˜ ê°œë…ê³¼ ë™ì‘ ì›ë¦¬ë¥¼ ì •ë¦¬í•œ ê²ƒìœ¼ë¡œ, PoW ê³„ì—´ ë„¤íŠ¸ì›Œí¬ë‚˜ ì—­ì‚¬ì  ë§¥ë½ì„ ì´í•´í•˜ëŠ” ë° ëª©ì ì´ ìˆìŒ\ní•µì‹¬ ê°œë…ê³¼ ì •ì˜ ë¸”ë¡ì²´ì¸ ì›ì¥ ë„¤íŠ¸ì›Œí¬ ì°¸ì—¬ìê°€ ê³µìœ í•˜ëŠ” ë¶ˆë³€ ê¸°ë¡ ì¥ë¶€ íŠ¸ëœì­ì…˜ ê³„ì • ìƒíƒœë¥¼ ë³€í™”ì‹œí‚¤ëŠ” ìš”ì²­ ë˜ëŠ” ë©”ì‹œì§€ ì±„êµ´ì PoW ë„¤íŠ¸ì›Œí¬ì—ì„œ ë¸”ë¡ì„ ì œì•ˆí•˜ê³  ê²€ì¦í•˜ëŠ” ì£¼ì²´ ì‘ì—…ì¦ëª… PoW íŠ¹ì • í•´ì‹œ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê°’ì„ ì°¾ëŠ” ê³„ì‚°ì„ í†µí•´ ë¸”ë¡ì˜ ì •ë‹¹ì„±ì„ ì¦ëª…í•˜ëŠ” í•©ì˜ ê·œì¹™ ë‚œì´ë„ difficulty í•´ì‹œ ì¡°ê±´ì˜ ì—„ê²©í•¨ì„ ì¡°ì ˆí•˜ëŠ” íŒŒë¼ë¯¸í„°, ë¸”ë¡ ìƒì„± ê°„ê²©ì„ ëª©í‘œì¹˜ë¡œ ìˆ˜ë ´ì‹œí‚¤ëŠ” ì—­í•  ë„ŒìŠ¤ nonce í•´ì‹œ ëª©í‘œë¥¼ ë§Œì¡±í•˜ê¸° ìœ„í•´ ë°˜ë³µì ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê°’ ë©”ëª¨ë¦¬í’€ mempool ë¸”ë¡ì— í¬í•¨ë˜ê¸° ì „ ëŒ€ê¸° ì¤‘ì¸ íŠ¸ëœì­ì…˜ ì§‘í•© ë¸”ë¡ ë³´ìƒ block reward ì±„êµ´ìê°€ ìƒˆ ë¸”ë¡ì„ ìœ íš¨í•˜ê²Œ ì œì•ˆí–ˆì„ ë•Œ ë°›ëŠ” ê¸°ë³¸ ë³´ìƒê³¼ ìˆ˜ìˆ˜ë£Œ ì´í•© ì™œ ì±„êµ´ì´ í•„ìš”í•œê°€ íƒˆì¤‘ì•™ ì‹œìŠ¤í…œì—ì„œëŠ” íŠ¸ëœì­ì…˜ì˜ ìˆœì„œì— ëª¨ë‘ê°€ í•©ì˜í•´ì•¼ ì´ì¤‘ì§€ë¶ˆì„ ë§‰ì„ ìˆ˜ ìˆìŒ ì˜ˆì‹œ Aliceê°€ Bobì—ê²Œ 1 ë‹¨ìœ„ë¥¼ ë³´ë‚´ê³  Bobì´ ê·¸ 1 ë‹¨ìœ„ë¥¼ Charlieì—ê²Œ ë³´ë‚¼ ë•Œ, ìˆœì„œê°€ ë’¤ì„ì´ë©´ Bobì´ ì‹¤ì œ ë³´ìœ í•˜ì§€ ì•Šì€ ê¸ˆì•¡ì„ ì „ì†¡í•˜ë ¤ ì‹œë„í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•¨ ì±„êµ´ìëŠ” ìœ íš¨í•œ íŠ¸ëœì­ì…˜ì„ ëª¨ì•„ ìˆœì„œ ìˆê²Œ ë¸”ë¡ì— ë„£ê³ , ì‘ì—…ì¦ëª…ìœ¼ë¡œ í•´ë‹¹ ë¸”ë¡ì´ ì •ë‹¹í•¨ì„ ì¦ëª…í•¨ PoWì˜ ì„¤ê³„ëŠ” ë‘ ê°€ì§€ ì†ì„±ì„ ê°€ì§ ìƒì„±ì€ ì–´ë µì§€ë§Œ ê²€ì¦ì€ ì‰¬ì›€\nìƒì„± ì–´ë µê²Œ ë§Œë“¤ë©´ ê³µê²©ìê°€ ê³¼ê±°ë¥¼ ë§ˆìŒëŒ€ë¡œ ì¬êµ¬ì„±í•˜ê¸° ì–´ë ¤ì›Œì§ ê²€ì¦ ì‰½ê²Œ ë§Œë“¤ë©´ ëª¨ë“  ë…¸ë“œê°€ ë¹ ë¥´ê²Œ ìœ íš¨ì„± í™•ì¸ì´ ê°€ëŠ¥í•¨ ë™ì‘ ì›ë¦¬ì™€ ì ˆì°¨ PoW ê¸°ë°˜ ë„¤íŠ¸ì›Œí¬ì—ì„œ ì±„êµ´ìê°€ ë¸”ë¡ì„ ë§Œë“œëŠ” ì¼ë°˜ íë¦„ì€ ë‹¤ìŒê³¼ ê°™ìŒ\nì‚¬ìš©ìê°€ ì§€ê°‘ìœ¼ë¡œ íŠ¸ëœì­ì…˜ì— ì„œëª…í•˜ê³  ë„¤íŠ¸ì›Œí¬ì— ë¸Œë¡œë“œìºìŠ¤íŠ¸í•¨ ë…¸ë“œê°€ íŠ¸ëœì­ì…˜ì„ ìˆ˜ì‹ í•´ ë¡œì»¬ ë©”ëª¨ë¦¬í’€ì— ì ì¬í•¨ ì±„êµ´ìê°€ ë©”ëª¨ë¦¬í’€ì—ì„œ ìˆ˜ìˆ˜ë£Œê°€ ìœ ë¦¬í•˜ê³  ìœ íš¨í•œ íŠ¸ëœì­ì…˜ì„ ì„ ë³„í•´ ì„ì‹œ ë¸”ë¡ í›„ë³´ë¥¼ êµ¬ì„±í•¨, ë¸”ë¡ ê°€ìŠ¤ í•œë„ ë‚´ì—ì„œ ìˆ˜ìµ ìµœëŒ€í™” ëª©í‘œ ê° íŠ¸ëœì­ì…˜ì˜ ì„œëª…ê³¼ ì”ê³  ë° ë…¼ë¦¬ì  ì œì•½ì„ ê²€ì¦í•˜ê³ , ë¡œì»¬ ê°€ìƒë¨¸ì‹ ì—ì„œ ì‹¤í–‰í•˜ì—¬ ìƒíƒœ ì „ì´ë¥¼ ì‹œë®¬ë ˆì´ì…˜í•¨ ë¸”ë¡ í—¤ë”ì— í¬í•¨ë  ë¨¸í´ ë£¨íŠ¸, ì´ì „ ë¸”ë¡ í•´ì‹œ, íƒ€ì„ìŠ¤íƒ¬í”„, ë‚œì´ë„, ë„ŒìŠ¤ ë“±ì„ ì¡°ë¦½í•¨ ì±„êµ´ê¸°ê°€ ë„ŒìŠ¤ë¥¼ ë°”ê¿”ê°€ë©° í—¤ë” í•´ì‹œê°€ ëª©í‘œ ë‚œì´ë„ ê¸°ì¤€ ì´í•˜ê°€ ë˜ë„ë¡ ë°˜ë³µ ê³„ì‚°í•¨, ëª©í‘œë¥¼ ë§Œì¡±í•˜ë©´ ìœ íš¨í•œ ì‘ì—…ì¦ëª… ì™„ë£Œ ì±„êµ´ìëŠ” ì°¾ì€ ì¦ëª…ê³¼ í•¨ê»˜ ë¸”ë¡ì„ ì „íŒŒí•¨, í•¨ê»˜ ì „íŒŒë˜ëŠ” ìƒíƒœ ìš”ì•½ì€ ë‹¤ë¥¸ ë…¸ë“œê°€ ê²°ê³¼ë¥¼ ë¹ ë¥´ê²Œ í™•ì¸í•˜ë„ë¡ ë•ëŠ” ìš©ë„ ë‹¤ë¥¸ ë…¸ë“œëŠ” ì¦ëª… ê²€ì¦ í›„ ë¡œì»¬ ì‹¤í–‰ìœ¼ë¡œ ìƒíƒœë¥¼ ì¬í˜„í•´ ì¼ì¹˜ ì—¬ë¶€ í™•ì¸í•¨ ë‹¤ìˆ˜ ë…¸ë“œê°€ ìœ íš¨í•˜ë‹¤ê³  ì¸ì •í•˜ë©´ í•´ë‹¹ ë¸”ë¡ì´ ì²´ì¸ì— ì—°ê²°ë˜ê³  ì´ì „ ë¸”ë¡ ìœ„ì— ìµœì¢…ì„± í™•ë¥ ì´ ìŒ“ì´ê¸° ì‹œì‘í•¨ ë¸”ë¡ì„ ì œì•ˆí•œ ì±„êµ´ìëŠ” ë³´ìƒê³¼ í¬í•¨ëœ íŠ¸ëœì­ì…˜ ìˆ˜ìˆ˜ë£Œë¥¼ ìˆ˜ë ¹í•¨ ë³´ìƒ êµ¬ì¡°ì™€ ì¸ì„¼í‹°ë¸Œ ì±„êµ´ ë³´ìƒì€ í¬ê²Œ ë‘ ë¶€ë¶„ìœ¼ë¡œ êµ¬ì„±ë¨\nê¸°ë³¸ ë³´ìƒ ìƒˆ ë¸”ë¡ ìƒì„± ë³´ìƒ, ë„¤íŠ¸ì›Œí¬ ê·œì¹™ì— ì˜í•´ ì¼ì • ì£¼ê¸°ë¡œ ì¡°ì •ë  ìˆ˜ ìˆìŒ ìˆ˜ìˆ˜ë£Œ ë³´ìƒ ë¸”ë¡ì— í¬í•¨ëœ íŠ¸ëœì­ì…˜ì´ ì§€ë¶ˆí•˜ëŠ” ìˆ˜ìˆ˜ë£Œì˜ í•©ê³„, ìˆ˜ìš”ì™€ í˜¼ì¡ë„ì— ë”°ë¼ ë³€ë™ ì—­ì‚¬ì ìœ¼ë¡œ ì´ë”ë¦¬ì›€ PoWì—ì„œëŠ” ê¸°ë³¸ ë³´ìƒì´ ë„¤íŠ¸ì›Œí¬ ì—…ê·¸ë ˆì´ë“œë¥¼ ê±°ì¹˜ë©° 5 â†’ 3 â†’ 2 ë‹¨ìœ„ë¡œ ì¶•ì†Œëœ ë°” ìˆìŒ, í˜¼ì¡ ì‹œì—ëŠ” ìˆ˜ìˆ˜ë£Œ ë¹„ì¤‘ì´ ì»¤ì ¸ ì±„êµ´ì ìˆ˜ìµì— í° ì˜í–¥ì„ ì¤Œ PoWì˜ ê²½ì œì  ì„¤ê³„ëŠ” ë³´ìƒì„ í†µí•´ ì •ì§í•œ ì°¸ì—¬ë¥¼ ìœ ë„í•˜ê³ , ë†’ì€ ê³„ì‚° ë¹„ìš©ì„ í†µí•´ ì•…ì˜ì  ì¬ì‘ì„± ë¹„ìš©ì„ í¬ê²Œ ë§Œë“¦ ì¦ëª… ìƒì„±ì€ ê³„ì‚°ì ìœ¼ë¡œ ì–´ë µì§€ë§Œ ê²€ì¦ì€ ë§¤ìš° ì‰¬ì›€, ë”°ë¼ì„œ ë„¤íŠ¸ì›Œí¬ ì „ì²´ê°€ ë¹ ë¥´ê²Œ í•©ì˜ ìƒíƒœë¥¼ ê³µìœ í•  ìˆ˜ ìˆìŒ ë¹„ìš© êµ¬ì¡°ì™€ ìˆ˜ìµì„± íŒë‹¨ ì±„êµ´ ìˆ˜ìµì„±ì€ ë‹¨ìˆœ ë³´ìƒ ê·œëª¨ê°€ ì•„ë‹ˆë¼ ì´ë¹„ìš© ëŒ€ë¹„ ìˆœì´ìµìœ¼ë¡œ íŒë‹¨í•¨\ní•˜ë“œì›¨ì–´ ë¹„ìš© GPU ë˜ëŠ” ASIC ì¥ë¹„, ë³´ì¡° ë¶€í’ˆ, ì˜ˆë¹„ ë¶€í’ˆ, ê°ê°€ìƒê° ì „ë ¥ ë¹„ìš© ì†Œë¹„ ì „ë ¥ê³¼ ë‹¨ê°€, ì§€ì—­ë³„ ì „ë ¥ ì •ì±…, í”¼í¬ ìš”ê¸ˆ ìš´ì˜ ë¹„ìš© ëƒ‰ê°ê³¼ í™˜ê¸°, ë¨¼ì§€ ë° ìŠµë„ ëŒ€ì‘, ì „ê¸° ë°°ì„ ê³¼ ì•ˆì •í™” ì¥ì¹˜, ëª¨ë‹ˆí„°ë§ ì‹œìŠ¤í…œ, ê³µê°„ ì„ëŒ€, ìœ ì§€ë³´ìˆ˜ ì¸ë ¥ ë„¤íŠ¸ì›Œí¬ ë‚œì´ë„ì™€ ì½”ì¸ ê°€ê²©, ìˆ˜ìˆ˜ë£Œ ì‹œì¥, ì¥ë¹„ íš¨ìœ¨ì´ ë™ì ìœ¼ë¡œ ìƒí˜¸ì‘ìš©í•˜ê¸° ë•Œë¬¸ì— ì†ìµë¶„ê¸°ì ì€ ìˆ˜ì‹œë¡œ ë³€í•¨ ê°œë³„ ìƒí™© ê°€ì • í›„ ê³„ì‚°ê¸°ë¥¼ í™œìš©í•´ í•´ì‹œë ˆì´íŠ¸, ì „ë ¥ ì†Œëª¨, ì „ê¸°ìš”ê¸ˆ, ë‚œì´ë„, ìˆ˜ìˆ˜ë£Œë¥¼ ë„£ê³  ì¼ì¼ í˜¹ì€ ì›”ê°„ ì˜ˆìƒ ìˆ˜ìµì„ ì¶”ì •í•˜ëŠ” ì ‘ê·¼ ê¶Œì¥ ê°€ê²© ë³€ë™ì„±, ë‚œì´ë„ ì¡°ì •, ì¥ë¹„ ê³ ì¥ë¥ , ê°€ë™ë¥  ì €í•˜, ë„¤íŠ¸ì›Œí¬ ì •ì±… ë³€ê²½ ìœ„í—˜ì„ ë³´ìˆ˜ì ìœ¼ë¡œ ë°˜ì˜í•˜ëŠ” ê²ƒ ì¤‘ìš” ì±„êµ´ ë°©ì‹ ë¹„êµ CPU ì±„êµ´ ì´ˆê¸°ì—ëŠ” ê°€ëŠ¥í–ˆìœ¼ë‚˜ í˜„ì¬ëŠ” ì—°ì‚° ë°€ë„ê°€ ë‚®ì•„ ê²½ì œì„± ë¶€ì¡± GPU ì±„êµ´ ë²”ìš©ì„±ê³¼ ë³‘ë ¬ì„± í™•ë³´, ì—¬ëŸ¬ ì¥ì„ ë¦¬ê·¸ë¡œ êµ¬ì„±í•´ í™•ì¥ ê°€ëŠ¥, ì‹œì¥ ìœ í†µì„±ê³¼ ì¤‘ê³  ì²˜ë¶„ ìš©ì´ì„±ì´ ì¥ì ì´ë‚˜ ì „ë ¥ íš¨ìœ¨ì€ ASIC ëŒ€ë¹„ ë¶ˆë¦¬ ASIC ì±„êµ´ íŠ¹ì • ì•Œê³ ë¦¬ì¦˜ ì „ìš© ì„¤ê³„ë¡œ ë†’ì€ í•´ì‹œë‹¹ ì „ë ¥ íš¨ìœ¨ ì œê³µ, ë‹¤ë§Œ ì´ˆê¸° íˆ¬ìë¹„ í¬ê³  ì•Œê³ ë¦¬ì¦˜ í˜¹ì€ ì‹œì¥ ë³€í™”ì— ì·¨ì•½, ì„¸ëŒ€ êµì²´ ì£¼ê¸°ê°€ ì§§ì•„ ê°ê°€ìƒê° ë¦¬ìŠ¤í¬ í¼ í´ë¼ìš°ë“œ ì±„êµ´ í•˜ë“œì›¨ì–´ ì—†ì´ í•´ì‹œë ˆì´íŠ¸ ì„ëŒ€, ì´ˆê¸° ë¹„ìš©ê³¼ ìš´ì˜ ë¶€ë‹´ ê°ì†Œ ì¥ì ì´ ìˆìœ¼ë‚˜ ê³„ì•½ ë¶ˆíˆ¬ëª…ì„±, ìˆ˜ìµ ë¶„ë°° êµ¬ì¡°, ì»¤ìŠ¤í„°ë”” ë¦¬ìŠ¤í¬ì— ê°ë³„í•œ ì£¼ì˜ í•„ìš” ì±„êµ´ í’€ì˜ ì—­í• ê³¼ êµ¬ì¡° ê°œì¸ì´ ë‹¨ë…ìœ¼ë¡œ ë¸”ë¡ì„ ì°¾ì„ í™•ë¥ ì€ ë§¤ìš° ë‚®ìŒ, í’€ì€ ì°¸ì—¬ìì˜ í•´ì‹œ íŒŒì›Œë¥¼ ëª¨ì•„ ë³€ë™ì„±ì„ ì¤„ì´ê³  ë³´ë‹¤ ìì£¼ ë³´ìƒì„ íšë“í•˜ë„ë¡ í•¨ í’€ ë³´ìƒ ë¶„ë°°ëŠ” ê¸°ì—¬ë„ ê¸°ë°˜ìœ¼ë¡œ ìˆ˜í–‰ë˜ë©° PPS, PPLNS ë“± ë‹¤ì–‘í•œ ì •ì‚° ë°©ì‹ ì¡´ì¬, ê° ë°©ì‹ì˜ ë¦¬ìŠ¤í¬ì™€ ë³€ë™ì„± íŠ¹ì„± ìƒì´í•¨ í’€ ì„ íƒ ì‹œ ê³ ë ¤ ìš”ì†Œ ìš´ì˜ íˆ¬ëª…ì„±, ìˆ˜ìˆ˜ë£Œìœ¨, ì§€ì—°ì‹œê°„, ì„œë²„ ìœ„ì¹˜ì™€ í’ˆì§ˆ, ìµœì†Œ ì¶œê¸ˆ í•œë„, ë³´ì•ˆ ê³µì§€ ëŒ€ì‘ë ¥, íƒˆì¤‘ì•™ì„±ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ í’€ ì§‘ì¤‘í™”ëŠ” ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆì— ë¶€ì •ì ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë‹¨ì¼ í’€ì´ ê³¼ë„í•œ ë¹„ì¤‘ì„ ì°¨ì§€í•˜ëŠ” ìƒí™©ì€ ê²½ê³„ í•„ìš”\në³´ì•ˆê³¼ í•œê³„, ìš´ì˜ìƒì˜ ë² ìŠ¤íŠ¸í”„ë™í‹°ìŠ¤ ì „ë ¥ê³¼ ì—´ ê´€ë¦¬ ê³¼ë¶€í•˜ ì°¨ë‹¨ê¸°ì™€ ë¶„ì‚° ë°°ì „, í•­ì˜¨í•­ìŠµê³¼ ì ì ˆí•œ ë°°ê¸° ê²½ë¡œ ì„¤ê³„, í™”ì¬ ê°ì‹œ ì‹œìŠ¤í…œ êµ¬ì¶• íŒì›¨ì–´ì™€ ë“œë¼ì´ë²„ ì‹ ë¢° ê°€ëŠ¥í•œ ì†ŒìŠ¤ë§Œ ì‚¬ìš©, ìë™ ì—…ë°ì´íŠ¸ ë¹„í™œì„± í›„ ê²€ì¦ ë°°í¬, ì„¤ì • ë°±ì—… ìœ ì§€ ë¬¼ë¦¬ ë³´ì•ˆ ì¥ë¹„ ì ê¸ˆê³¼ ì¶œì… í†µì œ, ì›ê²© ì „ì› ì°¨ë‹¨ ì¥ì¹˜ ì¤€ë¹„, ì˜ìƒê³¼ í™˜ê²½ ì„¼ì„œ ëª¨ë‹ˆí„°ë§ í’€ ë° ì§€ê°‘ ë³´ì•ˆ ì¶œê¸ˆ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸, ë‹¤ì¤‘ì„œëª… í˜¹ì€ í•˜ë“œì›¨ì–´ ì›”ë › ì‚¬ìš©, í’€ API í† í° ë³´í˜¸ ì¬ë¬´ ê´€ë¦¬ ë³€ë™ì„± í—¤ì§€ ì „ëµ, ì •ê¸°ì ì¸ ì†ìµ ë¶„ì„, ê°ê°€ìƒê°ê³¼ í˜„ê¸ˆ íë¦„ ê´€ë¦¬ ê·œì œì™€ í™˜ê²½ ê³ ë ¤ ì§€ì—­ ê·œì œ ì¤€ìˆ˜, ì†ŒìŒ ê·œì œ ëŒ€ì‘, ì¬ìƒì—ë„ˆì§€ ì‚¬ìš© ê²€í† , ì „ë ¥ ê³„ì•½ í•©ë²•ì„± í™•ì¸ PoWëŠ” ë†’ì€ ì—ë„ˆì§€ ë¹„ìš©ê³¼ ì¥ë¹„ ìë³¸ ì§‘ì•½ì´ë¼ëŠ” êµ¬ì¡°ì  í•œê³„ë¥¼ ê°€ì§, ë°˜ë©´ ê³µê²© ë¹„ìš©ì„ ë†’ì—¬ ë³´ì•ˆì„ í™•ë³´í•œë‹¤ëŠ” ì¥ì  ì¡´ì¬ ê°„ë‹¨ ì˜ˆì‹œë¡œ ë³´ëŠ” í•©ì˜ì™€ ìˆœì„œ ë³´ì¥ ìˆœì„œ1 Alice â†’ Bob 1 ë‹¨ìœ„ ì „ì†¡ ìš”ì²­ ìƒì„± ë° ì„œëª… ìˆœì„œ2 ë„¤íŠ¸ì›Œí¬ì— ì „íŒŒë˜ì–´ ë©”ëª¨ë¦¬í’€ì— ëŒ€ê¸° ìˆœì„œ3 ì±„êµ´ìê°€ ìœ íš¨ì„±ì„ í™•ì¸í•˜ê³  ë¸”ë¡ í›„ë³´ì— í¬í•¨ ìˆœì„œ4 ì±„êµ´ìê°€ ìœ íš¨í•œ ì‘ì—…ì¦ëª…ì„ ë¨¼ì € ì°¾ìœ¼ë©´ ë¸”ë¡ ì „íŒŒ ìˆœì„œ5 ë‹¤ë¥¸ ë…¸ë“œê°€ ë¹ ë¥´ê²Œ ê²€ì¦ í›„ ì±„íƒ, ì „ ì„¸ê³„ê°€ ë™ì¼í•œ ìˆœì„œë¡œ ìƒíƒœë¥¼ ê°±ì‹  ì´ íë¦„ì´ ë°˜ë³µë˜ë©° ì´ì¤‘ì§€ë¶ˆ ì‹œë„ê°€ ìì—°ìŠ¤ëŸ½ê²Œ ë°°ì œë¨, ì˜ëª»ëœ ìˆœì„œë‚˜ ì”ê³  ë¶€ì¡± ìš”ì²­ì€ ìœ íš¨ì„± ê²€ì¦ì—ì„œ íƒˆë½í•¨ ì´ë”ë¦¬ì›€ ì „í™˜ ì‚¬ë¡€ì—ì„œ ì–»ëŠ” ì‹œì‚¬ì  ì´ë”ë¦¬ì›€ì€ PoWì—ì„œ PoSë¡œ ì „í™˜í•˜ë©° ì—ë„ˆì§€ ì†Œë¹„ë¥¼ ëŒ€í­ ê°ì†Œì‹œí‚¤ê³  ì±„êµ´ ê²½ì œí•™ì—ì„œ ìŠ¤í…Œì´í‚¹ ê²½ì œí•™ìœ¼ë¡œ ë¬´ê²Œì¤‘ì‹¬ì„ ì´ë™ì‹œì¼°ìŒ PoW ì±„êµ´ì˜ ê°œë…ê³¼ ì ˆì°¨ëŠ” ì—¬ì „íˆ ìœ íš¨í•œ í•™ìŠµ ì£¼ì œì´ë©°, PoW ë„¤íŠ¸ì›Œí¬ ìš´ì˜ê³¼ ë³´ì•ˆ ëª¨ë¸ ì´í•´ì— í•µì‹¬ì ì„ ë„¤íŠ¸ì›Œí¬ ì„¤ê³„ëŠ” ê¸°ìˆ ê³¼ ê²½ì œ ì¸ì„¼í‹°ë¸Œì˜ ê· í˜• ìœ„ì— ì„œë©°, ë³´ìƒ êµ¬ì¡°ì™€ ë¹„ìš© êµ¬ì¡°ë¥¼ í•¨ê»˜ ì„¤ê³„í•´ì•¼ ì§€ì† ê°€ëŠ¥ì„±ì´ í™•ë³´ë¨\në§ˆë¬´ë¦¬ ì±„êµ´ì€ ë¸”ë¡ì„ ë§Œë“œëŠ” ìƒì‚° í–‰ìœ„ì´ì í•©ì˜ë¥¼ ë¬¼ë¦¬ì ìœ¼ë¡œ ê³ ì •í•˜ëŠ” ë³´ì•ˆ ì¥ì¹˜ì„ ë™ì‘ ì›ë¦¬ë¥¼ ì´í•´í•˜ë©´ íŠ¸ëœì­ì…˜ ìˆœì„œ ë³´ì¥, ì´ì¤‘ì§€ë¶ˆ ë°©ì§€, ê²½ì œ ì¸ì„¼í‹°ë¸Œ ì„¤ê³„ë¥¼ í•˜ë‚˜ì˜ ì²´ê³„ë¡œ ì—°ê²°í•´ ë³¼ ìˆ˜ ìˆìŒ ì‹¤ì œ íˆ¬ìë‚˜ ìš´ì˜ì„ ê³ ë ¤í•œë‹¤ë©´ ì „ë ¥ ë‹¨ê°€, ì¥ë¹„ íš¨ìœ¨, ë‚œì´ë„, ìˆ˜ìˆ˜ë£Œ ì‹œì¥, ê·œì œ ë¦¬ìŠ¤í¬ë¥¼ ë³´ìˆ˜ì ìœ¼ë¡œ í‰ê°€í•˜ê³ , í’€ ì„ íƒê³¼ ë³´ì•ˆ ìš´ìš©ì— í‘œì¤€ ì ˆì°¨ë¥¼ ê°–ì¶”ëŠ” ê²ƒì´ ìš°ì„ ì„ PoWì™€ PoSì˜ ì°¨ì´ë¥¼ ë¹„êµí•´ ê° ë„¤íŠ¸ì›Œí¬ì˜ ë³´ì•ˆ ê°€ì •ì„ ëª…í™•íˆ ì´í•´í•˜ëŠ” íƒœë„ê°€ ì¤‘ìš”í•¨\nì°¸ê³ ìë£Œ https://ethereum.org/en/developers/docs/consensus-mechanisms/pow/mining/ https://ethereum.org/en/roadmap/merge/ https://en.wikipedia.org/wiki/Double-spending https://etherscan.io/ether-mining-calculator https://www.fidelity.com/learning-center/trading-investing/crypto/what-is-mining ","permalink":"https://blog.jsontapose.com/posts/blockchain-mining-explained-pow-rewards-ethereum-merge-1c487a/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eì±„êµ´ì€ íŠ¸ëœì­ì…˜ì„ ë¬¶ì–´ ë¸”ë¡ì„ ë§Œë“¤ê³  ë¸”ë¡ì²´ì¸ì— ì¶”ê°€í•˜ëŠ” í–‰ìœ„ì´ì, ë„¤íŠ¸ì›Œí¬ë¥¼ ê³µê²©ìœ¼ë¡œë¶€í„° ë°©ì–´í•˜ëŠ” í•µì‹¬ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ì„\nì—­ì‚¬ì ìœ¼ë¡œ ë¹„íŠ¸ì½”ì¸ê³¼ ì´ë”ë¦¬ì›€ì€ ì‘ì—…ì¦ëª… PoW ê¸°ë°˜ ì±„êµ´ì— ì˜ì¡´í•´ í•©ì˜ë¥¼ ìœ ì§€í–ˆìŒ\nì´ë”ë¦¬ì›€ì€ 2022ë…„ 9ì›” The Mergeë¡œ ì§€ë¶„ì¦ëª… PoSë¡œ ì „í™˜í•˜ì—¬ ë¸”ë¡ ìƒì„±ì— ì†Œëª¨ë˜ëŠ” ì—ë„ˆì§€ë¥¼ í¬ê²Œ ì¤„ì˜€ê³ , ì§€ê¸ˆì€ ì±„êµ´ ëŒ€ì‹  ê²€ì¦ì ìŠ¤í…Œì´í‚¹ì´ ì‚¬ìš©ë¨\nì•„ë˜ ë‚´ìš©ì€ ì±„êµ´ì´ ì‚¬ìš©ë˜ë˜ ì‹œê¸°ì˜ ê°œë…ê³¼ ë™ì‘ ì›ë¦¬ë¥¼ ì •ë¦¬í•œ ê²ƒìœ¼ë¡œ, PoW ê³„ì—´ ë„¤íŠ¸ì›Œí¬ë‚˜ ì—­ì‚¬ì  ë§¥ë½ì„ ì´í•´í•˜ëŠ” ë° ëª©ì ì´ ìˆìŒ\u003c/p\u003e\n\u003ch3 id=\"í•µì‹¬-ê°œë…ê³¼-ì •ì˜\"\u003eí•µì‹¬ ê°œë…ê³¼ ì •ì˜\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eë¸”ë¡ì²´ì¸ ì›ì¥ ë„¤íŠ¸ì›Œí¬ ì°¸ì—¬ìê°€ ê³µìœ í•˜ëŠ” ë¶ˆë³€ ê¸°ë¡ ì¥ë¶€\u003c/li\u003e\n\u003cli\u003eíŠ¸ëœì­ì…˜ ê³„ì • ìƒíƒœë¥¼ ë³€í™”ì‹œí‚¤ëŠ” ìš”ì²­ ë˜ëŠ” ë©”ì‹œì§€\u003c/li\u003e\n\u003cli\u003eì±„êµ´ì PoW ë„¤íŠ¸ì›Œí¬ì—ì„œ ë¸”ë¡ì„ ì œì•ˆí•˜ê³  ê²€ì¦í•˜ëŠ” ì£¼ì²´\u003c/li\u003e\n\u003cli\u003eì‘ì—…ì¦ëª… PoW íŠ¹ì • í•´ì‹œ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ê°’ì„ ì°¾ëŠ” ê³„ì‚°ì„ í†µí•´ ë¸”ë¡ì˜ ì •ë‹¹ì„±ì„ ì¦ëª…í•˜ëŠ” í•©ì˜ ê·œì¹™\u003c/li\u003e\n\u003cli\u003eë‚œì´ë„ difficulty í•´ì‹œ ì¡°ê±´ì˜ ì—„ê²©í•¨ì„ ì¡°ì ˆí•˜ëŠ” íŒŒë¼ë¯¸í„°, ë¸”ë¡ ìƒì„± ê°„ê²©ì„ ëª©í‘œì¹˜ë¡œ ìˆ˜ë ´ì‹œí‚¤ëŠ” ì—­í• \u003c/li\u003e\n\u003cli\u003eë„ŒìŠ¤ nonce í•´ì‹œ ëª©í‘œë¥¼ ë§Œì¡±í•˜ê¸° ìœ„í•´ ë°˜ë³µì ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ê°’\u003c/li\u003e\n\u003cli\u003eë©”ëª¨ë¦¬í’€ mempool ë¸”ë¡ì— í¬í•¨ë˜ê¸° ì „ ëŒ€ê¸° ì¤‘ì¸ íŠ¸ëœì­ì…˜ ì§‘í•©\u003c/li\u003e\n\u003cli\u003eë¸”ë¡ ë³´ìƒ block reward ì±„êµ´ìê°€ ìƒˆ ë¸”ë¡ì„ ìœ íš¨í•˜ê²Œ ì œì•ˆí–ˆì„ ë•Œ ë°›ëŠ” ê¸°ë³¸ ë³´ìƒê³¼ ìˆ˜ìˆ˜ë£Œ ì´í•©\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"ì™œ-ì±„êµ´ì´-í•„ìš”í•œê°€\"\u003eì™œ ì±„êµ´ì´ í•„ìš”í•œê°€\u003c/h3\u003e\n\u003cp\u003eíƒˆì¤‘ì•™ ì‹œìŠ¤í…œì—ì„œëŠ” íŠ¸ëœì­ì…˜ì˜ ìˆœì„œì— ëª¨ë‘ê°€ í•©ì˜í•´ì•¼ ì´ì¤‘ì§€ë¶ˆì„ ë§‰ì„ ìˆ˜ ìˆìŒ\nì˜ˆì‹œ Aliceê°€ Bobì—ê²Œ 1 ë‹¨ìœ„ë¥¼ ë³´ë‚´ê³  Bobì´ ê·¸ 1 ë‹¨ìœ„ë¥¼ Charlieì—ê²Œ ë³´ë‚¼ ë•Œ, ìˆœì„œê°€ ë’¤ì„ì´ë©´ Bobì´ ì‹¤ì œ ë³´ìœ í•˜ì§€ ì•Šì€ ê¸ˆì•¡ì„ ì „ì†¡í•˜ë ¤ ì‹œë„í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí•¨\nì±„êµ´ìëŠ” ìœ íš¨í•œ íŠ¸ëœì­ì…˜ì„ ëª¨ì•„ ìˆœì„œ ìˆê²Œ ë¸”ë¡ì— ë„£ê³ , ì‘ì—…ì¦ëª…ìœ¼ë¡œ í•´ë‹¹ ë¸”ë¡ì´ ì •ë‹¹í•¨ì„ ì¦ëª…í•¨\nPoWì˜ ì„¤ê³„ëŠ” ë‘ ê°€ì§€ ì†ì„±ì„ ê°€ì§ ìƒì„±ì€ ì–´ë µì§€ë§Œ ê²€ì¦ì€ ì‰¬ì›€\u003c/p\u003e","title":"ë¸”ë¡ì²´ì¸ ì±„êµ´ ê°œë…ê³¼ ë™ì‘ ì›ë¦¬ PoW ë³´ìƒ êµ¬ì¡° ì´ë”ë¦¬ì›€ ì „í™˜ ì‚¬ë¡€"},{"content":"ê°œìš” AbstractëŠ” ì´ë”ë¦¬ì›€ ë³´ì•ˆì„ ìƒì†í•˜ëŠ” ZK Rollup ê¸°ë°˜ L2 ì²´ì¸ìœ¼ë¡œ, ê³ ë¹„ìš©Â·ì €ì²˜ë¦¬ëŸ‰ í•œê³„ë¥¼ ì™„í™”í•˜ëŠ” í™•ì¥ ì¸µ ì œê³µ ëª©í‘œ ZK Stackìœ¼ë¡œ êµ¬ì¶•ë˜ì–´ ì²´ì¸ ê°œë°œê³¼ ìš´ì˜ êµ¬ì„± ìš”ì†Œë¥¼ ëª¨ë“ˆí™”í•˜ê³ , ë°ì´í„° ê°€ìš©ì„±ì€ EIP-4844 ë¸”ë¡­ì„ í™œìš©í•´ ë¹„ìš©ì„ ì ˆê°í•˜ëŠ” ë°©í–¥ ì¶”êµ¬ í•µì‹¬ ì°¨ë³„ì ì€ ë„¤ì´í‹°ë¸Œ ê³„ì • ì¶”ìƒí™” ê¸°ë°˜ì˜ íŠ¸ëœì­ì…˜ ìˆ˜ëª…ì£¼ê¸°ì™€ ê¸€ë¡œë²Œ ì§€ê°‘ ë ˆì´ì–´ë¥¼ í†µí•œ ì‚¬ìš©ì ì˜¨ë³´ë”© ê°„ì†Œí™”ì— ìˆìŒ\në°°ê²½ê³¼ ëª©ì  ì´ë”ë¦¬ì›€ ë©”ì¸ë„·ì˜ ì²˜ë¦¬ëŸ‰ì€ ëŒ€ëµ ì´ˆë‹¹ ìˆ˜ì‹­ ê±´ ìˆ˜ì¤€ì´ë©°, ìˆ˜ìˆ˜ë£Œ ë³€ë™ì„±ë„ í¼ ì €ê°€ì¹˜ ëŒ€ëŸ‰ íŠ¸ëœì­ì…˜ì„ ì§ì ‘ L1ì—ì„œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ ë¹„í˜„ì‹¤ì  L2ì˜ ëª©í‘œëŠ” íƒˆì¤‘ì•™ì„±ê³¼ ë³´ì•ˆì„ ìœ ì§€í•˜ë©´ì„œ ì²˜ë¦¬ëŸ‰ê³¼ ë¹„ìš© íš¨ìœ¨ì„ ë™ì‹œì— ê°œì„ í•˜ëŠ” ê²ƒ ZK Rollupì€ ìœ íš¨ì„± ì¦ëª…ì„ í†µí•´ ìƒíƒœ ì „ì´ë¥¼ ì••ì¶•Â·ê²€ì¦í•˜ì—¬ ì˜¨ì²´ì¸ ë°ì´í„° ìš”êµ¬ëŸ‰ê³¼ í™•ì • ì‹œê°„ì„ ì¤„ì´ëŠ” í™•ì¥ ê²½ë¡œ ì œê³µ\ní•µì‹¬ ê°œë… Layer 2\nL1ì˜ í•©ì˜ì™€ ë³´ì•ˆì„ ìƒì†ë°›ì•„ íŠ¸ëœì­ì…˜ì„ ì˜¤í”„ì²´ì¸ì—ì„œ ì²˜ë¦¬í•œ í›„ ì••ì¶•ëœ ì¦ê±°ë¥¼ L1ì— ì œì¶œí•˜ëŠ” í™•ì¥ ê³„ì¸µ ëª©í‘œëŠ” ê°€ìŠ¤ ë¹„ìš© ì ˆê°, TPS ì¦ê°€, ë¹ ë¥¸ ìµœì¢…ì„± í™•ë³´ ZK Rollup\níŠ¸ëœì­ì…˜ ë°°ì¹˜ë¥¼ ì‹¤í–‰í•œ ê²°ê³¼ê°€ ì˜¬ë°”ë¦„ì„ ì¦ëª…í•˜ëŠ” ìœ íš¨ì„± ì¦ëª… ì œì¶œ ë°©ì‹ ëª¨ë“  ì›ì‹œ íŠ¸ëœì­ì…˜ ë°ì´í„°ë¥¼ L1ì— ê²Œì‹œí•˜ì§€ ì•Šê³  ìƒíƒœ ë³€í™”ì˜ ìœ íš¨ì„±ë§Œ ì¦ëª…í•˜ì—¬ í™•ì • ê°€ëŠ¥ Optimistic Rollup ëŒ€ë¹„ ì‚¬í›„ ë¶„ìŸ ìœˆë„ìš° ê°ì†Œ, ë¹ ë¥¸ í™•ì •ì„± ê¸°ëŒ€ ZK Stack\nZK Rollupì„ êµ¬ì„±í•˜ê¸° ìœ„í•œ ì˜¤í”ˆ í”„ë ˆì„ì›Œí¬ ì‹œí€€ì„œ, ì¦ëª…ê¸°, ê²€ì¦ ê³„ì•½, ë°ì´í„° ê°€ìš©ì„±, ë¸Œë¦¬ì§• ë“± êµ¬ì„±ìš”ì†Œë¥¼ ëª¨ë“ˆ ë‹¨ìœ„ë¡œ ì¡°ë¦½í•˜ëŠ” ì„¤ê³„ ì§€í–¥ ë°ì´í„° ê°€ìš©ì„±ê³¼ EIP-4844\nìƒíƒœ ì°¨ì´ì™€ ë°°ì¹˜ ê´€ë ¨ ë°ì´í„°ë¥¼ ë¸”ë¡­ í˜•íƒœë¡œ ê²Œì‹œí•˜ì—¬ ë¹„ìš© íš¨ìœ¨ì„ ë†’ì´ëŠ” ì „ëµ ë¸”ë¡­ ë°ì´í„°ëŠ” ì¼ì • ê¸°ê°„ ë³´ì¡´ë˜ë©°, ê²€ì¦ê³¼ ì¬êµ¬ì„±ì— í•„ìš”í•œ ìµœì†Œ ìš”ê±´ ì¶©ì¡±ì„ ëª©í‘œ ë™ì‘ ì›ë¦¬ì™€ êµ¬ì¡° íŠ¸ëœì­ì…˜ ìˆ˜ëª…ì£¼ê¸° ê°œìš” ì‚¬ìš©ìê°€ JSON-RPCë¥¼ í†µí•´ L2 ë„¤íŠ¸ì›Œí¬ë¡œ íŠ¸ëœì­ì…˜ ì œì¶œ, ë©¤í’€ ì ì¬ ì‹œí€€ì„œê°€ íŠ¸ëœì­ì…˜ì„ ì‹¤í–‰í•´ ë¸”ë¡í™” í›„ ë°°ì¹˜ ìƒì„± ì‚¬ìš©ìì—ê²Œ ì¦‰ì‹œ ì‹¤í–‰ ì‘ë‹µ ë°˜í™˜ ê°€ëŠ¥, ìµœì¢…ì„±ì€ L1 ì»¤ë°‹Â·ê²€ì¦ í›„ í™•ë³´ ë°°ì¹˜ê°€ L1ë¡œ ì „ì†¡ë˜ì–´ ë°ì´í„° ê°€ìš©ì„± ë³´ì¥ ìƒíƒœë¡œ ì»¤ë°‹ë¨ ZK ì¦ëª…ì´ ìƒì„±ë˜ì–´ L1 ê²€ì¦ ê³„ì•½ì—ì„œ í™•ì¸ë¨ ê²€ì¦ ì™„ë£Œ í›„ ë°°ì¹˜ ì‹¤í–‰ í™•ì •, ìƒíƒœ ë£¨íŠ¸ì™€ ë¡œê·¸ê°€ ì˜¨ì²´ì¸ ê¸°ì¤€ìœ¼ë¡œ ê³ ì • L1 ìƒí˜¸ì‘ìš© ë‹¨ê³„ ì»¤ë°‹ ë‹¨ê³„\nì‹œí€€ì„œê°€ L1 ë¡¤ì—… ì»¨íŠ¸ë™íŠ¸ì— ë°°ì¹˜ ì»¤ë°‹ í˜¸ì¶œ ìˆ˜í–‰ EIP-4844 ë¸”ë¡­ì„ í†µí•´ ìƒíƒœ ì°¨ì´ ë“± í•„ìš”í•œ ë°ì´í„°ì˜ ê°€ìš©ì„± ë³´ì¥ ì¦ëª… ë‹¨ê³„\në°°ì¹˜ ì‹¤í–‰ì˜ ìœ íš¨ì„±ì„ ZK ì¦ëª…ìœ¼ë¡œ ìƒì„±í•˜ì—¬ L1ì— ì œì¶œ ê²€ì¦ ê³„ì•½ì´ ì¦ëª…ì„ í™•ì¸í•˜ì—¬ ìƒíƒœ ì „ì´ì˜ ì •ë‹¹ì„± í™•ë¦½ ì‹¤í–‰ ë‹¨ê³„\nê²€ì¦ ì™„ë£Œ ì¦‰ì‹œ ë°°ì¹˜ê°€ í™•ì • ì²˜ë¦¬ë˜ë©°, L2 ë¡œê·¸ë¥¼ í¬í•¨í•œ ë¨¸í´ êµ¬ì¡°ê°€ ì €ì¥ë¨ êµ¬ì„± ìš”ì†Œ Sequencer ê³„ì¸µ\nRPC ì„œë¹„ìŠ¤: íŠ¸ëœì­ì…˜ ì œì¶œ, ìƒíƒœ ì¡°íšŒ ë“± API ì œê³µ Sequencer: íŠ¸ëœì­ì…˜ ì •ë ¬Â·ì‹¤í–‰Â·ë¸”ë¡í™”, ê²€ì¦ ì œì•½ì„ ì¤€ìˆ˜í•˜ëŠ” ì‹¤í–‰ íŒŒì´í”„ë¼ì¸ ìœ ì§€ L1 ì—°ë™ ì˜¤í¼ë ˆì´í„°: ì…ê¸ˆ, ì—…ê·¸ë ˆì´ë“œ ë“± L1 ì´ë²¤íŠ¸ ë™ê¸°í™” ë° ë°°ì¹˜ ì»¤ë°‹ ì „ì†¡ ì—­í•  Prover \u0026amp; Verifier íŒŒì´í”„ë¼ì¸\nì¦ì¸ ìƒì„± ë‹¨ê³„: ê±°ë˜ ì„¸ë¶€ ê³µê°œ ì—†ì´ ìœ íš¨í•¨ì„ ì…ì¦í•˜ê¸° ìœ„í•œ ë°ì´í„° êµ¬ì„± íšŒë¡œ ì‹¤í–‰ ë‹¨ê³„: VM ì‹¤í–‰ì˜ ì •í•©ì„±ì„ ê²€ì¦í•˜ëŠ” íšŒë¡œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì¦ëª… ìƒì„± ë° ê²€ì¦ ìˆ˜í–‰ ì—°ì‚° ì½”ë“œ, ìŠ¤í† ë¦¬ì§€ ìƒí˜¸ì‘ìš©, ì‚¬ì „ì»´íŒŒì¼ í†µí•© ë“±ì„ í¬í•¨í•˜ëŠ” ì‹¤í–‰ ì •í•©ì„± ë³´ì¥ ëª©í‘œ ë°°ì¹˜ ì „ì²´ë¥¼ ìˆœíšŒí•˜ë©° ìµœì¢… ìƒíƒœ ë£¨íŠ¸ê¹Œì§€ì˜ ì—…ë°ì´íŠ¸ ì¼ê´€ì„± í™•ì¸ ì¦ëª… ì••ì¶• ë‹¨ê³„: L2ì—ì„œ ìƒì„±ëœ í° STARKë¥˜ ì¦ëª…ì„ ì†Œí˜• SNARKë¥˜ë¡œ ì••ì¶•í•˜ì—¬ L1 ê²€ì¦ ë¹„ìš© ì ˆê° L1 Rollup Contracts\në¸”ë¡­ì„ ì‚¬ìš©í•´ ìƒíƒœ ì°¨ì´ì™€ ì••ì¶•ëœ ë°”ì´íŠ¸ì½”ë“œ ì €ì¥ ìœ íš¨ì„± ì¦ëª… ìˆ˜ì‹ Â·ê²€ì¦ L1â†”L2 ë©”ì‹œì§•ê³¼ ë¸Œë¦¬ì§• ì§€ì› ë„¤ì´í‹°ë¸Œ ê³„ì • ì¶”ìƒí™” Abstractì˜ ëª¨ë“  ê³„ì •ì€ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ê³„ì •ìœ¼ë¡œ ë™ì‘í•˜ë©° ë™ì¼í•œ íŠ¸ëœì­ì…˜ ìˆ˜ëª…ì£¼ê¸° ì¤€ìˆ˜ EOAì™€ CA ì´ì›í™” ëŒ€ì‹  IAccount ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜ì˜ ë‹¨ì¼ ëª¨ë¸ ì ìš© EOA ì§€ê°‘ìœ¼ë¡œ ì„œëª…í•´ë„ ì‹¤í–‰ ê²½ë¡œì—ì„œëŠ” ê¸°ë³¸ ê³„ì • êµ¬í˜„ì²´ë¡œ ë³€í™˜ë˜ì–´ ì²˜ë¦¬ë¨ ê°€ìŠ¤ ì§€ë¶ˆì€ ë³¸ì¸ ë˜ëŠ” í˜ì´ë§ˆìŠ¤í„°ë¥¼ í†µí•´ ìœ ì—°í•˜ê²Œ ìˆ˜í–‰ ê°€ëŠ¥\níŠ¸ëœì­ì…˜ í”Œë¡œìš° ì œì¶œ\nJSON-RPCë¡œ íŠ¸ëœì­ì…˜ ì œì¶œ, ë©¤í’€ ì ì¬ from í•„ë“œë¥¼ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ê³„ì • ì£¼ì†Œë¡œ ì„¤ì • ê°€ëŠ¥ ë¶€íŠ¸ë¡œë” ì²˜ë¦¬\në©¤í’€ì—ì„œ íŠ¸ëœì­ì…˜ì„ ì½ì–´ ë°°ì¹˜ ë‹¨ìœ„ë¡œ ì²˜ë¦¬ NonceHolder ì‹œìŠ¤í…œ ì»¨íŠ¸ë™íŠ¸ ì§ˆì˜ë¡œ nonce ì‚¬ìš© ì—¬ë¶€ í™•ì¸ from ì£¼ì†Œì— ì½”ë“œê°€ ì—†ìœ¼ë©´ ê¸°ë³¸ ê³„ì • êµ¬í˜„ìœ¼ë¡œ í•´ì„í•´ ì‹¤í–‰ ê²½ë¡œ í‘œì¤€í™” ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ê³„ì • ê²€ì¦Â·ì‹¤í–‰\nvalidateTransaction í˜¸ì¶œë¡œ ì‹¤í–‰ í—ˆìš© ì—¬ë¶€ íŒë‹¨ ë° ì ‘ê·¼ ì œì–´ ìˆ˜í–‰ executeTransaction í˜¸ì¶œë¡œ ì‹¤ì œ ì‹¤í–‰ ê²½ë¡œ ì§„ì… payForTransaction ë˜ëŠ” prepareForPaymaster í˜¸ì¶œë¡œ ê°€ìŠ¤ ì§€ë¶ˆ ê²½ë¡œ ì„ íƒ í˜ì´ë§ˆìŠ¤í„° ê²½ë¡œ ì„ íƒì  ìˆ˜í–‰\nvalidateAndPayForPaymasterTransaction í˜¸ì¶œë¡œ í›„ì› ì—¬ë¶€ ê²°ì • ë° ê°€ìŠ¤ ì§€ë¶ˆ ì§‘í–‰ postTransaction í›…ìœ¼ë¡œ ì‚¬í›„ ì²˜ë¦¬ ë¡œì§ ìˆ˜í–‰ ê°€ëŠ¥ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì§€ê°‘ ì„¤ê³„ í¬ì¸íŠ¸ IAccount ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ ê¸°ë°˜ í‘œì¤€ ë™ì‘ í™•ë³´ onlyBootloader ì œì•½ìœ¼ë¡œ ë¶€íŠ¸ë¡œë” ì™¸ í˜¸ì¶œ ì°¨ë‹¨ ì»¨íŠ¸ë™íŠ¸ ë°°í¬ëŠ” ì‹œìŠ¤í…œ ì»¨íŠ¸ë™íŠ¸ë¥¼ í†µí•œ isSystemCall ê²½ë¡œ ì‚¬ìš© íš¨ìœ¨ì  ì‹¤í–‰ì„ ìœ„í•œ ì €ìˆ˜ì¤€ í˜¸ì¶œ ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš© ê¶Œì¥ ê°€ìŠ¤ ì§€ë¶ˆì€ ë¶€íŠ¸ë¡œë”ì— ì§ì ‘ ì§€ë¶ˆ ë˜ëŠ” í˜ì´ë§ˆìŠ¤í„° ì…ë ¥ ì²˜ë¦¬ í•¨ìˆ˜ ì‚¬ìš© Nonce ê´€ë¦¬ íŠ¸ëœì­ì…˜ ì‹œì‘ ì „ NonceHolder ì‹œìŠ¤í…œ ì»¨íŠ¸ë™íŠ¸ì˜ validateNonceUsage í˜¸ì¶œë¡œ ì¤‘ë³µ ì‚¬ìš© ë°©ì§€ ìœ íš¨ì„± ê²€ì‚¬ ë‹¨ê³„ì—ì„œ nonceë¥¼ ì†Œë¹„ ì²˜ë¦¬í•´ì•¼ í•¨ ì˜µì…˜\nminNonce ì¦ê°€ë¡œ í•´ë‹¹ ê°’ ë¯¸ë§Œ nonce ì¼ê´„ ì‚¬ìš© ì²˜ë¦¬ setValueUnderNonceë¥¼ í†µí•´ íŠ¹ì • nonce ìŠ¬ë¡¯ì— 0ì´ ì•„ë‹Œ ê°’ ê¸°ë¡ í¸ì˜ ë©”ì„œë“œ incrementMinNonceIfEquals ì‚¬ìš© ê¶Œì¥ NonceHolder í˜¸ì¶œì—ëŠ” íŠ¸ëœì­ì…˜ì˜ isSystem í”Œë˜ê·¸ ì„¤ì • í•„ìš”, ì‹œìŠ¤í…œ í˜¸ì¶œ ìœ í‹¸ ì‚¬ìš© ê¶Œì¥ ì„œëª… ê²€ì¦ê³¼ EIP-1271 ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ê³„ì •ì€ EOAì™€ ë‹¬ë¦¬ ê³ ì • ì„œëª… ê²€ì¦ ë¡œì§ì´ ì—†ìœ¼ë¯€ë¡œ EIP-1271 êµ¬í˜„ ê¶Œì¥ isValidSignatureë¥¼ í†µí•´ ì„ì˜ ë¡œì§ìœ¼ë¡œ ì„œëª… ìœ íš¨ì„± íŒë‹¨ ê°€ëŠ¥, EIP-712 íƒ€ì… ë°ì´í„° ì„œëª…ê³¼ ê²°í•© ì‹œ ì‚¬ìš©ì ê²½í—˜ ë° ë³´ì•ˆ ê°œì„  ê¸°ëŒ€\ncontract ERC1271 { // bytes4(keccak256(\u0026#34;isValidSignature(bytes32,bytes)\u0026#34;)) bytes4 constant internal MAGICVALUE = 0x1626ba7e; function isValidSignature( bytes32 _hash, bytes memory _signature ) public view returns (bytes4 magicValue) {} } Paymaster ê°œë… ë‹¤ë¥¸ ê³„ì •ì„ ëŒ€ì‹ í•´ ê°€ìŠ¤ë¹„ë¥¼ ì§€ë¶ˆí•˜ëŠ” ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì—­í•  IPaymaster ì¸í„°í˜ì´ìŠ¤ ì¤€ìˆ˜ í•„ìˆ˜ ê³„ì • ì†Œìœ ìì˜ ê°€ìŠ¤ë¹„ ì§ì ‘ ì§€ë¶ˆì„ ëŒ€ì²´í•´ ë¹„ìš© ìŠ¤í°ì„œì‹­, í† í° ê¸°ë°˜ ê°€ìŠ¤ ì§€ë¶ˆ ë“± ì‚¬ìš©ì„± ê°œì„  ì œê³µ ì‹¤í–‰ ê²½ë¡œì—ì„œëŠ” prepareForPaymaster ì´í›„ paymasterê°€ ê²€ì¦ê³¼ ê²°ì œë¥¼ ìˆ˜í–‰ ì˜¤ë‚¨ìš© ë°©ì§€ë¥¼ ìœ„í•œ í•œë„Â·ì¿¨ë‹¤ìš´Â·í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì •ì±… í•„ìš”\nAGW(Abstract Global Wallet) ê°œìš” ë„¤ì´í‹°ë¸Œ ê³„ì • ì¶”ìƒí™”ë¥¼ ì „ì œë¡œ í•œ ì‚¬ìš©ì ì˜¨ë³´ë”© ë ˆì´ì–´ ì´ë©”ì¼, ì†Œì…œ, íŒ¨ìŠ¤í‚¤ ë“± ì¹œìˆ™í•œ ë¡œê·¸ì¸ìœ¼ë¡œ ìµœì´ˆ ê°€ì… í›„ ë™ì¼ ê³„ì •ìœ¼ë¡œ íŠ¸ëœì­ì…˜ ìƒì„± ê°€ëŠ¥ í•µì‹¬ì€ ì„œëª…ì ê´€ë¦¬ì™€ ë³µêµ¬, ë‹¤ì¤‘ ì„œëª…ì, ê°€ìŠ¤ ìŠ¤í°ì„œì‹­ ë“± ê³„ì • ìˆ˜ëª…ì£¼ê¸° ìš´ì˜ì„ ì¼ê´€ëœ UXë¡œ ì œê³µí•˜ëŠ” ê²ƒ\nAGW ì‘ë™ ë°©ì‹ 1ë‹¨ê³„ EOA ìƒì„± ì‚¬ìš©ì ë¡œê·¸ì¸ ë°©ì‹ì„ í†µí•´ ë‚´ë¶€ì ìœ¼ë¡œ EOA ìƒì„± 2ë‹¨ê³„ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì§€ê°‘ ë°°í¬ ë°°í¬ ì´ˆê¸°í™” ì‹œ 1ë‹¨ê³„ EOAë¥¼ ìŠ¹ì¸ëœ ì„œëª…ìë¡œ ë“±ë¡ ì´í›„ ë‹¨ê³„ ì„œëª…ì ì¶”ê°€Â·ì‚­ì œ, íŒ¨ìŠ¤í‚¤ ê¸°ë°˜ ì„œëª…ì ë“±ë¡, ëª¨ë“ˆ í™•ì¥ ë“± ê³„ì • ìš´ì˜ ê¸°ëŠ¥ ì‚¬ìš© ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì§€ê°‘ì€ ë„¤ì´í‹°ë¸Œ 1ê¸‰ ì‹œë¯¼ìœ¼ë¡œ ë™ì‘í•˜ë©°, ê¸°ë³¸ ê³¡ì„ ì¸ secp256k1 ì¤‘ì‹¬ ìš´ì˜ ê¶Œì¥ íŒ¨ìŠ¤í‚¤ í™•ì¥ ì‹œ secp256r1 ì„œëª…ì ì§€ì› ê°€ëŠ¥, EIP-712 ê¸°ë°˜ ì„œëª… ê²€ì¦ ë¡œì§ ì¡°í•© ê¶Œì¥\nìŠ¤ë§ˆíŠ¸ ì§€ê°‘ ê¸°ëŠ¥ ëª¨ë“ˆ ì˜ˆ ë³µêµ¬ ëª¨ë“ˆ ì´ë©”ì¼ ë³µêµ¬, ê°€ë””ì–¸ ë³µêµ¬ ë“± í‚¤ ë¶„ì‹¤ ì‹œ ê³„ì • ë³µì› ê²½ë¡œ ì œê³µ í˜ì´ë§ˆìŠ¤í„° ì—°ë™ íŠ¸ëœì­ì…˜ ê°€ìŠ¤ë¹„ í›„ì›, íŠ¹ì • í† í° ì§€ë¶ˆ ë¼ìš°íŒ… êµ¬ì„± ë‹¤ì¤‘ ì„œëª…ì ì—­í•  ê¸°ë°˜ ì„œëª… ì •ì±…, ì„ê³„ê°’ ìŠ¹ì¸ ì •ì±… í™•ì¥ íŒ¨ìŠ¤í‚¤ ì§€ì› FIDO ê¸°ë°˜ ê¸°ê¸° ì„œëª…ìë¥¼ ì§€ê°‘ì— ì—°ê²°í•´ ë¬´ì„œë²„ í‚¤ ê²½í—˜ ì œê³µ ì£¼ì˜ ì‚¬í•­ê³¼ íŠ¸ë ˆì´ë“œì˜¤í”„ ë°ì´í„° ê°€ìš©ì„± ë¹„ìš©\në¸”ë¡­ ê°€ê²©ì€ ë„¤íŠ¸ì›Œí¬ ìˆ˜ìš”ì— ë”°ë¼ ë³€ë™, ë°°ì¹˜ í¬ê¸°ì™€ ì»¤ë°‹ ì£¼ê¸° ìµœì í™” í•„ìš” ì¦ëª… ëŒ€ê¸° ì‹œê°„\nì¦ëª… ìƒì„±ì€ ê³„ì‚° ì§‘ì•½ì , í•˜ë“œì›¨ì–´ì™€ íšŒë¡œ ìµœì í™” ìƒíƒœì— ë”°ë¼ ì§€ì—° ë°œìƒ ê°€ëŠ¥ ì‚¬ìš©ì ì‘ë‹µì€ ì¦‰ì‹œì„± í™•ë³´ ê°€ëŠ¥í•˜ë‚˜ L1 ìµœì¢…ì„±ì€ ì¦ëª… ì™„ë£Œ ì´í›„ í™•ë³´ ì‹œí€€ì„œ ê²€ì—´ ë¦¬ìŠ¤í¬\në‹¨ì¼ ì‹œí€€ì„œ ìš´ì˜ ì‹œ íŠ¸ëœì­ì…˜ í¬í•¨ ì§€ì—° ê°€ëŠ¥ì„± ì¡´ì¬ ì¶”í›„ ë¶„ì‚°í™” ë¡œë“œë§µ, í¬í¬ ì„ íƒ ê·œì¹™, í¬ìŠ¤ ì¸í´ë£¨ì „ ë©”ì»¤ë‹ˆì¦˜ ê³ ë ¤ í•„ìš” ë¸Œë¦¬ì§•ê³¼ ë©”ì‹œì§• ì•ˆì „ì„±\nL1 í™•ì • ì „ êµì°¨ì²´ì¸ ë©”ì‹œì§€ ì‚¬ìš© ì‹œ ë¯¸í™•ì • ë¦¬ìŠ¤í¬ ì¡´ì¬ ì§€ì—° í, ì·¨ì†ŒÂ·ì¬ì‹œë„ ì •ì±…, ìƒíƒœ ì¦ëª… ê¸°ë°˜ ìˆ˜ë ¹ ì¡°ê±´ ëª…ì‹œ í•„ìš” í˜ì´ë§ˆìŠ¤í„° ë‚¨ìš© ë°©ì§€\ní•œë„, ì†ë„ ì œí•œ, ìˆ˜ì‹ ìÂ·í•¨ìˆ˜ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ìš´ìš© í† í° ê¸°ë°˜ ê°€ìŠ¤ ì§€ë¶ˆì€ í™˜ì‚° ë ˆì´íŠ¸ ë³€ë™ê³¼ ìœ ë™ì„± ë¶€ì¡± ë¬¸ì œ ê³ ë ¤ Nonce ê²½ìŸê³¼ ì¬ì§„í–‰\nì¤‘ë³µ ì œì¶œ ë°©ì§€, ì¬ì „ì†¡ ì •ì±…, minNonce ê´€ë¦¬ ì •ì±… í‘œì¤€í™” í•„ìš” ê°„ë‹¨ ì˜ˆì‹œì™€ ì‹¤ë¬´ íŒ JSON-RPC ì œì¶œ ì‹œ fromì„ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ê³„ì • ì£¼ì†Œë¡œ ì§€ì •í•´ ê³„ì • ìì²´ ê²€ì¦ ë¡œì§ êµ¬ë™ ê²€ì¦ ë‹¨ê³„ì—ì„œ nonce ì†Œë¹„ë¥¼ ë¨¼ì € ì²˜ë¦¬í•´ ì¬ì§„ì…Â·ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€ EIP-712 íƒ€ì… ë°ì´í„° ì„œëª… ì‚¬ìš©ìœ¼ë¡œ ì„œëª… ë²”ìœ„ì™€ ëª©ì ì„ ëª…í™•íˆ í‘œí˜„ ë¶€íŠ¸ë¡œë” ì „ìš© í•¨ìˆ˜ëŠ” onlyBootloaderë¡œ ì°¨ë‹¨, ì™¸ë¶€ í˜¸ì¶œ ê²½ë¡œ executeTransactionFromOutsideë¥¼ ë³„ë„ ì œì–´ L1 ìƒí˜¸ì‘ìš©ì€ commit â†’ prove â†’ execute ìˆœì„œ ì¤€ìˆ˜, ìš´ì˜ ê´€ì ì—ì„œ ë°°ì¹˜ ì»¤ë°‹ ì§€í‘œì™€ ì¦ëª… í ê¸¸ì´ë¥¼ ëª¨ë‹ˆí„°ë§ ìš´ì˜ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ë°°ì¹˜ ì •ì±…\nìˆ˜ìš”ì— ë”°ë¥¸ ë™ì  ë°°ì¹˜ í¬ê¸°ì™€ ì»¤ë°‹ ì£¼ê¸° ì¡°ì •, ë¸”ë¡­ ë‹¨ê°€ì™€ ì¦ëª… ëŒ€ê¸° ì‹œê°„ì˜ ê· í˜• ì¶”êµ¬ ê°€ì‹œì„± í™•ë³´\nì‹œí€€ì„œ ì§€ì—°, ì¦ëª… ìƒì„± ì‹œê°„, ì‹¤íŒ¨ìœ¨, í ê¸¸ì´, L1 ê°€ìŠ¤ ë‹¨ê°€, ë¸”ë¡­ ë‹¨ê°€ ëŒ€ì‹œë³´ë“œí™” ê³„ì • ì¶”ìƒí™” ë³´ì•ˆ\nvalidateTransactionì—ì„œ í˜¸ì¶œìÂ·ì„œëª…Â·ì •ì±… ì¼ê´€ì„± ê²€ì¦, ì‹¤íŒ¨ ì‹œ ëª…ì‹œì  ì—ëŸ¬ ì½”ë“œ ë°˜í™˜ í˜ì´ë§ˆìŠ¤í„° ì…ë ¥ íŒŒì‹±ê³¼ ì˜ˆì‚° ê²€ì‚¬ ì² ì €, ì‚¬í›„ í›…ì—ì„œ ì™¸ë¶€ í˜¸ì¶œ ì‹œ ì¬ì§„ì… ë°©ì§€ ë¦´ë¦¬ì¦ˆ ì „ëµ\ní…ŒìŠ¤íŠ¸ë„·ì—ì„œ ê³„ì •Â·í˜ì´ë§ˆìŠ¤í„°Â·ë¸Œë¦¬ì§• ê²½ë¡œë¥¼ í†µí•© ë¦¬í—ˆì„¤, ê°€ìŠ¤ ìƒí•œê³¼ ì˜¤ë¥˜ ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤ ê²€ì¦ íšŒë¡œì™€ ì¦ëª… ë°±ì—”ë“œ\níšŒë¡œ ì—…ë°ì´íŠ¸ëŠ” ë¡¤ë§ ì—…ê·¸ë ˆì´ë“œ ì „ëµ ì±„íƒ, ê²€ì¦ í‚¤ êµì²´ì™€ ì»¨íŠ¸ë™íŠ¸ ë²„ì „ í˜¸í™˜ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸ ìš´ì˜ ë§ˆë¬´ë¦¬ AbstractëŠ” ZK Rollupê³¼ EIP-4844ë¥¼ ê²°í•©í•´ í™•ì¥ì„±ê³¼ ë¹„ìš© íš¨ìœ¨ì„ í™•ë³´í•˜ê³ , ë„¤ì´í‹°ë¸Œ ê³„ì • ì¶”ìƒí™”ë¡œ ê°œë°œìì™€ ì‚¬ìš©ìì˜ ìƒí˜¸ì‘ìš©ì„ ë‹¨ìˆœí™”í•˜ëŠ” ì ‘ê·¼ì„ ì·¨í•¨ ì‹œí€€ì„œÂ·ì¦ëª… íŒŒì´í”„ë¼ì¸Â·L1 ê³„ì•½ ê°„ ê²½ê³„ë¥¼ ëª…í™•íˆ í•˜ê³ , ê³„ì • ì¶”ìƒí™”ì™€ í˜ì´ë§ˆìŠ¤í„° ì •ì±…ì„ ë³´ì•ˆ ìš°ì„ ìœ¼ë¡œ ì„¤ê³„í•˜ë©´ ìš´ì˜ ì•ˆì •ì„±ì„ í¬ê²Œ ë†’ì¼ ìˆ˜ ìˆìŒ ì´ ë¬¸ì„œì˜ ê°œë…ê³¼ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ íŠ¸ëœì­ì…˜ ìˆ˜ëª…ì£¼ê¸°, ì§€ê°‘ ëª¨ë“ˆ, ë°ì´í„° ê°€ìš©ì„± íŠœë‹ì„ ì²´ê³„ì ìœ¼ë¡œ ê²€í† í•  ê²ƒì„ ê¶Œì¥í•¨\nì°¸ê³ ìë£Œ https://abs.xyz/ https://eips.ethereum.org/EIPS/eip-4844 https://eips.ethereum.org/EIPS/eip-1271 https://era.zksync.io/docs/ https://vitalik.ca/general/2021/01/05/rollup.html https://ethereum.org/en/roadmap/danksharding/ ","permalink":"https://blog.jsontapose.com/posts/abstract-l2-zk-rollup-zk-stack-account-abstraction-agw-dc7ec0/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eAbstractëŠ” ì´ë”ë¦¬ì›€ ë³´ì•ˆì„ ìƒì†í•˜ëŠ” ZK Rollup ê¸°ë°˜ L2 ì²´ì¸ìœ¼ë¡œ, ê³ ë¹„ìš©Â·ì €ì²˜ë¦¬ëŸ‰ í•œê³„ë¥¼ ì™„í™”í•˜ëŠ” í™•ì¥ ì¸µ ì œê³µ ëª©í‘œ\nZK Stackìœ¼ë¡œ êµ¬ì¶•ë˜ì–´ ì²´ì¸ ê°œë°œê³¼ ìš´ì˜ êµ¬ì„± ìš”ì†Œë¥¼ ëª¨ë“ˆí™”í•˜ê³ , ë°ì´í„° ê°€ìš©ì„±ì€ EIP-4844 ë¸”ë¡­ì„ í™œìš©í•´ ë¹„ìš©ì„ ì ˆê°í•˜ëŠ” ë°©í–¥ ì¶”êµ¬\ní•µì‹¬ ì°¨ë³„ì ì€ ë„¤ì´í‹°ë¸Œ ê³„ì • ì¶”ìƒí™” ê¸°ë°˜ì˜ íŠ¸ëœì­ì…˜ ìˆ˜ëª…ì£¼ê¸°ì™€ ê¸€ë¡œë²Œ ì§€ê°‘ ë ˆì´ì–´ë¥¼ í†µí•œ ì‚¬ìš©ì ì˜¨ë³´ë”© ê°„ì†Œí™”ì— ìˆìŒ\u003c/p\u003e\n\u003ch3 id=\"ë°°ê²½ê³¼-ëª©ì \"\u003eë°°ê²½ê³¼ ëª©ì \u003c/h3\u003e\n\u003cp\u003eì´ë”ë¦¬ì›€ ë©”ì¸ë„·ì˜ ì²˜ë¦¬ëŸ‰ì€ ëŒ€ëµ ì´ˆë‹¹ ìˆ˜ì‹­ ê±´ ìˆ˜ì¤€ì´ë©°, ìˆ˜ìˆ˜ë£Œ ë³€ë™ì„±ë„ í¼\nì €ê°€ì¹˜ ëŒ€ëŸ‰ íŠ¸ëœì­ì…˜ì„ ì§ì ‘ L1ì—ì„œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ ë¹„í˜„ì‹¤ì \nL2ì˜ ëª©í‘œëŠ” íƒˆì¤‘ì•™ì„±ê³¼ ë³´ì•ˆì„ ìœ ì§€í•˜ë©´ì„œ ì²˜ë¦¬ëŸ‰ê³¼ ë¹„ìš© íš¨ìœ¨ì„ ë™ì‹œì— ê°œì„ í•˜ëŠ” ê²ƒ\nZK Rollupì€ ìœ íš¨ì„± ì¦ëª…ì„ í†µí•´ ìƒíƒœ ì „ì´ë¥¼ ì••ì¶•Â·ê²€ì¦í•˜ì—¬ ì˜¨ì²´ì¸ ë°ì´í„° ìš”êµ¬ëŸ‰ê³¼ í™•ì • ì‹œê°„ì„ ì¤„ì´ëŠ” í™•ì¥ ê²½ë¡œ ì œê³µ\u003c/p\u003e","title":"Abstract L2 ì²´ì¸ ê°œìš”ì™€ ì„¤ê³„ í•µì‹¬: ZK Rollup, ZK Stack, ë„¤ì´í‹°ë¸Œ ê³„ì • ì¶”ìƒí™”, AGW"},{"content":"ê°œìš” Viemì€ ì´ë”ë¦¬ì›€ ê³„ì—´ ì²´ì¸ê³¼ ìƒí˜¸ì‘ìš©í•˜ëŠ” ê²½ëŸ‰ Web3 í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì„ ethersë‚˜ web3.jsì™€ ê°™ì€ ë²”ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ë™ì¼í•œ ë²”ì£¼ì˜ ë„êµ¬ì§€ë§Œ, ëª¨ë“ˆ ë¶„ë¦¬ êµ¬ì¡°ì™€ íƒ€ì… ì•ˆì „ì„±, ë¹Œë“œ ì‚¬ì´ì¦ˆ, ì„±ëŠ¥ì—ì„œ ê°•ì ì´ ìˆìŒ í”„ë¡œë•ì…˜ì—ì„œ ìì£¼ í•„ìš”í•œ ì½ê¸°ì™€ ì“°ê¸° íë¦„ì„ ì¤‘ì‹¬ìœ¼ë¡œ, ì„¤ì¹˜ë¶€í„° ë¸”ë¡ ì¡°íšŒ, ì»¨íŠ¸ë™íŠ¸ ì½ê¸°, ì»¨íŠ¸ë™íŠ¸ ì“°ê¸°ê¹Œì§€ì˜ í•„ìˆ˜ ê°œë…ê³¼ ì‹¤ìš© íŒ ì •ë¦¬\ní•µì‹¬ ê°œë…ê³¼ ì •ì˜ Public Client\ní¼ë¸”ë¦­ RPCë¥¼ í†µí•´ ì²´ì¸ ë°ì´í„° ì½ê¸° ì „ìš© í˜¸ì¶œ ìˆ˜í–‰í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ë¸”ë¡, íŠ¸ëœì­ì…˜, ë¡œê·¸ ì¡°íšŒ, read-only ì»¨íŠ¸ë™íŠ¸ í˜¸ì¶œ ë‹´ë‹¹ Wallet Client\nê°œì¸í‚¤ë¥¼ ë³´ìœ í•œ ê³„ì •ì— ëŒ€í•´ íŠ¸ëœì­ì…˜ ì„œëª…ê³¼ ì „ì†¡ì„ ìˆ˜í–‰í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì‹œë®¬ë ˆì´ì…˜, ê°€ìŠ¤ ì¶”ì •, nonce ì²˜ë¦¬, write ì»¨íŠ¸ë™íŠ¸ í˜¸ì¶œ ë‹´ë‹¹ Transport\nHTTPë‚˜ WebSocket ë“± JSON-RPC í†µì‹  ë°©ë²• ì¶”ìƒí™” ê³„ì¸µ ì„±ëŠ¥ê³¼ ì•ˆì •ì„±ì— ì˜í–¥ì„ ì£¼ëŠ” í•µì‹¬ ìš”ì†Œ Chain êµ¬ì„±\nchain ê°ì²´ì— chainId, ë„¤íŠ¸ì›Œí¬ ì´ë¦„, ê¸°ë³¸ RPC ì—”ë“œí¬ì¸íŠ¸, ë„¤ì´í‹°ë¸Œ í†µí™” ë‹¨ìœ„ ë“±ì˜ ë©”íƒ€ë°ì´í„° í¬í•¨ ì˜¬ë°”ë¥¸ ì²´ì¸ ì„¤ì •ì´ ì‹œë®¬ë ˆì´ì…˜ê³¼ ì„œëª…, ì „ì†¡ì˜ ì „ì œ ì¡°ê±´ ABI ê¸°ë°˜ íƒ€ì… ì•ˆì „ì„±\nABIë¥¼ ë°”íƒ•ìœ¼ë¡œ í•¨ìˆ˜ ì´ë¦„, íŒŒë¼ë¯¸í„°, ë°˜í™˜í˜•ì— ëŒ€í•œ íƒ€ì… ì¶”ë¡  ì œê³µ ëŸ°íƒ€ì„ ì´ì „ì— ì˜¤íƒ€ë‚˜ íŒŒë¼ë¯¸í„° íƒ€ì… ì˜¤ë¥˜ë¥¼ ì°¨ë‹¨í•˜ëŠ” íš¨ê³¼ ë°ì´í„° íƒ€ì…\nê¸ˆì•¡, ë¸”ë¡ ë²ˆí˜¸, ê°€ìŠ¤ ë“± ì •ìˆ˜ ê°’ì€ BigInt ë°˜í™˜ì´ ê¸°ë³¸ ì£¼ì†Œ, ë°”ì´íŠ¸ ë°ì´í„°ëŠ” 0x í”„ë¦¬í”½ìŠ¤ hex ë¬¸ìì—´ ì‚¬ìš© ë™ì‘ ì›ë¦¬ì™€ êµ¬ì¡° ì½ê¸° íë¦„\nPublic Clientê°€ RPC í˜¸ì¶œì„ í†µí•´ ë¸”ë¡ì´ë‚˜ ìƒíƒœë¥¼ ì¡°íšŒí•¨ ì»¨íŠ¸ë™íŠ¸ ì½ê¸° ì‹œ getContract ë˜ëŠ” readContract ìœ í‹¸ì„ ì‚¬ìš©í•˜ì—¬ call ì‹¤í–‰ ì“°ê¸° íë¦„\nWallet Clientê°€ ê³„ì •ì„ ë³´ìœ í•˜ê³  ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ ê°€ìŠ¤ì™€ íŒŒë¼ë¯¸í„°ë¥¼ ê²€ì¦í•œ ë’¤ íŠ¸ëœì­ì…˜ ì „ì†¡ simulateContract ê²°ê³¼ë¥¼ writeContractì— ê·¸ëŒ€ë¡œ ì „ë‹¬í•˜ëŠ” íŒ¨í„´ì´ ì•ˆì „í•˜ê³  ê¶Œì¥ë¨ ë¶„ë¦¬ì˜ ì´ì \nì½ê¸°ì™€ ì“°ê¸° ì±…ì„ì´ ë¶„ë¦¬ë˜ì–´ ë³´ì•ˆ ê²½ê³„ì™€ í…ŒìŠ¤íŠ¸ ìš©ì´ì„± í–¥ìƒ ì„œë²„ í™˜ê²½ì—ì„œëŠ” Public Clientë§Œ ë°°í¬í•´ ë¯¼ê° í‚¤ê°€ ì—†ëŠ” ì¡°íšŒ ì „ìš© API ì œê³µ ê°€ëŠ¥ ì„¤ì¹˜ì™€ í™˜ê²½ ì¤€ë¹„ íŒ¨í‚¤ì§€ ì„¤ì¹˜\nnpm install viem í•„ìˆ˜ ì¤€ë¹„ë¬¼\nì‹ ë¢° ê°€ëŠ¥í•œ RPC ì—”ë“œí¬ì¸íŠ¸ URL ì¤€ë¹„ í…ŒìŠ¤íŠ¸ë„·ì—ì„œëŠ” faucetë¡œ ETH í™•ë³´ í™˜ê²½ ë³€ìˆ˜ë¡œ ê°œì¸í‚¤, RPC URL ë“± ë¯¼ê°ì •ë³´ ê´€ë¦¬ ê¶Œì¥ ì‚¬ìš©ë²• 1: ë„¤íŠ¸ì›Œí¬ ì—°ê²°ê³¼ ë¸”ë¡ ì¡°íšŒ ì•„ë˜ ìŠ¤ë‹ˆí«ì€ ë©”ì¸ë„·ì— ì—°ê²°í•˜ê³  ìµœì‹  ë¸”ë¡ê³¼ ë¸”ë¡ ë²ˆí˜¸ë¥¼ ì¡°íšŒí•˜ëŠ” ìµœì†Œ ì˜ˆì‹œì„\nimport { createPublicClient, http } from \u0026#39;viem\u0026#39; import { mainnet } from \u0026#39;viem/chains\u0026#39; const publicClient = createPublicClient({ chain: mainnet, transport: http(process.env.RPC_URL) }) const run = async () =\u0026gt; { const block = await publicClient.getBlock() const blockNumber = await publicClient.getBlockNumber() // block í•´ì‹œ, íƒ€ì„ìŠ¤íƒ¬í”„, ê°€ìŠ¤ ì‚¬ìš©ëŸ‰ ë“± í•µì‹¬ í•„ë“œ ì‚¬ìš© console.log(block.hash, block.timestamp, block.gasUsed) console.log(blockNumber) } run() blockNumberëŠ” BigInt ë°˜í™˜ê°’ì„ gas, ìˆ˜ìˆ˜ë£Œ, ë¸”ë¡ ë²ˆí˜¸ ë“± ì •ìˆ˜ ê°’ ì²˜ë¦¬ ì‹œ ìˆ«ì ì˜¤ë²„í”Œë¡œ ë°©ì§€ë¥¼ ìœ„í•´ BigInt ìœ ì§€ ë˜ëŠ” ëª…ì‹œì  ë³€í™˜ í•„ìš” http ì „ì†¡ ëŒ€ì‹  ì›¹ì†Œì¼“ ì „ì†¡ë„ ê°€ëŠ¥í•˜ë‚˜ ì„œë²„ í™˜ê²½ ì•ˆì •ì„±, í”„ë¡ì‹œ êµ¬ì„±, ë¦¬ë°¸ëŸ°ì‹± ì „ëµ ê³ ë ¤ í•„ìš” ì‚¬ìš©ë²• 2: ì»¨íŠ¸ë™íŠ¸ ì½ê¸°ì™€ ì“°ê¸° í•œ ìŠ¤ë‹ˆí«ì—ì„œ ì½ê¸°ì™€ ì“°ê¸°ë¥¼ ë¬¶ì–´ í•µì‹¬ íë¦„ë§Œ ì •ë¦¬í•¨\nimport { getContract, createPublicClient, createWalletClient, http } from \u0026#39;viem\u0026#39; import { sepolia } from \u0026#39;viem/chains\u0026#39; import { privateKeyToAccount } from \u0026#39;viem/accounts\u0026#39; const publicClient = createPublicClient({ chain: sepolia, transport: http(process.env.RPC_URL) }) const account = privateKeyToAccount(process.env.PRIVATE_KEY as `0x${string}`) const walletClient = createWalletClient({ account, chain: sepolia, transport: http(process.env.RPC_URL) }) // ì½ê¸° ì˜ˆì‹œ const contract = getContract({ address: \u0026#39;0xYourContractAddress\u0026#39;, abi: YourAbi, client: publicClient }) const name = await contract.read.name() // ì“°ê¸° ì˜ˆì‹œ const { request } = await publicClient.simulateContract({ address: \u0026#39;0xYourContractAddress\u0026#39;, abi: YourAbi, functionName: \u0026#39;store\u0026#39;, args: [100n], account }) const txHash = await walletClient.writeContract(request) console.log(name, txHash) addressì—ëŠ” ëª©í‘œ ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ ì…ë ¥ abiì—ëŠ” ì‹¤ì œ ABI ë°°ì—´ ì£¼ì… read í˜¸ì¶œì€ callì„ ì‚¬ìš©í•˜ë¯€ë¡œ ê°€ìŠ¤ ì†Œëª¨ ì—†ìŒ write í˜¸ì¶œì€ ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ ê°€ìŠ¤, ì¸ì, ê¶Œí•œ ë¬¸ì œë¥¼ ì‚¬ì „ ê²€ì¦í•œ ë’¤ ì „ì†¡ txHashë¡œ ìµìŠ¤í”Œë¡œëŸ¬ì—ì„œ ìƒíƒœ í™•ì¸ ê°€ëŠ¥ ë™ì‘ ì‚´í´ë³´ê¸°ì™€ ì‹¤ì „ íŒ getContractì™€ read\ngetContractëŠ” ABIë¥¼ ë°”íƒ•ìœ¼ë¡œ íƒ€ì… ì•ˆì „í•œ ë©”ì„œë“œ ì§‘í•© ìƒì„± contract.read.balanceOf(\u0026lsquo;0x\u0026hellip;\u0026rsquo;)ì²˜ëŸ¼ ê° í•¨ìˆ˜ê°€ ìë™ ì™„ì„±ë˜ë©° ì˜ëª»ëœ í•¨ìˆ˜ëª…ì´ë‚˜ ì¸ì íƒ€ì…ì„ ì»´íŒŒì¼ íƒ€ì„ì— ì°¨ë‹¨ simulateContractì™€ writeContract\nì‹œë®¬ë ˆì´ì…˜ ë‹¨ê³„ì—ì„œ revert ì´ìœ ì™€ ë””ì½”ë”©ëœ ì˜¤ë¥˜ë¥¼ í™•ì¸ ê°€ëŠ¥ requestì—ëŠ” to, data, value, gas, maxFeePerGas ë“± ì „ì†¡ì— í•„ìš”í•œ í•„ë“œê°€ ì™„ì„±ë˜ì–´ í¬í•¨ë¨ writeContractì— requestë¥¼ ê·¸ëŒ€ë¡œ ë„˜ê²¨ ë¶ˆì¼ì¹˜ ìœ„í—˜ ìµœì†Œí™” ê°€ìŠ¤ ìˆ˜ìˆ˜ë£Œì™€ EIP-1559\nëŒ€ë¶€ë¶„ ì²´ì¸ì€ baseFee ê¸°ë°˜ì˜ maxFeePerGas, maxPriorityFeePerGas ì¡°í•© ì‚¬ìš© ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ë¥¼ ê·¸ëŒ€ë¡œ ì“°ê±°ë‚˜, íŠ¸ë˜í”½ì´ ë§ì€ ì‹œê°„ëŒ€ì—ëŠ” ìš°ì„ ìˆœìœ„ ìˆ˜ìˆ˜ë£Œë¥¼ ë‹¤ì†Œ ìƒí–¥í•´ í™•ì • ì†ë„ í™•ë³´ BigIntì™€ ë‹¨ìœ„ ì²˜ë¦¬\nERC-20 amount, ìˆ˜ìˆ˜ë£Œ ëª¨ë‘ BigIntë¡œ ë‹¤ë£¸ parseUnits, formatUnits ìœ í‹¸ ì‚¬ìš©ìœ¼ë¡œ 10ì§„ ë¬¸ìì—´ê³¼ wei ë‹¨ìœ„ ê°„ ë³€í™˜ ì•ˆì •í™” ì²´ì¸ ë¶ˆì¼ì¹˜ì™€ ê³„ì • ë„¤íŠ¸ì›Œí¬\nwalletClientì™€ simulateContractì˜ chainì€ ë™ì¼í•´ì•¼ í•¨ RPC URLì´ ë‹¤ë¥¸ ì²´ì¸ì„ ê°€ë¦¬í‚¤ë©´ nonce, ìˆ˜ìˆ˜ë£Œ, ì‹œë®¬ë ˆì´ì…˜ ê²°ê³¼ê°€ ì–´ê¸‹ë‚˜ ì‹¤íŒ¨ ê°€ëŠ¥ ì£¼ì˜ì‚¬í•­ê³¼ í•œê³„ ê°œì¸í‚¤ ë³´í˜¸\nPRIVATE_KEYëŠ” ì„œë²„ ë¹„ë°€ ë³€ìˆ˜ ê´€ë¦¬ ë˜ëŠ” HSM, KMS ì—°ë™ ê³ ë ¤ í”„ëŸ°íŠ¸ì—”ë“œ í™˜ê²½ì— ê°œì¸í‚¤ í•˜ë“œì½”ë”© ê¸ˆì§€ RPC ì‹ ë¢°ë„ì™€ ë ˆì´íŠ¸ ë¦¬ë°‹\nê³µìš© RPCëŠ” ì†ë„ì™€ ê°€ìš©ì„±ì´ ë‚®ì„ ìˆ˜ ìˆìŒ ìƒìš© í™˜ê²½ì€ ì‹ ë¢° ê°€ëŠ¥í•œ ì œê³µìì™€ ë°±ì—… ì—”ë“œí¬ì¸íŠ¸ êµ¬ì„± ê¶Œì¥ ì¬ì‹œë„ì™€ ì˜¤ë¥˜ ì²˜ë¦¬\në„¤íŠ¸ì›Œí¬ ì—ëŸ¬, ì„œë²„ ì˜¤ë¥˜, ì²´ì¸ ì¬êµ¬ì„± ë“± ë‹¤ì–‘í•œ ì‹¤íŒ¨ ì¼€ì´ìŠ¤ ì¡´ì¬ ì§€ìˆ˜ ë°±ì˜¤í”„, idempotency ê³ ë ¤, íŠ¸ëœì­ì…˜ ì¬ì „ì†¡ ì‹œ nonce ê´€ë¦¬ í•„ìš” í…ŒìŠ¤íŠ¸ë„·ê³¼ ê°€ìŠ¤\ní…ŒìŠ¤íŠ¸ë„·ì€ faucet ì§€ê¸‰ ì§€ì—°, ë¹ˆ ë¸”ë¡, ë¹„í™œì„± ë…¸ë“œ ë“± íŠ¹ì„±ì´ ì¡´ì¬ ê°€ìŠ¤ ë¶€ì¡±, ì²´ì¸ í˜¼ì¡ì— ë”°ë¥¸ í™•ì • ì§€ì—°ì„ ì •ìƒ ë™ì‘ ë²”ìœ„ë¡œ ê°„ì£¼í•  ìˆ˜ ìˆì–´ì•¼ í•¨ ABI ì‹ ë¢°ì„±\nì˜¤íƒ€ ë˜ëŠ” ì˜ëª»ëœ ABIëŠ” ëŸ°íƒ€ì„ revertë¥¼ ìœ ë°œí•¨ ë°°í¬ëœ ë°”ì´íŠ¸ì½”ë“œì™€ ABI ë§¤ì¹­ ê²€ì¦ ê¶Œì¥ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì‹œë®¬ë ˆì´ì…˜ ìš°ì„  ì „ëµ\nëª¨ë“  write í˜¸ì¶œ ì „ simulateContractë¡œ ê°€ìŠ¤ì™€ ì¸ì ê²€ì¦ í™˜ê²½ ë³€ìˆ˜ ë¶„ë¦¬\nRPC_URL, PRIVATE_KEY, CONTRACT_ADDRESSë¥¼ í™˜ê²½ ë³€ìˆ˜ë¡œ ë¶„ë¦¬í•´ ë°°í¬ í™˜ê²½ë³„ ì„¤ì • í¸ì˜ í™•ë³´ ë¸”ë¡ ê°„ ì¼ê´€ì„±\nì´ë²¤íŠ¸ë‚˜ ìƒíƒœë¥¼ ì¡°í•©í•´ ì½ì„ ë•ŒëŠ” ë™ì¼ ë¸”ë¡ ë†’ì´ ê¸°ì¤€ì„ ìœ ì§€í•˜ëŠ” ìŠ¤ëƒ…ìƒ· ì „ëµ ê³ ë ¤ ë©€í‹°ì½œ í™œìš©\nì—¬ëŸ¬ readë¥¼ ë¬¶ì–´ ì™•ë³µ ë¹„ìš© ì ˆê° ê°€ëŠ¥ ë¡œê¹…ê³¼ ê´€ì°°ì„±\ntxHash, nonce, gasUsed, effectiveFeePerGas, ë¸”ë¡ ë²ˆí˜¸ë¥¼ êµ¬ì¡°í™” ë¡œê·¸ë¡œ ë‚¨ê²¨ ìš´ì˜ ì´ìŠˆ ë¶„ì„ ìš©ì´ì„± í™•ë³´ ê°„ë‹¨ ì˜ˆì‹œë¡œ ë³´ëŠ” ê²€ì¦ íë¦„ writeContractì—ì„œ ë°˜í™˜ëœ txHash í™•ì¸ ì²´ì¸ ìµìŠ¤í”Œë¡œëŸ¬ì—ì„œ í•´ë‹¹ txHash ì¡°íšŒë¡œ ë¸”ë¡ í¬í•¨ ì—¬ë¶€, ë¦¬ì‹œíŠ¸ ìƒíƒœ, ì´ë²¤íŠ¸ ë¡œê·¸ ê²€ì¦ ì»¨íŠ¸ë™íŠ¸ì˜ view í•¨ìˆ˜ë¡œ ìµœì¢… ìƒíƒœ êµì°¨ í™•ì¸ ì´ íë¦„ì„ ìë™í™”í•´ ë°°ì¹˜ë‚˜ ë°±ì—”ë“œ ì‘ì—…ì—ì„œ ì‹ ë¢°ë„ ìˆëŠ” ì™„ë£Œ íŒì • ê¸°ì¤€ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥\në§ˆë¬´ë¦¬ Viemì€ ì½ê¸°ì™€ ì“°ê¸° í´ë¼ì´ì–¸íŠ¸ ë¶„ë¦¬, ì‹œë®¬ë ˆì´ì…˜ ì¤‘ì‹¬ì˜ ì „ì†¡ íë¦„, íƒ€ì… ì•ˆì „í•œ ABI ì ‘ê·¼ì´ë¼ëŠ” ëª…í™•í•œ ì² í•™ì„ ê°€ì§ ì´ ê¸°ë³¸ê¸°ë§Œ ê°–ì¶”ë©´ ë¸”ë¡ ì¡°íšŒ, ì»¨íŠ¸ë™íŠ¸ ì½ê¸°, íŠ¸ëœì­ì…˜ ìƒì„±ì´ë¼ëŠ” ì„¸ ê°€ì§€ ì¶•ì„ ë¹ ë¥´ê²Œ ì‹¤ë¬´ì— ì ìš© ê°€ëŠ¥ ê°œì¸í‚¤ì™€ RPC ê´€ë¦¬, ì‹œë®¬ë ˆì´ì…˜ê³¼ ê°€ìŠ¤ ì „ëµ, ì˜¤ë¥˜ ì²˜ë¦¬ë¼ëŠ” ìš´ì˜ ë””í…Œì¼ì„ í•¨ê»˜ ì„¤ê³„í•˜ë©´ í”„ë¡œë•ì…˜ì—ì„œë„ ì¼ê´€ëœ ì•ˆì •ì„±ì„ í™•ë³´í•  ìˆ˜ ìˆìŒ\nì°¸ê³ ìë£Œ https://viem.sh/docs https://viem.sh/docs/clients/public https://viem.sh/docs/clients/wallet https://viem.sh/docs/actions/public/getBlock https://viem.sh/docs/contract/readContract https://viem.sh/docs/contract/writeContract https://ethereum.org/en/developers/docs/apis/json-rpc https://etherscan.io https://docs.alchemy.com/reference/ethereum-apis ","permalink":"https://blog.jsontapose.com/posts/viem-ethereum-read-write-guide-4a5336/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eViemì€ ì´ë”ë¦¬ì›€ ê³„ì—´ ì²´ì¸ê³¼ ìƒí˜¸ì‘ìš©í•˜ëŠ” ê²½ëŸ‰ Web3 í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì„\nethersë‚˜ web3.jsì™€ ê°™ì€ ë²”ìš© ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ë™ì¼í•œ ë²”ì£¼ì˜ ë„êµ¬ì§€ë§Œ, ëª¨ë“ˆ ë¶„ë¦¬ êµ¬ì¡°ì™€ íƒ€ì… ì•ˆì „ì„±, ë¹Œë“œ ì‚¬ì´ì¦ˆ, ì„±ëŠ¥ì—ì„œ ê°•ì ì´ ìˆìŒ\ní”„ë¡œë•ì…˜ì—ì„œ ìì£¼ í•„ìš”í•œ ì½ê¸°ì™€ ì“°ê¸° íë¦„ì„ ì¤‘ì‹¬ìœ¼ë¡œ, ì„¤ì¹˜ë¶€í„° ë¸”ë¡ ì¡°íšŒ, ì»¨íŠ¸ë™íŠ¸ ì½ê¸°, ì»¨íŠ¸ë™íŠ¸ ì“°ê¸°ê¹Œì§€ì˜ í•„ìˆ˜ ê°œë…ê³¼ ì‹¤ìš© íŒ ì •ë¦¬\u003c/p\u003e\n\u003ch3 id=\"í•µì‹¬-ê°œë…ê³¼-ì •ì˜\"\u003eí•µì‹¬ ê°œë…ê³¼ ì •ì˜\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003ePublic Client\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eí¼ë¸”ë¦­ RPCë¥¼ í†µí•´ ì²´ì¸ ë°ì´í„° ì½ê¸° ì „ìš© í˜¸ì¶œ ìˆ˜í–‰í•˜ëŠ” í´ë¼ì´ì–¸íŠ¸\u003c/li\u003e\n\u003cli\u003eë¸”ë¡, íŠ¸ëœì­ì…˜, ë¡œê·¸ ì¡°íšŒ, read-only ì»¨íŠ¸ë™íŠ¸ í˜¸ì¶œ ë‹´ë‹¹\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eWallet Client\u003c/p\u003e","title":"Viemìœ¼ë¡œ ì´ë”ë¦¬ì›€ ì½ê¸°Â·ì“°ê¸° ì‹œì‘í•˜ê¸° ê°€ì´ë“œ"},{"content":"ê°œìš” ì˜ì§€ì‹ ì¦ëª…ì€ ì–´ë–¤ ëª…ì œê°€ ì°¸ì„ì„ ì„¤ë“í•˜ë©´ì„œë„ ê·¸ ê·¼ê±°ê°€ ë˜ëŠ” ë¹„ë°€ì€ ëê¹Œì§€ ìˆ¨ê¸°ëŠ” ì ˆì°¨ë¥¼ ë§í•¨ ë¸”ë¡ì²´ì¸ê³¼ í”„ë¼ì´ë²„ì‹œ ë³´ì¡´ ì»´í“¨íŒ…ì—ì„œ í•µì‹¬ ë„êµ¬ë¡œ ìë¦¬ ì¡ì•˜ê³  ë²”ìš© ê³„ì‚°ì˜ ìœ íš¨ì„±ì„ ì‘ì€ ì¦ëª…ìœ¼ë¡œ ì••ì¶•í•´ ì „ë‹¬í•˜ëŠ” í˜„ëŒ€ í”„ë¡œí† ì½œì˜ ê¸°ì´ˆë¡œ ì“°ì„ ì´ ê¸€ì€ ê¸°ë³¸ ê°œë…ê³¼ ì§ê´€, ìˆ˜í•™ì  ì„±ì§ˆ, ëŒ€í™”í˜•ê³¼ ë¹„ëŒ€í™”í˜•ì˜ ì°¨ì´, ë””ì§€í„¸ ì„œëª…ê³¼ì˜ êµ¬ë¶„, ì´ì‚°ë¡œê·¸ ê¸°ë°˜ ê°„ë‹¨ Î£-í”„ë¡œí† ì½œê¹Œì§€ í•œ ë²ˆì— ì •ë¦¬í•¨\nëª©ì ê³¼ ë§¥ë½ ë¹„ë°€ì„ ê³µê°œí•˜ì§€ ì•Šê³  ìœ íš¨ì„±ë§Œ ê²€ì¦í•˜ë ¤ëŠ” ìš”êµ¬ ì¦ê°€ í¼ë¸”ë¦­ ë¸”ë¡ì²´ì¸ì—ì„œ ë°ì´í„° ë¹„ê³µê°œ ìœ ì§€ì™€ ì •í•©ì„± ë³´ì¥ í•„ìš” í™•ëŒ€ ì˜¤í”„ì²´ì¸ ì—°ì‚°ì„ ì˜¨ì²´ì¸ì— ì‘ì€ ì¦ëª…ìœ¼ë¡œ ì œì¶œí•´ í™•ì¥ì„±ê³¼ ë¹„ìš© ê°œì„  ì¶”êµ¬ í•µì‹¬ ê°œë…ê³¼ ì •ì˜ Prover ë¹„ë°€ì„ ê°€ì§„ ì°¸ì—¬ì. ë¹„ë°€ì„ ê³µê°œí•˜ì§€ ì•Šê³  ëª…ì œì˜ ì°¸ì„ ì„¤ë“í•˜ë ¤ëŠ” ì£¼ì²´ Verifier ê²€ì¦ì. Proverê°€ ë¹„ë°€ì„ ê°€ì§„ ì‚¬ì‹¤ ë˜ëŠ” ëª…ì œê°€ ì°¸ì´ë¼ëŠ” ì‚¬ì‹¤ë§Œ í™•ì¸í•˜ë ¤ëŠ” ì£¼ì²´ Witness ë˜ëŠ” Secret ëª…ì œì˜ ì°¸ì„ ë’·ë°›ì¹¨í•˜ëŠ” ë¹„ë°€ ê°’ ë˜ëŠ” ë¹„ë°€ ì§€ì‹ Statement ê³µê°œ ê°€ëŠ¥í•œ ëª…ì œ í‘œí˜„. ì˜ˆ y = g^x mod pì—ì„œ xë¥¼ ì•Œê³  ìˆìŒì„ ì¦ëª… Challenge ê²€ì¦ìê°€ ì œì‹œí•˜ëŠ” ë¬´ì‘ìœ„ ë„ì „ê°’. ì¡°ì‘ ë¶ˆê°€ì™€ ì˜ˆì¸¡ ë¶ˆê°€ê°€ ì „ì œ Transcript ë˜ëŠ” View ëŒ€í™”í˜• ìƒí˜¸ì‘ìš©ì˜ ê¸°ë¡. ì‹œë®¬ë ˆì´í„°ê°€ ë™ì¼ ë¶„í¬ë¡œ ì¬í˜„ ê°€ëŠ¥í•´ì•¼ ì˜ì§€ì‹ ì„±ë¦½ ì˜ì§€ì‹ ì¦ëª…ì˜ ì„¸ ê°€ì§€ ì„±ì§ˆ ì™„ì „ì„± Completeness ì •ì§í•œ Proverê°€ ë¹„ë°€ì„ ê°€ì§€ê³  ìˆìœ¼ë©´ ì •ì§í•œ VerifierëŠ” ë†’ì€ í™•ë¥ ë¡œ ì„¤ë“ë¨ ê±´ì „ì„± Soundness ë¹„ë°€ì´ ì—†ìœ¼ë©´ Proverê°€ ì†ì¼ í™•ë¥ ì´ ë§¤ìš° ë‚®ìŒ. ë„ì „ ê³µê°„ í™•ëŒ€ë‚˜ ë°˜ë³µìœ¼ë¡œ ì†ì„ í™•ë¥ ì„ ì§€ìˆ˜ì ìœ¼ë¡œ ë‚®ì¶¤ ì˜ì§€ì‹ì„± Zero-Knowledge VerifierëŠ” ëª…ì œê°€ ì°¸ì´ë¼ëŠ” ì‚¬ì‹¤ ì™¸ ì¶”ê°€ ì •ë³´ë¥¼ ì–»ì§€ ëª»í•¨. ì‹œë®¬ë ˆì´í„°ê°€ ì‹¤ì œì™€ êµ¬ë³„ ë¶ˆê°€í•œ íŠ¸ëœìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¹„ë°€ ì—†ì´ ìƒì„± ê°€ëŠ¥í•´ì•¼ í•¨ ì§ê´€ì  ì˜ˆì‹œ ì•Œë¦¬ë°”ë°” ë™êµ´ ë™êµ´ì˜ ë‘ ê°ˆë˜ Aì™€ B ì‚¬ì´ë¥¼ ê°€ë¡œë§‰ëŠ” ë¬¸ì´ ìˆê³  ë¹„ë°€ ì£¼ë¬¸ì„ ì•Œë©´ ë°˜ëŒ€í¸ìœ¼ë¡œ ë„˜ì–´ì˜¬ ìˆ˜ ìˆìŒ ê²€ì¦ìëŠ” Proverê°€ ë“¤ì–´ê°„ ë’¤ ë¬´ì‘ìœ„ë¡œ A ë˜ëŠ” Bë¡œ ë‚˜ì˜¤ë¼ê³  ìš”êµ¬í•¨ Proverê°€ ì£¼ë¬¸ì„ ëª¨ë¥´ë©´ ìì‹ ì´ ë“¤ì–´ê°„ ìª½ì„ ìš”êµ¬ë°›ì„ ë•Œë§Œ ì„±ê³µ ê°€ëŠ¥. 1íšŒ ì„±ê³µ í™•ë¥  1/2 kíšŒ ë…ë¦½ ë°˜ë³µí•˜ë©´ ëª¨ë‘ ì†ì¼ í™•ë¥  2^-kë¡œ ê¸‰ê° ê²€ì¦ìëŠ” ì£¼ë¬¸ ë‚´ìš©ì€ ëª¨ë¥´ì§€ë§Œ Proverê°€ ì£¼ë¬¸ì„ ì•ˆë‹¤ëŠ” ì‚¬ì‹¤ë§Œ ë†’ì€ í™•ë¥ ë¡œ í™•ì‹  ê°€ëŠ¥í•¨ í•µì‹¬ í¬ì¸íŠ¸\në¹„ë°€ ë…¸ì¶œ ì—†ì´ ìœ íš¨ì„±ë§Œ í™•ì¸ ê°€ëŠ¥ ë¬´ì‘ìœ„ ë„ì „ê³¼ ë°˜ë³µìœ¼ë¡œ ì‚¬ê¸° ê°€ëŠ¥ì„± ê¸‰ê° ëŒ€í™” ê¸°ë¡ë§Œìœ¼ë¡œ ë¹„ë°€ ìì²´ë¥¼ ìœ ì¶” ë¶ˆê°€ í˜•ì‹ì  ê´€ì ê³¼ ì‹œë®¬ë ˆì´í„° ëŒ€í™”í˜• ì¦ëª…ì€ Prover Pì™€ Verifier Vê°€ ì»¤ë°‹-ì±Œë¦°ì§€-ë¦¬ìŠ¤í°ìŠ¤ êµ¬ì¡°ë¡œ ìƒí˜¸ì‘ìš©í•¨ TranscriptëŠ” ë„ì „ê°’ê³¼ ì‘ë‹µ ë° ê³µê°œ ìƒíƒœë¥¼ í¬í•¨í•˜ëŠ” ê´€ì°° ê¸°ë¡ì„ ì˜ë¯¸í•¨ ì˜ì§€ì‹ì„±ì€ ì‹œë®¬ë ˆì´í„° Sê°€ ë¹„ë°€ ì—†ì´ë„ ì‹¤ì œì™€ ë¶„í¬ê°€ ê°™ì€ Transcriptë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŒì„ ìš”êµ¬í•¨ ì˜ë¯¸ëŠ” ê²€ì¦ìê°€ ì–»ì€ ì •ë³´ê°€ ê³µê°œ ë‚œìˆ˜ë¡œë„ ì¬í˜„ ê°€ëŠ¥í•œ ìˆ˜ì¤€ì— í•œì •ë¨ì„ ë³´ì¥í•œë‹¤ëŠ” ê²ƒì„ ì‚¬ì „ ê³µëª¨ ì´ìŠˆì™€ ì„¤ê³„ í¬ì¸íŠ¸ ëŒ€í™”í˜• í”„ë¡œí† ì½œì—ì„  ê²€ì¦ìì™€ Proverê°€ ì‚¬ì „ ê³µëª¨í–ˆë‹¤ë©´ ì œ3ìëŠ” ë°°ì œ ë¶ˆê°€ ì´ìŠˆê°€ ìƒê¹€ ì´ ê²½ìš°ë¥¼ ì§€ì • ê²€ì¦ì ì˜ì§€ì‹ designated-verifier ZKë¡œ ë¶„ë¥˜ ê°€ëŠ¥ ê³µê°œ ê²€ì¦ì´ í•„ìš”í•˜ë©´ ë¹„ëŒ€í™”í˜• ì˜ì§€ì‹ NIZK ë˜ëŠ” ê³µê°œ ê²€ì¦ ê°€ëŠ¥í•œ Î£-í”„ë¡œí† ì½œ ì¡°í•©ì„ ì‚¬ìš©í•´ ëˆ„êµ¬ë‚˜ ê²€ì¦ ê°€ëŠ¥í•˜ê²Œ ì„¤ê³„ í•„ìš” Fiatâ€“Shamir ë³€í™˜ìœ¼ë¡œ ë„ì „ê°’ì„ í•´ì‹œë¡œ ê²°ì •í•˜ë©´ ì œ3ìë„ ë‹¨ì¼ ì¦ëª…ì„ ê²€ì¦ ê°€ëŠ¥ ìš´ì˜ ì‹œ ê²€ì¦ìì˜ ë‚´ë¶€ ì‹œë“œë‚˜ ë„ì „ê°’ ìƒì„± ê³¼ì •ì„ ê³¼ë„í•˜ê²Œ ê³µê°œí•˜ë©´ ì§€ì • ê²€ì¦ì ì‹œë‚˜ë¦¬ì˜¤ì˜ ì˜ì§€ì‹ì„±ì´ ì•½í™”ë  ìˆ˜ ìˆìŒ ëŒ€í™”í˜•ê³¼ ë¹„ëŒ€í™”í˜• ëŒ€í™”í˜• Interactive ì‹¤ì‹œê°„ìœ¼ë¡œ ë„ì „ê³¼ ì‘ë‹µì„ ì£¼ê³ ë°›ëŠ” êµ¬ì¡°. ì¥ì ì€ ë‹¨ìˆœì„±ê³¼ ê°•í•œ ë³´ì•ˆ ëª¨ë¸. ë‹¨ì ì€ ì™•ë³µ ìƒí˜¸ì‘ìš©ê³¼ ì œ3ì ì„¤ë“ í•œê³„ ê°€ëŠ¥ ë¹„ëŒ€í™”í˜• Non-Interactive í•˜ë‚˜ì˜ ì§§ì€ ì¦ëª…ì„ ìƒì„±í•´ ëˆ„êµ¬ë‚˜ ê²€ì¦. Fiatâ€“Shamirë¡œ ëŒ€í™”í˜• ë„ì „ì„ í•´ì‹œë¡œ ëŒ€ì²´. SNARKì™€ STARK ë“±ì—ì„œ í‘œì¤€ ì‚¬ìš© íŠ¸ë ˆì´ë“œì˜¤í”„ ë„¤íŠ¸ì›Œí¬ ì™•ë³µ ì œê±°ì™€ ê³µê°œ ê²€ì¦ ê°€ëŠ¥ì„± vs í•´ì‹œë¥¼ ëœë¤ ì˜¤ë¼í´ë¡œ ë³´ëŠ” ê°€ì •ê³¼ ê²½ìš°ì— ë”°ë¼ ì‹ ë¢° ì„¤ì • í•„ìš” ë””ì§€í„¸ ì„œëª…ê³¼ì˜ ì°¨ì´ ì‹ ì› ë…¸ì¶œ ì„œëª…ì€ ê³µê°œí‚¤ë¡œ ì„œëª…ì ì‹ ì›ì´ êµ¬ì¡°ì ìœ¼ë¡œ ë“œëŸ¬ë‚¨. ZKëŠ” ì‹ ì›ê³¼ ë¹„ë°€ ëª¨ë‘ ìˆ¨ê¸°ê³  ìœ íš¨ì„±ë§Œ ì¦ëª… ê°€ëŠ¥ ì œ3ì ì„¤ë“ ì„œëª…ì€ ë©”ì‹œì§€-ì„œëª… ìŒì„ ëˆ„êµ¬ë‚˜ ê²€ì¦ ê°€ëŠ¥í•´ ì™„ì „ ì„¤ë“ ì§€í–¥. ZKë„ NIZKë‚˜ ê³µê°œ ê²€ì¦ ê°€ëŠ¥í•œ êµ¬ì„±ì—ì„  ì œ3ì ì„¤ë“ ê°€ëŠ¥. ë‹¤ë§Œ ì§€ì • ê²€ì¦ì ZKì—ì„  ì œ3ì ì„¤ë“ì´ ì œí•œë¨ í”„ë¡ì‹œ ë¦´ë ˆì´ ê³µê²© ëŒ€í™”í˜• ì‹ë³„ í”„ë¡œí† ì½œì€ ì¤‘ê°„ì ë¦´ë ˆì´ ê³µê²© ìœ„í—˜ ì¡´ì¬. ì„¸ì…˜ ë°”ì¸ë”©ê³¼ ì±„ë„ ì¸ì¦, ë„ì „ê°’ ë°”ì¸ë”©ìœ¼ë¡œ ì™„í™” í•„ìš”. ì„œëª…ì€ ë³´í†µ í”„ë¡œí† ì½œ ë ˆë²¨ ì¸ì¦ê³¼ ì±„ë„ ë³´ì•ˆìœ¼ë¡œ ëŒ€ì‘ ì—°ê²° ê³ ë¦¬ Î£-í”„ë¡œí† ì½œì— Fiatâ€“Shamirë¥¼ ì ìš©í•˜ë©´ ì„œëª… ìŠ¤í‚´ìœ¼ë¡œ ì „í™˜ ê°€ëŠ¥. ëŒ€í‘œê°€ Schnorr ì„œëª…ì„ ZKP Under the Hood ì´ì‚°ë¡œê·¸ ê¸°ë°˜ Î£-í”„ë¡œí† ì½œ ê°€ì¥ ê³ ì „ì ì¸ ì§€ì‹ì¦ëª…ì€ ì´ì‚°ë¡œê·¸ ê°€ì • ìœ„ì—ì„œ ë™ì‘í•¨ ê³µí†µ ì…ë ¥ y = g^x mod pì—ì„œ xê°€ ë¹„ë°€ì´ë©° ProverëŠ” xë¥¼ ì•ˆë‹¤ëŠ” ì‚¬ì‹¤ì„ ì¦ëª…í•¨\nê¸°ë³¸ ì„¤ì • í° ì†Œìˆ˜ pì™€ ìƒì„±ì› gë¥¼ ê°€ì§„ ì†Œìˆ˜ ì°¨ìˆ˜ q ë¶€ë¶„êµ° ì„ íƒ. ì—°ì‚°ì€ ì§€ìˆ˜ì—ì„œ mod që¡œ ìˆ˜í–‰ ê³µí†µ ê°’ y = g^x mod pëŠ” ê³µê°œ. xëŠ” Proverë§Œ ì•„ëŠ” ë¹„ë°€ 1ë¹„íŠ¸ ì±Œë¦°ì§€ ë²„ì „ ì§ê´€ ì»¤ë°‹ Proverê°€ ì„ì˜ì˜ rë¥¼ ë½‘ì•„ C = g^r mod p ì „ì†¡ ì±Œë¦°ì§€ Verifierê°€ z âˆˆ {0,1} ì „ì†¡ ì‘ë‹µ z = 0ì´ë©´ r ê³µê°œ. z = 1ì´ë©´ s = r + x mod q ê³µê°œ ê²€ì¦ z = 0ì´ë©´ g^r â‰Ÿ C í™•ì¸. z = 1ì´ë©´ g^s â‰Ÿ C Â· y í™•ì¸ Proverê°€ xë¥¼ ëª¨ë¥´ë©´ ë‘ ê²½ìš°ë¥¼ ë™ì‹œì— ë§Œì¡±ì‹œí‚¤ëŠ” ì‘ë‹µì„ ì¤€ë¹„ ë¶ˆê°€. 1íšŒ ì†ì„ í™•ë¥  1/2. kíšŒ ë°˜ë³µ ì‹œ 2^-kë¡œ ê°ì†Œ ì¼ë°˜í™”ëœ Schnorr ì‹ë³„ í”„ë¡œí† ì½œ ë„ì „ê°’ cë¥¼ Z_qì—ì„œ ë¬´ì‘ìœ„ ì„ íƒ ì»¤ë°‹ C = g^r ì‘ë‹µ s = r + cÂ·x mod q ê²€ì¦ g^s â‰Ÿ C Â· y^c ë¹„ëŒ€í™”í˜•ìœ¼ë¡œëŠ” c = H(domain, context, g, y, C)ë¡œ ì •í•˜ê³  ë‹¨ì¼ ì¦ëª…ì„ ìƒì„±í•¨. ì—¬ê¸°ì„œ HëŠ” ë„ë©”ì¸ ë¶„ë¦¬ì™€ ì»¨í…ìŠ¤íŠ¸ ë°”ì¸ë”©ì„ í¬í•¨í•œ í•´ì‹œ í•¨ìˆ˜ì´ë©° ëœë¤ ì˜¤ë¼í´ ê°€ì • í•˜ì—ì„œ ë¶„ì„í•¨ ì£¼ì˜ì‚¬í•­ ì•ˆì „í•œ êµ¬í˜„ì€ êµ° ì°¨ìˆ˜ q ê¸°ì¤€ìœ¼ë¡œ ì§€ìˆ˜ ì—°ì‚° ìˆ˜í–‰ í•„ìš” rì€ CSPRNGë¡œ ë§¤ ì¦ëª…ë§ˆë‹¤ ìƒˆë¡œ ìƒì„±. r ì¬ì‚¬ìš©ì€ ì¦‰ì‹œ ë¹„ë°€ ìœ ì¶œë¡œ ì´ì–´ì§ í•´ì‹œ ì…ë ¥ì—” ë„ë©”ì¸ ë¶„ë¦¬ íƒœê·¸ì™€ ì„¸ì…˜ ID, ê²€ì¦ì ì‹ë³„ ë“± ì»¨í…ìŠ¤íŠ¸ë¥¼ ë°”ì¸ë”©í•´ ì¬ìƒ ê³µê²©ê³¼ êµì°¨ í”„ë¡œí† ì½œ ê°„ì„­ì„ ë°©ì§€ í•„ìš” ê°„ë‹¨ ê²€ì¦ ìŠ¤ë‹ˆí« ì˜ˆì‹œ ì•„ë˜ëŠ” ì›ë¦¬ ì „ë‹¬ìš© ìµœì†Œ í˜•íƒœì„. ì‹¤ì œ êµ¬í˜„ì—ì„  ì•ˆì „í•œ êµ° ì„ íƒ, ìƒìˆ˜ì‹œê°„ ì—°ì‚°, ì—ëŸ¬ ì²˜ë¦¬ í¬í•¨ í•„ìš”\n## ê³µê°œ íŒŒë¼ë¯¸í„° p, g, yì™€ ì»¤ë°‹ C, ë„ì „ z, ì‘ë‹µ respë¥¼ ê²€ì¦í•˜ëŠ” ì˜ˆì‹œ def verify_one_bit(p, g, y, C, z, resp): if z == 0: ## resp == r return pow(g, resp, p) == C else: ## resp == s = r + x mod q return pow(g, resp, p) == (C * y) % p def verify_schnorr(p, g, y, C, c, s): ## ì¼ë°˜í˜• ê²€ì¦ì‹ g^s == C * y^c mod p left = pow(g, s, p) right = (C * pow(y, c, p)) % p return left == right í™•ë¥ ì  ë³´ì¥ê³¼ íŒŒë¼ë¯¸í„° ì„ íƒ 1íšŒ ì†ì„ í™•ë¥ ì€ 1 / |ChallengeSpace| ì„ 1ë¹„íŠ¸ ë„ì „ì´ë©´ 1/2. kíšŒ ë…ë¦½ ë°˜ë³µ ì‹œ 2^-kë¡œ ìˆ˜ë ´ NIZKë‚˜ ê³µê°œ ê²€ì¦ì—ì„œëŠ” ë„ì „ ê³µê°„ì„ 128ë¹„íŠ¸ ì´ìƒìœ¼ë¡œ ì„¤ì •í•´ ë‹¨ì¼ ì¦ëª…ìœ¼ë¡œ ì¶©ë¶„í•œ ì‚¬ìš´ë“œë‹ˆìŠ¤ í™•ë³´ ê¶Œì¥ ë¸”ë¡ì²´ì¸ í™˜ê²½ì—ì„œëŠ” ê²€ì¦ ë¹„ìš©ê³¼ ì¦ëª… í¬ê¸°, ì‚¬ìš´ë“œë‹ˆìŠ¤ ë¹„íŠ¸ë¥¼ í•¨ê»˜ ê³ ë ¤í•´ íšŒë¡œ í¬ê¸°ì™€ íŒŒë¼ë¯¸í„°ë¥¼ ì„ íƒ í•„ìš” ì„¤ê³„ í¬ì¸íŠ¸ì™€ ìš´ì˜ ìˆ˜ì¹™ ê·¸ë£¹ê³¼ ê³¡ì„  ì„ íƒ secp256k1, P-256, BLS12-381, Bandersnatch, ristretto255 ë“± í‘œì¤€ ê³„ì—´ ìš°ì„  ê³ ë ¤ ë‚œìˆ˜ ìƒì„± CSPRNG í•„ìˆ˜. ì»¤ë°‹ nonce r ì¬ì‚¬ìš© ê¸ˆì§€. ì‹œìŠ¤í…œ RNG í’ˆì§ˆ ëª¨ë‹ˆí„°ë§ í•„ìš” íŒŒë¼ë¯¸í„° ë°”ì¸ë”© ë„ì „ í•´ì‹œì— í”„ë¡œí† ì½œ ì‹ë³„ì, ì„¸ì…˜ ID, ê²€ì¦ì ì‹ë³„ ë˜ëŠ” ì±„ë„ íŠ¹ì„± í¬í•¨í•´ ì„¸ì…˜ ê³ ì • íš¨ê³¼ í™•ë³´ íŠ¸ëœìŠ¤í¬ë¦½íŠ¸ ê´€ë¦¬ ì§€ì • ê²€ì¦ì ì‹œë‚˜ë¦¬ì˜¤ì—ì„œëŠ” ë¶ˆí•„ìš”í•œ ë‚´ë¶€ ë‚œìˆ˜ ê³µê°œë¥¼ ì¤„ì„. ê³µê°œ ê²€ì¦ ëª©í‘œë©´ ì²˜ìŒë¶€í„° NIZK ë˜ëŠ” SNARKë¥˜ ì„ íƒ ë¶€ì±„ë„ ëŒ€ì‘ íƒ€ì´ë° ëˆ„ìˆ˜ì™€ ìºì‹œ ê¸°ë°˜ ëˆ„ìˆ˜ì— ëŒ€ë¹„í•´ ìƒìˆ˜ì‹œê°„ êµ¬í˜„ê³¼ ë¸”ë¼ì¸ë”© ì ìš© ë¦¬í”Œë ˆì´ ë° ë¦´ë ˆì´ ë°©ì§€ ì„¸ì…˜ ë°”ì¸ë”©, nonce, íƒ€ì„ìŠ¤íƒ¬í”„, ì±„ë„ ì¸ì¦ ì ìš© íšŒê·€ ë°©ì§€ íšŒë¡œë‚˜ ëª…ì„¸ ë³€ê²½ ì‹œ ê²€ì¦ ê·œì¹™ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ìë™í™”ì™€ í˜¸í™˜ì„± ì²´í¬ í•„ìš” SNARK vs STARK vs Bulletproofs í•œëˆˆ ë¹„êµ í•­ëª© SNARK STARK Bulletproofs ì„¤ì • ì¼ë¶€ ì‹œìŠ¤í…œ ì‹ ë¢° ì„¤ì • í•„ìš”. Plonkë¥˜ëŠ” ë²”ìš© SRS ê°€ëŠ¥ íˆ¬ëª… ì„¤ì •. ì‹ ë¢° ì„¤ì • ë¶ˆìš” ì‹ ë¢° ì„¤ì • ë¶ˆìš” ì¦ëª… í¬ê¸° ë§¤ìš° ì‘ìŒ ìˆ˜ì‹­ ë°”ì´íŠ¸ ìˆ˜ì¤€ê¹Œì§€ ê°€ëŠ¥ ë¹„êµì  í¼ ìˆ˜ì‹­ KB ì´ìƒ ë¡œê·¸ í¬ê¸°. ë²”ìœ„ì¦ëª…ì€ ìˆ˜ KB ìˆ˜ì¤€ ê²€ì¦ ë¹„ìš© ë¹ ë¦„. ì˜¨ì²´ì¸ ì¹œí™”ì  ë³´í†µì—ì„œ ë¹ ë¦„. í•´ì‹œ ì¤‘ì‹¬ ê²€ì¦ ë¹„ìš© í¼. ì§‘ê³„ë¡œ ì™„í™” ê°€ëŠ¥ ë³´ì•ˆ ê°€ì • í˜ì–´ë§ê³¼ ë‹¤í•­ì‹ ì•½ì† ë“± ìˆ˜í•™ì  ê°€ì • í•´ì‹œ ê¸°ë°˜ IOPì™€ FRI. í¬ìŠ¤íŠ¸ ì–‘ì ë‚´ì„± ê¸°ëŒ€ ë‚´ì  ë…¼ì¦ ê¸°ë°˜. ì¼ë°˜êµ° ê°€ì • í™œìš© ì˜ˆ zkEVM, ë¡¤ì—…, ì˜ì§€ì‹ ë¸Œë¦¬ì§€ íˆ¬ëª…í•œ ë¡¤ì—…, ëŒ€ê·œëª¨ ì¶”ì  ì¦ëª… ë²”ìœ„ì¦ëª…, UTXO í”„ë¼ì´ë²„ì‹œ ê° ê³„ì—´ì˜ ì‹¤ì œ ì„±ëŠ¥ì€ êµ¬í˜„ê³¼ íšŒë¡œ êµ¬ì¡°, í•˜ë“œì›¨ì–´ì— í¬ê²Œ ì˜ì¡´í•¨\në¸”ë¡ì²´ì¸ ì ìš© ì˜ˆ ì”ì•¡ê³¼ ê¸ˆì•¡ì„ ìˆ¨ê¸´ ë¹„ê³µê°œ ì „ì†¡ê³¼ ê°ì‚¬ ê°€ëŠ¥ì„± í™•ë³´ ì‹ ì› ì†ì„± ìµœì†Œ ê³µê°œ KYC ì˜ˆ ë‚˜ì´ ì´ìƒ ì—¬ë¶€ë§Œ ì¦ëª… ì˜ì§€ì‹ ë¡¤ì—… ìƒíƒœ ì „ê°œ ì¦ëª…ê³¼ ë°ì´í„° ê°€ìš©ì„± ë³´ì™„ ì˜¤ë¼í´ ì…ë ¥ì˜ ìœ íš¨ì„± ì¦ëª…ê³¼ ì˜¤í”„ì²´ì¸ ê³„ì‚° ê²€ì¦ MPCì™€ ê²°í•©í•œ ë‹¤ì í”„ë¼ì´ë²„ì‹œ ê³„ì‚°ì˜ ê²°ê³¼ ì •í•©ì„± ì¦ëª… ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ ZKë©´ í•­ìƒ ì œ3ì ì„¤ë“ ë¶ˆê°€ì„? ì•„ë‹˜. NIZKë‚˜ ê³µê°œ ê²€ì¦ ê°€ëŠ¥í•œ êµ¬ì„±ì—ì„  ëˆ„êµ¬ë‚˜ ê²€ì¦ ê°€ëŠ¥í•¨ STARKëŠ” í¬ìŠ¤íŠ¸ ì–‘ì ë³´ì•ˆ ë³´ì¥ì„? ì–‘ìì— ëŒ€í•´ ì•Œë ¤ì§„ ê³µê²©ì´ ì•½í•˜ë‹¤ëŠ” ì˜ë¯¸ì˜ ë‚´ì„± ê¸°ëŒ€ ìˆ˜ì¤€ì„. ìˆ˜í•™ì  ì¦ëª…ëœ ë³´ì¥ì€ ì•„ë‹˜ ì™œ r ì¬ì‚¬ìš©ì´ ìœ„í—˜í•¨? ì„œë¡œ ë‹¤ë¥¸ ë„ì „ì— ê°™ì€ rì„ ì“°ë©´ xê°€ ì„ í˜•ì‹ìœ¼ë¡œ ë…¸ì¶œë¨ ì™œ q ëª¨ë“ˆëŸ¬ë¥¼ ê°•ì¡°í•¨? ì•ˆì „í•œ ì§€ìˆ˜ ì—°ì‚°ì˜ ì •ì˜ì—­ì€ êµ° ì°¨ìˆ˜ qì´ê¸° ë•Œë¬¸ì„. p-1 ì „ì—­ ëª¨ë“ˆëŸ¬ëŠ” ì•ˆì „í•˜ì§€ ì•Šì„ ìˆ˜ ìˆìŒ ê²€ì¦ê³¼ íšŒê·€ ë°©ì§€ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‚¬ìš´ë“œë‹ˆìŠ¤ ëª©í‘œ ë¹„íŠ¸ì™€ ë„ì „ ê³µê°„ì´ ìš”êµ¬ ìˆ˜ì¤€ ì¶©ì¡±í•˜ëŠ”ì§€ ì ê²€ ë‚œìˆ˜ ìƒì„± ëª¨ë“ˆ í’ˆì§ˆê³¼ ì‹œë“œ ê´€ë¦¬ ìƒíƒœ ê°ì‚¬ ë„ë©”ì¸ ë¶„ë¦¬ íƒœê·¸ì™€ ì„¸ì…˜ IDê°€ í•´ì‹œ ì…ë ¥ì— í¬í•¨ë˜ëŠ”ì§€ í™•ì¸ ì¬ìƒ ê³µê²©ê³¼ í”„ë¡ì‹œ ë¦´ë ˆì´ ê°€ëŠ¥ì„±ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ì™€ ì±„ë„ ì¸ì¦ ì ìš© ìƒìˆ˜ì‹œê°„ ì—°ì‚° ì¤€ìˆ˜ ì—¬ë¶€ì™€ ë©”ëª¨ë¦¬ ì ‘ê·¼ íŒ¨í„´ ëˆ„ìˆ˜ ì ê²€ íšŒë¡œ ë³€ê²½ ì‹œ ê²€ì¦ ê·œì¹™ ìŠ¤ëƒ…ìƒ·ê³¼ íšŒê·€ í…ŒìŠ¤íŠ¸ ìë™í™” ë§ˆë¬´ë¦¬ ì˜ì§€ì‹ ì¦ëª…ì€ ë¹„ë°€ì„ ë“œëŸ¬ë‚´ì§€ ì•Šê³ ë„ ìœ íš¨ì„±ì„ ì„¤ë“í•˜ëŠ” ì²´ê³„ì„ ì™„ì „ì„±-ê±´ì „ì„±-ì˜ì§€ì‹ì„±ì˜ ì‚¼ê°ì„ ì´í•´í•˜ê³  ëŒ€í™”í˜•ê³¼ ë¹„ëŒ€í™”í˜•ì˜ ì°¨ì´ë¥¼ íŒŒì•…í•˜ë©´ ì„¤ê³„ ì„ íƒì´ ëª…í™•í•´ì§ ì‹¤ë¬´ì—ì„œëŠ” ì•ˆì „í•œ êµ° ì„ íƒê³¼ ë‚œìˆ˜, ë„ì „ ê³µê°„ í¬ê¸°, ì„¸ì…˜ ë° ì±„ë„ ë°”ì¸ë”©, ì‹ ë¢° ì„¤ì •ê³¼ ë¶€ì±„ë„ ëŒ€ì‘ì„ ì¢…í•©ì ìœ¼ë¡œ ê´€ë¦¬ í•„ìš” ëª©í‘œëŠ” ë¹„ë°€ì„ ì§€í‚¤ë©´ì„œë„ ëˆ„êµ¬ë‚˜ ë˜ëŠ” ì§€ì •ëœ ìƒëŒ€ê°€ ë‚©ë“í•  ìˆ˜ ìˆëŠ” ê²€ì¦ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œì„ ë§Œë“œëŠ” ê²ƒì„\nì°¸ê³  ë§í¬ https://en.wikipedia.org/wiki/Zero-knowledge_proof https://en.wikipedia.org/wiki/Interactive_proof_system https://en.wikipedia.org/wiki/Schnorr_identification https://en.wikipedia.org/wiki/Fiat%E2%80%93Shamir_heuristic https://en.wikipedia.org/wiki/SNARK https://en.wikipedia.org/wiki/STARK_(cryptography) https://en.wikipedia.org/wiki/Bulletproofs https://hyun-jeong.medium.com ","permalink":"https://blog.jsontapose.com/posts/zkp-concepts-and-how-it-works-vs-digital-signatures-1338b0/","summary":"\u003ch2 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h2\u003e\n\u003cp\u003eì˜ì§€ì‹ ì¦ëª…ì€ ì–´ë–¤ ëª…ì œê°€ ì°¸ì„ì„ ì„¤ë“í•˜ë©´ì„œë„ ê·¸ ê·¼ê±°ê°€ ë˜ëŠ” ë¹„ë°€ì€ ëê¹Œì§€ ìˆ¨ê¸°ëŠ” ì ˆì°¨ë¥¼ ë§í•¨\në¸”ë¡ì²´ì¸ê³¼ í”„ë¼ì´ë²„ì‹œ ë³´ì¡´ ì»´í“¨íŒ…ì—ì„œ í•µì‹¬ ë„êµ¬ë¡œ ìë¦¬ ì¡ì•˜ê³  ë²”ìš© ê³„ì‚°ì˜ ìœ íš¨ì„±ì„ ì‘ì€ ì¦ëª…ìœ¼ë¡œ ì••ì¶•í•´ ì „ë‹¬í•˜ëŠ” í˜„ëŒ€ í”„ë¡œí† ì½œì˜ ê¸°ì´ˆë¡œ ì“°ì„\nì´ ê¸€ì€ ê¸°ë³¸ ê°œë…ê³¼ ì§ê´€, ìˆ˜í•™ì  ì„±ì§ˆ, ëŒ€í™”í˜•ê³¼ ë¹„ëŒ€í™”í˜•ì˜ ì°¨ì´, ë””ì§€í„¸ ì„œëª…ê³¼ì˜ êµ¬ë¶„, ì´ì‚°ë¡œê·¸ ê¸°ë°˜ ê°„ë‹¨ Î£-í”„ë¡œí† ì½œê¹Œì§€ í•œ ë²ˆì— ì •ë¦¬í•¨\u003c/p\u003e\n\u003ch2 id=\"ëª©ì ê³¼-ë§¥ë½\"\u003eëª©ì ê³¼ ë§¥ë½\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eë¹„ë°€ì„ ê³µê°œí•˜ì§€ ì•Šê³  ìœ íš¨ì„±ë§Œ ê²€ì¦í•˜ë ¤ëŠ” ìš”êµ¬ ì¦ê°€\u003c/li\u003e\n\u003cli\u003eí¼ë¸”ë¦­ ë¸”ë¡ì²´ì¸ì—ì„œ ë°ì´í„° ë¹„ê³µê°œ ìœ ì§€ì™€ ì •í•©ì„± ë³´ì¥ í•„ìš” í™•ëŒ€\u003c/li\u003e\n\u003cli\u003eì˜¤í”„ì²´ì¸ ì—°ì‚°ì„ ì˜¨ì²´ì¸ì— ì‘ì€ ì¦ëª…ìœ¼ë¡œ ì œì¶œí•´ í™•ì¥ì„±ê³¼ ë¹„ìš© ê°œì„  ì¶”êµ¬\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"í•µì‹¬-ê°œë…ê³¼-ì •ì˜\"\u003eí•µì‹¬ ê°œë…ê³¼ ì •ì˜\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eProver ë¹„ë°€ì„ ê°€ì§„ ì°¸ì—¬ì. ë¹„ë°€ì„ ê³µê°œí•˜ì§€ ì•Šê³  ëª…ì œì˜ ì°¸ì„ ì„¤ë“í•˜ë ¤ëŠ” ì£¼ì²´\u003c/li\u003e\n\u003cli\u003eVerifier ê²€ì¦ì. Proverê°€ ë¹„ë°€ì„ ê°€ì§„ ì‚¬ì‹¤ ë˜ëŠ” ëª…ì œê°€ ì°¸ì´ë¼ëŠ” ì‚¬ì‹¤ë§Œ í™•ì¸í•˜ë ¤ëŠ” ì£¼ì²´\u003c/li\u003e\n\u003cli\u003eWitness ë˜ëŠ” Secret ëª…ì œì˜ ì°¸ì„ ë’·ë°›ì¹¨í•˜ëŠ” ë¹„ë°€ ê°’ ë˜ëŠ” ë¹„ë°€ ì§€ì‹\u003c/li\u003e\n\u003cli\u003eStatement ê³µê°œ ê°€ëŠ¥í•œ ëª…ì œ í‘œí˜„. ì˜ˆ y = g^x mod pì—ì„œ xë¥¼ ì•Œê³  ìˆìŒì„ ì¦ëª…\u003c/li\u003e\n\u003cli\u003eChallenge ê²€ì¦ìê°€ ì œì‹œí•˜ëŠ” ë¬´ì‘ìœ„ ë„ì „ê°’. ì¡°ì‘ ë¶ˆê°€ì™€ ì˜ˆì¸¡ ë¶ˆê°€ê°€ ì „ì œ\u003c/li\u003e\n\u003cli\u003eTranscript ë˜ëŠ” View ëŒ€í™”í˜• ìƒí˜¸ì‘ìš©ì˜ ê¸°ë¡. ì‹œë®¬ë ˆì´í„°ê°€ ë™ì¼ ë¶„í¬ë¡œ ì¬í˜„ ê°€ëŠ¥í•´ì•¼ ì˜ì§€ì‹ ì„±ë¦½\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"ì˜ì§€ì‹-ì¦ëª…ì˜-ì„¸-ê°€ì§€-ì„±ì§ˆ\"\u003eì˜ì§€ì‹ ì¦ëª…ì˜ ì„¸ ê°€ì§€ ì„±ì§ˆ\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eì™„ì „ì„± Completeness ì •ì§í•œ Proverê°€ ë¹„ë°€ì„ ê°€ì§€ê³  ìˆìœ¼ë©´ ì •ì§í•œ VerifierëŠ” ë†’ì€ í™•ë¥ ë¡œ ì„¤ë“ë¨\u003c/li\u003e\n\u003cli\u003eê±´ì „ì„± Soundness ë¹„ë°€ì´ ì—†ìœ¼ë©´ Proverê°€ ì†ì¼ í™•ë¥ ì´ ë§¤ìš° ë‚®ìŒ. ë„ì „ ê³µê°„ í™•ëŒ€ë‚˜ ë°˜ë³µìœ¼ë¡œ ì†ì„ í™•ë¥ ì„ ì§€ìˆ˜ì ìœ¼ë¡œ ë‚®ì¶¤\u003c/li\u003e\n\u003cli\u003eì˜ì§€ì‹ì„± Zero-Knowledge VerifierëŠ” ëª…ì œê°€ ì°¸ì´ë¼ëŠ” ì‚¬ì‹¤ ì™¸ ì¶”ê°€ ì •ë³´ë¥¼ ì–»ì§€ ëª»í•¨. ì‹œë®¬ë ˆì´í„°ê°€ ì‹¤ì œì™€ êµ¬ë³„ ë¶ˆê°€í•œ íŠ¸ëœìŠ¤í¬ë¦½íŠ¸ë¥¼ ë¹„ë°€ ì—†ì´ ìƒì„± ê°€ëŠ¥í•´ì•¼ í•¨\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"ì§ê´€ì -ì˜ˆì‹œ-ì•Œë¦¬ë°”ë°”-ë™êµ´\"\u003eì§ê´€ì  ì˜ˆì‹œ ì•Œë¦¬ë°”ë°” ë™êµ´\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eë™êµ´ì˜ ë‘ ê°ˆë˜ Aì™€ B ì‚¬ì´ë¥¼ ê°€ë¡œë§‰ëŠ” ë¬¸ì´ ìˆê³  ë¹„ë°€ ì£¼ë¬¸ì„ ì•Œë©´ ë°˜ëŒ€í¸ìœ¼ë¡œ ë„˜ì–´ì˜¬ ìˆ˜ ìˆìŒ\u003c/li\u003e\n\u003cli\u003eê²€ì¦ìëŠ” Proverê°€ ë“¤ì–´ê°„ ë’¤ ë¬´ì‘ìœ„ë¡œ A ë˜ëŠ” Bë¡œ ë‚˜ì˜¤ë¼ê³  ìš”êµ¬í•¨\u003c/li\u003e\n\u003cli\u003eProverê°€ ì£¼ë¬¸ì„ ëª¨ë¥´ë©´ ìì‹ ì´ ë“¤ì–´ê°„ ìª½ì„ ìš”êµ¬ë°›ì„ ë•Œë§Œ ì„±ê³µ ê°€ëŠ¥. 1íšŒ ì„±ê³µ í™•ë¥  1/2\u003c/li\u003e\n\u003cli\u003ekíšŒ ë…ë¦½ ë°˜ë³µí•˜ë©´ ëª¨ë‘ ì†ì¼ í™•ë¥  2^-kë¡œ ê¸‰ê°\u003c/li\u003e\n\u003cli\u003eê²€ì¦ìëŠ” ì£¼ë¬¸ ë‚´ìš©ì€ ëª¨ë¥´ì§€ë§Œ Proverê°€ ì£¼ë¬¸ì„ ì•ˆë‹¤ëŠ” ì‚¬ì‹¤ë§Œ ë†’ì€ í™•ë¥ ë¡œ í™•ì‹  ê°€ëŠ¥í•¨\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eí•µì‹¬ í¬ì¸íŠ¸\u003c/p\u003e","title":"ì˜ì§€ì‹ ì¦ëª… ZKPì˜ ê°œë…ê³¼ ë™ì‘ ì›ë¦¬, ë””ì§€í„¸ ì„œëª…ê³¼ì˜ ì°¨ì´"},{"content":"ê°œë…ê³¼ ë°°ê²½ ReorgëŠ” ë™ì‹œì— ìƒì„±ëœ ë¸”ë¡ë¡œ ì²´ì¸ì´ ì ì‹œ ë¶„ê¸°ëœ ë’¤ í•©ì˜ ê·œì¹™ì— ë”°ë¼ ë” ìš°ì„¸í•œ ë¶„ê¸°ë¡œ ê°ˆì•„íƒ€ëŠ” ìƒí™©ì„ ëœ»í•¨ ì§§ì•„ì§„ ë¶„ê¸°ì— ìˆë˜ ë¸”ë¡ì€ í™œì„± ì²´ì¸ì—ì„œ ì œì™¸ë˜ì–´ ì¡´ì¬í•˜ì§€ ì•Šì•˜ë˜ ê²ƒìœ¼ë¡œ ì·¨ê¸‰ë¨ ë…¸ë“œëŠ” ìì‹ ì˜ ë¡œì»¬ ê´€ì ì—ì„œ ë” ìš°ì„¸í•œ ì²´ì¸ì„ ë°œê²¬í•˜ë©´ ê·¸ ì²´ì¸ìœ¼ë¡œ êµì²´í•˜ëŠ”ë° ì´ í˜„ìƒì€ ë„¤íŠ¸ì›Œí¬ ì „ì²´ê°€ ë™ì‹œì— ì¼ì–´ë‚˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ê° ë…¸ë“œì—ì„œ êµ­ì†Œì ìœ¼ë¡œ ë°œìƒí•¨\ní•µì‹¬ ìš©ì–´ ì •ë¦¬ ìŠ¤í…Œì¼ ë¸”ë¡ best chainì— í¸ì…ë˜ì§€ ëª»í•œ ì •ìƒ ë¸”ë¡ì„ ë§í•¨\nì˜¤í€ ë¸”ë¡ ì „í†µì ìœ¼ë¡œ ë¶€ëª¨ë¥¼ ëª¨ë¥´ëŠ” ë¸”ë¡ì„ ì˜ë¯¸í•˜ì§€ë§Œ ì»¤ë®¤ë‹ˆí‹°ì—ì„  ìŠ¤í…Œì¼ ë¸”ë¡ê³¼ í˜¼ìš©ë˜ëŠ” ê²½ìš°ê°€ ë§ìŒ\në¦¬ì˜¤ê·¸ ê¹Šì´ êµì²´ë˜ëŠ” ë¸”ë¡ì˜ ê°œìˆ˜ë¡œ ì¸¡ì •í•¨\në©”ì¸ ì²´ì¸ ì„ íƒ ê·œì¹™\nPoWì—ì„  ëˆ„ì  ì‘ì—…ëŸ‰ì´ í° ì²´ì¸ì´ ìš°ì„ ë¨ ì´ë”ë¦¬ì›€ PoSì—ì„  LMD-GHOST í¬í¬ì´ˆì´ìŠ¤ë¥¼ ë”°ë¥´ë˜ ë§ˆì§€ë§‰ ìµœì¢…í™” ì§€ì  í•˜ìœ„ë§Œ í›„ë³´ê°€ ë¨ ì™œ ë¦¬ì˜¤ê·¸ê°€ ìƒê¹€ ë„¤íŠ¸ì›Œí¬ ì§€ì—°ì´ë‚˜ ì „íŒŒ ê²½í•©ìœ¼ë¡œ ê°™ì€ ë†’ì´ì˜ ë¸”ë¡ì´ ë™ì‹œì— ìƒì„±ë¨ ì¼ë¶€ ë…¸ë“œëŠ” Aë¥¼, ë‹¤ë¥¸ ë…¸ë“œëŠ” Bë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‹¤ìŒ ë¸”ë¡ì„ ìŒ“ìŒ ì‹œê°„ì´ ì§€ë‚˜ ìš°ì„¸í•œ ì²´ì¸ì´ ê²°ì •ë˜ë©´ ë…¸ë“œê°€ ê·¸ ì²´ì¸ìœ¼ë¡œ êµì²´í•¨ ë²„ë ¤ì§„ ì²´ì¸ì˜ íŠ¸ëœì­ì…˜ì€ ì†Œì‹¤ë˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ë‹¤ì‹œ ë©”ëª¨í’€ë¡œ ëŒì•„ê°€ ì¬í¬í•¨ì„ ê¸°ë‹¤ë¦¼ í•©ì˜ë³„ ë¦¬ì˜¤ê·¸ì˜ ì°¨ì´ PoW ê³„ì—´ ì§ê´€ ìš°ì„¸ ì²´ì¸ ê¸°ì¤€ì€ ë¸”ë¡ ìˆ˜ê°€ ì•„ë‹ˆë¼ ëˆ„ì  ì‘ì—…ëŸ‰ì„ ìì—° ë°œìƒ ë¦¬ì˜¤ê·¸ëŠ” ë³´í†µ ê¹Šì´ 1ì—ì„œ ëë‚¨ ë³´ì•ˆ ê´€ë¡€ë¡œ ë¹„íŠ¸ì½”ì¸ì€ 6ì»¨íŒ ì •ë„ë¥¼ ì‚¬ëŒÂ·ì„œë¹„ìŠ¤ê°€ ì•ˆì „ êµ¬ê°„ìœ¼ë¡œ ì‚¼ëŠ” ê²½ìš°ê°€ ë§ìŒ ë‹¤ìˆ˜ í•´ì‹œ íŒŒì›Œë¥¼ ê°€ì§„ ìƒëŒ€ëŠ” ë” ê¹Šì€ ë¦¬ì˜¤ê·¸ë¥¼ ì¸ìœ„ì ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ê³ ê°€ì¹˜ ê²°ì œì¼ìˆ˜ë¡ ë” ë§ì€ ì»¨íŒì„ ê¸°ë‹¤ë¦¬ëŠ” ì „ëµì´ ì“°ì„ ì´ë”ë¦¬ì›€ PoS ì§ê´€ ìŠ¬ë¡¯ì€ 12ì´ˆ, 32ìŠ¬ë¡¯ì´ 1ì—í­ì´ë©° í¬í¬ì´ˆì´ìŠ¤ëŠ” LMD-GHOSTì™€ FFG ìµœì¢…í™” ê·œì¹™ì„ í•¨ê»˜ ì‚¬ìš©í•¨ í—¤ë“œëŠ” ê°€ì¥ ìµœê·¼ ê°€ì¤‘ì¹˜ê°€ ë†’ì€ ì²´ì¸ ë¨¸ë¦¬, ì„¸ì´í”„ í—¤ë“œëŠ” ë³´ìˆ˜ì  ì¶”ì •, íŒŒì´ë„ë¼ì´ì¦ˆë“œëŠ” FFGë¡œ ìµœì¢…í™”ëœ ì²´í¬í¬ì¸íŠ¸ ì•„ë˜ ì²´ì¸ ìƒíƒœë¥¼ ëœ»í•¨ ì •ìƒ ì¡°ê±´ì—ì„  ë¦¬ì˜¤ê·¸ ê¹Šì´ê°€ ì‘ê³  íŒŒì´ë„ë¼ì´ì¦ˆë“œ ì´í›„ë¡œì˜ ë¦¬ì˜¤ê·¸ëŠ” ëŒ€ê·œëª¨ ë¹„ì •ìƒ í–‰ë™ ì—†ì´ëŠ” ì‚¬ì‹¤ìƒ ë¶ˆê°€ì— ê°€ê¹Œì›€ ëŒ€ëµ ë‘ ê°œì˜ ì—í­ì´ ì§€ë‚˜ë©´ ë³´í†µ ìµœì¢…í™”ë˜ì–´ ì‹¤ì‚¬ìš©ì—ì„  ì•½ 12ë¶„ ë‚¨ì§“ì„ ê°•í•œ í™•ì • êµ¬ê°„ìœ¼ë¡œ ë³¸ë‹¤ëŠ” ê´€ë¡€ê°€ ìˆìŒ í™˜ê²½ê³¼ ë„¤íŠ¸ì›Œí¬ ìƒí™©ì— ë”°ë¼ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŒ L2ì—ì„œì˜ ë¦¬ì˜¤ê·¸ ê´€ì  L2â†’L1 ë©”ì‹œì§€ëŠ” L1ì— ê¸°ë¡ë˜ê³  ê´€ë ¨ ê·œì¹™ì„ ì¶©ì¡±í•˜ë©´ ì¬ì „ì†¡í•˜ì§€ ì•ŠìŒ ì˜µí‹°ë¯¸ìŠ¤í‹± ë¡¤ì—…ì€ ì±Œë¦°ì§€ ìœˆë„ìš°ê°€ ì§€ë‚˜ì•¼ ê°•í•œ í™•ì •ìœ¼ë¡œ ì·¨ê¸‰í•˜ë©° ê·¸ ì „ì—ëŠ” ì§€ì—°ì„ ê°ì•ˆí•´ì•¼ í•¨ L1ì´ ë’¤ì§‘íˆëŠ” ì•„ì£¼ ì´ë¡€ì ì¸ ìƒí™©ì„ ì œì™¸í•˜ë©´ L1ì— ìµœì¢…ì ìœ¼ë¡œ ê¸°ë¡ëœ ìƒíƒœëŠ” ë‹¤ì‹œ ë’¤ì§‘íˆì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì„ ì „ì œë¡œ ì‹œìŠ¤í…œì„ ì„¤ê³„í•¨ ë¦¬ì˜¤ê·¸ì™€ í—·ê°ˆë¦¬ê¸° ì‰¬ìš´ ê²ƒë“¤ RBFë‚˜ ìˆ˜ìˆ˜ë£Œ ê²½ìŸìœ¼ë¡œ ì¸í•´ ë©”ëª¨í’€ì—ì„œ íŠ¸ëœì­ì…˜ì´ êµì²´ë˜ëŠ” í˜„ìƒì€ ë¦¬ì˜¤ê·¸ì™€ ë³„ê°œì„ í”„ë¡œí† ì½œ ì—…ê·¸ë ˆì´ë“œë¥¼ ìœ„í•œ í•˜ë“œí¬í¬ëŠ” í•©ì˜ ê·œì¹™ ìì²´ë¥¼ ë°”ê¾¸ëŠ” ì´ë²¤íŠ¸ì´ë©° ìì—° ë°œìƒ ë¦¬ì˜¤ê·¸ì™€ëŠ” ë²”ì£¼ê°€ ë‹¤ë¦„ ê³¼ê±° ì´ë”ë¦¬ì›€ PoW ì‹œì ˆì˜ ì˜´ë¨¸ í¬í•¨ì€ ìŠ¤í…Œì¼ ë¸”ë¡ ë³´ìƒ ë©”ì»¤ë‹ˆì¦˜ì¼ ë¿ ë¦¬ì˜¤ê·¸ ìì²´ê°€ ì•„ë‹˜ ì„œë¹„ìŠ¤ ì„¤ê³„ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ ê²°ì œì™€ ì¶œê¸ˆ\nìì‚°Â·ìœ„í—˜ë„Â·ì²´ì¸ë³„ë¡œ ì»¨íŒ ìˆ˜ ì •ì±…ì„ ë¬¸ì„œí™”í•´ ìš´ì˜í•¨ ê³ ê°€ì¹˜ ê²°ì œëŠ” ë” ë§ì€ ì»¨íŒì„ ìš”êµ¬í•˜ê³  ì €ê°€ì¹˜Â·ì†Œì•¡ì€ ì‚¬ìš©ì ê²½í—˜ì„ ìœ„í•´ ë‚®ì¶œ ìˆ˜ ìˆìŒ ë°ì´í„° ì²˜ë¦¬\nì¸ë±ì‹±ì€ ë†’ì´ë§Œ ì €ì¥í•˜ì§€ ë§ê³  ë¸”ë¡ í•´ì‹œì™€ ë¶€ëª¨ í•´ì‹œë¥¼ í•¨ê»˜ ì €ì¥ ë¦¬ì˜¤ê·¸ ê°ì§€ ì‹œ ë¡¤ë°± ê°€ëŠ¥í•œ ì €ë„ì„ ë‘ê³  ë˜ê°ê¸° í›„ ì¬ì²˜ë¦¬ íŠ¸ëœì­ì…˜ ì²˜ë¦¬\në©±ë“±ì„± í™•ë³´ë¥¼ ìœ„í•´ ë…¼ìŠ¤Â·ì»¨íŠ¸ë™íŠ¸ ìƒíƒœÂ·ì´ë²¤íŠ¸ IDë¥¼ í•¨ê»˜ ê²€ì¦ ì¬ë°©ì†¡ì€ ë™ì¼ ë…¼ìŠ¤ë¡œ ìˆ˜í–‰í•´ ì¤‘ë³µ ì‹¤í–‰ì„ í”¼í•¨ UX\nì ì • ìƒíƒœ í‘œì‹œì™€ ì»¨íŒ ì¹´ìš´í„° ì œê³µ ì„¸ì´í”„ í—¤ë“œì™€ íŒŒì´ë„ë¼ì´ì¦ˆë“œì˜ ì°¨ì´ë¥¼ ì‚¬ìš©ìì—ê²Œ ëª…í™•íˆ ì•ˆë‚´ ë¦¬ì˜¤ê·¸ ê°ì§€ì™€ ëŒ€ì‘ íŒ¨í„´ í—¤ë“œ í•´ì‹œ ë³€í™” ëª¨ë‹ˆí„°ë§ê³¼ íŠ¹ì • ê¹Šì´ ì´ìƒ ë³€í™”ì‹œ ê²½ë³´\nìµœì‹  Nê°œ ë¸”ë¡ì˜ ì²´ì¸IDÂ·ë†’ì´Â·í•´ì‹œÂ·ë¶€ëª¨ í•´ì‹œÂ·ë„ì°© ì‹œê°ì„ ì›ì¥ê³¼ ë³„ë„ í…Œì´ë¸”ì— ìœˆë„ìš°ë¡œ ê´€ë¦¬\ní™•ì • ë ˆë²¨ë³„ë¡œ íŒŒì´í”„ë¼ì¸ì„ ë¶„ê¸°\ní—¤ë“œ ê¸°ì¤€ ì‹¤ì‹œê°„ ê¸°ëŠ¥ ì„¸ì´í”„ ê¸°ì¤€ ì¤‘ìš” ì•Œë¦¼ íŒŒì´ë„ ê¸°ì¤€ ì˜êµ¬ ì €ì¥ ê°„ë‹¨ ì˜ì‚¬ì½”ë“œ\nonNewBlock(b): save(b.height, b.hash, b.parent) if parentNotHead(): // reorg ë°œìƒ rollbackUntilCommonAncestor() replayFromAncestor() routePipelinesByCommitment(head, safe, finalized) ìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì»¨íŒ ì •ì±…ê³¼ ë¦¬ì˜¤ê·¸ ìµœëŒ€ í—ˆìš© ê¹Šë„ê°€ ë¬¸ì„œí™”ë˜ì–´ ìˆìŒ ì¸ë±ì„œê°€ ë¡¤ë°±ê³¼ ì¬ì²˜ë¦¬ë¥¼ ì§€ì›í•¨ ì•Œë¦¼ ì‹œìŠ¤í…œì´ í—¤ë“œ ì „í™˜ê³¼ ë¦¬ì˜¤ê·¸ ì´ë²¤íŠ¸ë¥¼ ê¸°ë¡í•¨ íŒŒì´ë„ë¼ì´ì¦ˆë“œ êµ¬ê°„ë§Œ ì˜êµ¬ ì €ì¥í•˜ê±°ë‚˜ ë°±ê·¸ë¼ìš´ë“œ í™•ì •í™” ì‘ì—…ì„ ìš´ì˜í•¨ L2ì˜ ì±Œë¦°ì§€ ìœˆë„ìš°ì™€ ë¸Œë¦¬ì§€ ì§€ì—°ì„ ê³ ë ¤í•´ íƒ€ì„ë¼ì¸ì„ ì„¤ê³„í•¨ ê°„ë‹¨ ì‹œë‚˜ë¦¬ì˜¤ í•œêµ­ê³¼ ë¯¸êµ­ì—ì„œ ê°™ì€ ë†’ì´ ë¸”ë¡ì´ ë™ì‹œì— ìƒì„±ë¨ ê° ì§€ì—­ ë…¸ë“œê°€ ìì‹ ì´ ë¨¼ì € ë³¸ ë¸”ë¡ ìœ„ë¡œ ë‹¤ìŒ ë¸”ë¡ì„ ìŒ“ìŒ í•œìª½ ì²´ì¸ì´ í•œ ë¸”ë¡ ë” ë¹¨ë¦¬ ìŒ“ì´ë©° ìš°ì„¸í•´ì§€ë©´ ë‹¤ë¥¸ ìª½ì€ ìŠ¤í…Œì¼ ì²˜ë¦¬ë¨ ìŠ¤í…Œì¼ ì²´ì¸ì— ìˆë˜ ê±°ë˜ëŠ” ë©”ëª¨í’€ë¡œ ëŒì•„ê°€ ë©”ì¸ ì²´ì¸ì— ì¬í¬í•¨ì„ ê¸°ë‹¤ë¦¼\nì°¸ê³ ìë£Œ https://en.bitcoin.it/wiki/Chain_Reorganization?utm_source=chatgpt.com https://learnmeabitcoin.com/technical/blockchain/chain-reorganization/?utm_source=chatgpt.com https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/?utm_source=chatgpt.com https://ethereum.org/en/developers/docs/scaling/optimistic-rollups/?utm_source=chatgpt.com https://www.alchemy.com/overviews/ethereum-commitment-levels?utm_source=chatgpt.com ","permalink":"https://blog.jsontapose.com/posts/blockchain-reorg-chain-reorganization-f4966a/","summary":"\u003ch2 id=\"ê°œë…ê³¼-ë°°ê²½\"\u003eê°œë…ê³¼ ë°°ê²½\u003c/h2\u003e\n\u003cp\u003eReorgëŠ” ë™ì‹œì— ìƒì„±ëœ ë¸”ë¡ë¡œ ì²´ì¸ì´ ì ì‹œ ë¶„ê¸°ëœ ë’¤ í•©ì˜ ê·œì¹™ì— ë”°ë¼ ë” ìš°ì„¸í•œ ë¶„ê¸°ë¡œ ê°ˆì•„íƒ€ëŠ” ìƒí™©ì„ ëœ»í•¨\nì§§ì•„ì§„ ë¶„ê¸°ì— ìˆë˜ ë¸”ë¡ì€ í™œì„± ì²´ì¸ì—ì„œ ì œì™¸ë˜ì–´ ì¡´ì¬í•˜ì§€ ì•Šì•˜ë˜ ê²ƒìœ¼ë¡œ ì·¨ê¸‰ë¨\në…¸ë“œëŠ” ìì‹ ì˜ ë¡œì»¬ ê´€ì ì—ì„œ ë” ìš°ì„¸í•œ ì²´ì¸ì„ ë°œê²¬í•˜ë©´ ê·¸ ì²´ì¸ìœ¼ë¡œ êµì²´í•˜ëŠ”ë° ì´ í˜„ìƒì€ ë„¤íŠ¸ì›Œí¬ ì „ì²´ê°€ ë™ì‹œì— ì¼ì–´ë‚˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ê° ë…¸ë“œì—ì„œ êµ­ì†Œì ìœ¼ë¡œ ë°œìƒí•¨\u003c/p\u003e\n\u003ch2 id=\"í•µì‹¬-ìš©ì–´-ì •ë¦¬\"\u003eí•µì‹¬ ìš©ì–´ ì •ë¦¬\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eìŠ¤í…Œì¼ ë¸”ë¡ best chainì— í¸ì…ë˜ì§€ ëª»í•œ ì •ìƒ ë¸”ë¡ì„ ë§í•¨\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eì˜¤í€ ë¸”ë¡ ì „í†µì ìœ¼ë¡œ ë¶€ëª¨ë¥¼ ëª¨ë¥´ëŠ” ë¸”ë¡ì„ ì˜ë¯¸í•˜ì§€ë§Œ ì»¤ë®¤ë‹ˆí‹°ì—ì„  ìŠ¤í…Œì¼ ë¸”ë¡ê³¼ í˜¼ìš©ë˜ëŠ” ê²½ìš°ê°€ ë§ìŒ\u003c/p\u003e","title":"ë¸”ë¡ì²´ì¸ Reorg(ì²´ì¸ ì¬êµ¬ì„±) ì´í•´"},{"content":"ê°œìš” í”„ë¼ì´ë¹—í‚¤ ê´€ë¦¬ ë°©ì‹ì— ë”°ë¼ ì•”í˜¸í™”í ì›”ë ›ì€ ì»¤ìŠ¤í† ë””ì–¼(custodial) ê³¼ ë…¼ì»¤ìŠ¤í† ë””ì–¼(noncustodial) ë¡œ êµ¬ë¶„ë¨ ê° ë°©ì‹ì˜ ì°¨ì´ì™€ ì„ íƒ ê¸°ì¤€, ë³´ì•ˆÂ·ìš´ì˜ ë¦¬ìŠ¤í¬ì™€ ëŒ€ì‘ ë°©ì•ˆì„ ì´ˆë³´ìë„ ì´í•´í•  ìˆ˜ ìˆê²Œ ì •ë¦¬í•˜ë©´ì„œ ì‹¤ë¬´ìê°€ ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” ì²´í¬ë¦¬ìŠ¤íŠ¸ê¹Œì§€ ì œì‹œí•¨\ní•µì‹¬ ê°œë… ì»¤ìŠ¤í† ë””ì–¼ ì›”ë › ì œ3ì ì„œë¹„ìŠ¤ê°€ ì‚¬ìš©ìì˜ í”„ë¼ì´ë¹—í‚¤ë¥¼ ë³´ê´€í•˜ê³  ì„œëª…ì„ ëŒ€í–‰í•˜ëŠ” êµ¬ì¡° ë¡œê·¸ì¸Â·ì¶œê¸ˆ ë“±ì€ ì„œë¹„ìŠ¤ ì¸ì¦ ì ˆì°¨ë¥¼ ê±°ì³ ì²˜ë¦¬ë¨\në…¼ì»¤ìŠ¤í† ë””ì–¼ ì›”ë › ì‚¬ìš©ìê°€ í”„ë¼ì´ë¹—í‚¤ë¥¼ ì§ì ‘ ë³´ìœ Â·ê´€ë¦¬í•˜ëŠ” êµ¬ì¡° ë¸Œë¼ìš°ì € í™•ì¥ ì§€ê°‘Â·ëª¨ë°”ì¼ ì•± ì§€ê°‘Â·í•˜ë“œì›¨ì–´ ì§€ê°‘ì´ ëŒ€í‘œì  ì‚¬ë¡€ì„\ní•µì‹¬ ì°¨ì´ í•œ ì¤„ ì •ë¦¬ í‚¤ì˜ ì†Œìœ Â·í†µì œ ì£¼ì²´ê°€ ì œ3ìì¸ê°€ ì‚¬ìš©ì ë³¸ì¸ì¸ê°€ì˜ ì°¨ì´\nëª¨ë¸ë³„ ë™ì‘ ì›ë¦¬ì™€ êµ¬ì„± ì»¤ìŠ¤í† ë””ì–¼ í‚¤ ë³´ê´€ ì¤‘ì•™í™”ëœ í‚¤ ë³´ê´€ì†Œì™€ ì ‘ê·¼ì œì–´ ì²´ê³„ë¥¼ ìš´ìš© ë³´í†µ í•«ì›”ë › ê³¼ ì½œë“œì›”ë › ì„ ë¶„ë¦¬í•´ ì¦‰ì‹œì„± vs ë³´ê´€ ì•ˆì •ì„±ì„ ê· í˜• ìˆê²Œ ì„¤ê³„í•¨ ìš´ì˜ í†µì œ ê¶Œí•œ ë¶„ë¦¬, ë³€ê²½ ì´ë ¥ ì¶”ì , ìŠ¹ì¸ ì›Œí¬í”Œë¡œ, ì´ìƒ ì§•í›„ ëª¨ë‹ˆí„°ë§ì„ í¬í•¨ ìœ ì € ê²½í—˜ ê³„ì • ë¹„ë°€ë²ˆí˜¸Â·2FA ë“± ì›¹ì„œë¹„ìŠ¤ UXì— ê°€ê¹ê³  ë¶„ì‹¤ ì‹œ ê³ ê°ì§€ì›ìœ¼ë¡œ ë³µêµ¬ ê°€ëŠ¥ì„±ì´ ìˆìŒ ë…¼ì»¤ìŠ¤í† ë””ì–¼ í‚¤ ìƒì„±Â·ì €ì¥Â·ë³µêµ¬ë¥¼ ì‚¬ìš©ì ë‹¨ë§ ë˜ëŠ” ì „ìš© ê¸°ê¸°ì—ì„œ ìˆ˜í–‰ í•˜ë“œì›¨ì–´ ì§€ê°‘ì€ ê¸°ê¸° ë‚´ ë³´ì•ˆì˜ì—­ì—ì„œ ì„œëª… ì—°ì‚°ì„ ìˆ˜í–‰í•´ í‚¤ë¥¼ ì™¸ë¶€ë¡œ ë…¸ì¶œí•˜ì§€ ì•ŠìŒ ì‹œë“œ ë¬¸êµ¬(BIPâ€‘39) ì™€ HD ì§€ê°‘(BIPâ€‘32, BIPâ€‘44) ë¡œ ì—¬ëŸ¬ ì£¼ì†Œë¥¼ íŒŒìƒí•´ ì‚¬ìš©í•¨ ë¶„ì‹¤Â·ë„ë‚œÂ·ì†ìƒì— ëŒ€ë¹„í•œ ë°±ì—…Â·ë³µêµ¬ ì ˆì°¨ê°€ í•„ìˆ˜ì„ í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ ë©€í‹°ì‹œê·¸ Nê°œ ì¤‘ Mê°œ ì„œëª…ì´ ìˆì–´ì•¼ ì§€ì¶œ ê°€ëŠ¥ ìš´ì˜ì ê°„ ì±…ì„ ë¶„ì‚°ê³¼ ë‹¨ì¼ í‚¤ ì†ì‹¤ ë¦¬ìŠ¤í¬ ì™„í™”ì— íš¨ê³¼ì  í‚¤ ë¶„í• ê³¼ ë³µêµ¬ Shamir Secret Sharing ì€ ë°±ì—…Â·ë³µêµ¬ì— ì í•©í•˜ë‚˜ ì„œëª… ìì²´ëŠ” ìˆ˜í–‰í•˜ì§€ ì•ŠìŒ ì„ê³„ê°’ ì„œëª…(MPC/TSS) ì—¬ëŸ¬ íŒŒí‹°ê°€ í‚¤ ì¡°ê°ì„ ì¬ì¡°í•© ì—†ì´ ê³µë™ ì„œëª… ë‹¨ì¼ ì‹¤íŒ¨ ì§€ì  ì œê±°ì™€ ìœ ì—°í•œ ê¶Œí•œ ì •ì±…ì´ ì¥ì  ë³´ì•ˆÂ·ê·œì œÂ·ìš´ì˜ ê´€ì  ë¹„êµ êµ¬ë¶„ ì»¤ìŠ¤í† ë””ì–¼ ë…¼ì»¤ìŠ¤í† ë””ì–¼ í‚¤ ì†Œìœ  ì„œë¹„ìŠ¤ ì‚¬ì—…ì ì‚¬ìš©ì ë³µêµ¬ ìš©ì´ì„± ê³„ì • ê¸°ë°˜ ë³µêµ¬ ì§€ì› ê°€ëŠ¥ ì‚¬ìš©ìê°€ ì±…ì„, ë°±ì—… ì‹¤íŒ¨ ì‹œ ë³µêµ¬ ë¶ˆê°€ ë³´ì•ˆ ì´ˆì  ë‚´ë¶€ì ìœ„í˜‘Â·í•«ì›”ë › ì¹¨í•´Â·ìš´ì˜ ì·¨ì•½ì  í”¼ì‹±Â·ì•…ì„±ì½”ë“œÂ·ë¬¼ë¦¬ ë¶„ì‹¤Â·ë°±ì—… ì‹¤íŒ¨ ì»´í”Œë¼ì´ì–¸ìŠ¤ ê´€í• ì— ë”°ë¼ ìˆ˜íƒ ë¼ì´ì„ ìŠ¤Â·KYC/AML ë“± ìš”êµ¬ ê°€ëŠ¥ ê°œì¸ ì‚¬ìš©ì€ ìƒëŒ€ì ìœ¼ë¡œ ììœ , ì¡°ì§ì€ íšŒê³„Â·ê·œì • ì¤€ìˆ˜ ì •ì±… í•„ìš” í™•ì¥ì„±/ìš´ì˜ ê¸°ì—… í†µì œÂ·ê°ì‚¬ ë¡œê·¸Â·ìŠ¹ì¸ ì›Œí¬í”Œë¡œì— ìœ ë¦¬ ì‚¬ìš©ì ììœ¨ì„± ìµœìƒ, í‘œì¤€í™”ëœ ê¸°ì—… í†µì œëŠ” êµ¬í˜„ ë‚œì´ë„ ì¡´ì¬ ì¼ë°˜ ìš©ë„ ê±°ë˜ì†ŒÂ·ì»¤ìŠ¤í„°ë”” ì—…ì²´Â·í•€í…Œí¬ ê°œì¸ ë³´ê´€Â·DAO ê¸ˆê³ Â·ê°œë³„ íŒ€ ì§€ê°‘ ìœ„í˜‘ ëª¨ë¸ ìˆ˜ë¦½ ê°€ì´ë“œ ê°€ì¹˜ì™€ ë¹ˆë„ ì†Œì•¡Â·ë¹ˆë²ˆ ê²°ì œëŠ” ì ‘ê·¼ì„±Â·ìë™í™” ìš°ì„ , ëŒ€ì•¡Â·ì¥ê¸° ë³´ê´€ì€ ë³´ì¡´Â·ê²©ë¦¬ê°€ ìš°ì„  ê³µê²©ë©´ í”¼ì‹± ë§í¬Â·ì•…ì„± í™•ì¥í”„ë¡œê·¸ë¨Â·ì‚¬ê¸° ìŠ¹ì¸ ì„œëª…, ë‚´ë¶€ì ì˜¤ë‚¨ìš©, ì¸í”„ë¼ ì·¨ì•½ì , ë¬¼ë¦¬ì  ë¶„ì‹¤ ë³µêµ¬ ìš”êµ¬ ì‚¬ëŒ êµì²´Â·ê¸°ê¸° ì†ìƒÂ·ì§€ì—­ ì¬í•´ ë“± í˜„ì‹¤ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ì–¼ë§ˆë‚˜ ë¹¨ë¦¬ ë³µêµ¬ ê°€ëŠ¥í•œì§€ í‰ê°€ ê°ì‚¬ ê°€ëŠ¥ì„± ë¡œê·¸ ë¶ˆë³€ì„±Â·ìŠ¹ì¸ ì´ë ¥Â·ì—­í™œë¶„ë¦¬ì™€ ê·œì • ì¤€ìˆ˜ ì¦ë¹™ ê°€ëŠ¥ì„± ì ê²€ ì»¤ìŠ¤í† ë””ì–¼ ì„ íƒ ì²´í¬ë¦¬ìŠ¤íŠ¸ ìš´ì˜ ë³´ì•ˆ í•«Â·ì½œë“œ ë¶„ë¦¬, ë‹¤ì¤‘ì¸ì¦, ê¶Œí•œ ë¶„ë¦¬, ë³€ê²½ê´€ë¦¬, ì¹¨í•´ì‚¬ê³  ëŒ€ì‘ ê³„íš ë³´ìœ  ì—¬ë¶€ í‚¤ ê´€ë¦¬ ì²´ê³„ HSM ë˜ëŠ” ë™ê¸‰ ë³´ì•ˆ ëª¨ë“ˆ ì‚¬ìš©, í‚¤ ìƒì„±Â·ë³´ê´€Â·íšŒì „ ì ˆì°¨ ë¬¸ì„œí™”, ì ‘ê·¼ í†µì œ ë¡œê·¸ ìœ ì§€ ê°ì‚¬Â·ì¸ì¦ SOC 2 Type II, ISO/IEC 27001, ì·¨ì•½ì  ìŠ¤ìºë‹Â·ëª¨ì˜ì¹¨íˆ¬ ì£¼ê¸° ìš´ì˜ ì—¬ë¶€ ì¬ë¬´Â·ë³´í—˜ ë³´í—˜ ë²”ìœ„ì™€ ë©´ì±… ì¡°í•­ì„ ëª…í™•íˆ ê³µê°œí•˜ëŠ”ì§€, ì¤€ë¹„ê¸ˆÂ·ì¤€ë²• ì²´ê³„ í™•ì¸ ê·œì œ ì¤€ìˆ˜ ê´€í•  ë‚´ ë¼ì´ì„ ìŠ¤Â·KYC/AML ì˜ë¬´ ì´í–‰, ì œì¬ ëŒ€ì‘ ì •ì±… ë³´ìœ  ë…¼ì»¤ìŠ¤í† ë””ì–¼ ì„ íƒ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë°±ì—…Â·ë³µêµ¬ ì‹œë“œ ë¬¸êµ¬ ì˜¤í”„ë¼ì¸ ë³´ê´€, ê¸ˆê³ Â·ë‚´í™” ê¸ˆì† í”Œë ˆì´íŠ¸ ë“± ë¬¼ë¦¬ ë³´ì•ˆ, ë³µêµ¬ ë¦¬í—ˆì„¤ ì •ê¸° ìˆ˜í–‰ ê¸°ê¸° ë³´ì•ˆ í•˜ë“œì›¨ì–´ ì§€ê°‘ ì‚¬ìš©, íŒì›¨ì–´ ì„œëª… ê²€ì¦, ê¸°ê¸° PINÂ·íŒ¨ìŠ¤í”„ë ˆì´ì¦ˆ ì‚¬ìš©, ë¶„ì‹¤ ì‹œ ìŠ¤ìŠ¤ë¡œ wipe ê°€ëŠ¥í•œì§€ í™•ì¸ íŠ¸ëœì­ì…˜ ì•ˆì „ ì„œëª… ì „ ë„ë©”ì¸ ë¶„ë¦¬ ì •ë³´ë¥¼ ê¸°ê¸° í™”ë©´ì—ì„œ ì§ì ‘ í™•ì¸, ìŠ¹ì¸ ë²”ìœ„Â·ìŠ¤íŒ¸ í† í°Â·í—ˆê°€ ì˜ì†ì„± ì ê²€ ë©€í‹°ì‹œê·¸Â·MPC ë³‘ìš© ë‹¨ì¼ í‚¤ ì‹¤íŒ¨ ì§€ì  ì œê±°, ì—­í•  ê¸°ë°˜ ìŠ¹ì¸ ì •ì±… ì ìš© ìë™í™” ìš”êµ¬ ìŠ¤ì¼€ì¤„ ê²°ì œÂ·íŠ¸ë¦¬ê±° ì†¡ê¸ˆ ë“± ìë™í™”ëŠ” ì§€ê°‘ ê¶Œí•œ ìµœì†Œí™”ì™€ ì¼íšŒì„± ê¶Œí•œ ë¶€ì—¬ë¡œ ì œí•œ ìš´ì˜ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ í•µì‹¬ ì›ì¹™ ìµœì†Œ ê¶Œí•œ, ê°•í•œ ì¸ì¦, ë¶„ë¦¬ ë³´ê´€, ë°˜ë³µ ê²€ì¦ ì§€ì¶œ ì •ì±… ê¸ˆì•¡ êµ¬ê°„ë³„ ë‹¤ë¥¸ ìŠ¹ì¸ ê²½ë¡œ ì ìš©, ì‹œê°„ì§€ì—° íƒ€ì„ë½ê³¼ ì•Œë¦¼ìœ¼ë¡œ ì˜¤íƒÂ·ì˜¤ë‚¨ìš© ë°©ì§€ ì£¼ì†Œ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë†’ì€ ê¸ˆì•¡ì€ ì‚¬ì „ ë“±ë¡ ì£¼ì†Œë¡œë§Œ ì†¡ê¸ˆ ëª¨ë‹ˆí„°ë§ ëŒ€ê¸°ì—´ ì´ìƒ, ì‹¤íŒ¨ìœ¨ ê¸‰ì¦, ì‹ ê·œ ìŠ¹ì¸ ìš”ì²­ ê¸‰ì¦, ì§€ì¶œ í•œë„ ì„ê³„ ì ‘ê·¼ ì•Œë¦¼ í‚¤ ìˆ˜ëª…ì£¼ê¸° ê´€ë¦¬ ìƒì„±Â·ë°°í¬Â·ì‚¬ìš©Â·ë³´ê´€Â·íšŒìˆ˜Â·íê¸° ì „ ê³¼ì • ë¬¸ì„œí™”ì™€ ì •ê¸° ì ê²€ ì‚¬ê³  ëŒ€ì‘ ìœ ì¶œ ì˜ì‹¬ ì¦‰ì‹œ í‚¤ íšŒì „, ë©€í‹°ì‹œê·¸ ì°¸ì—¬ì êµì²´, ë¸Œë¦¬ì§€Â·ê±°ë˜ì†Œ ì—°ë½ë§ ì—…ë°ì´íŠ¸, ë²•ë¬´Â·ì¤€ë²• í˜‘ì—… ë¼ì¸ í™•ë³´ ì‹œë‚˜ë¦¬ì˜¤ë³„ ê¶Œì¥ ì•„í‚¤í…ì²˜ ê°œì¸ ì‚¬ìš©ì ë°ì¼ë¦¬ ì†Œì•¡ì€ ëª¨ë°”ì¼ ì§€ê°‘ ì‚¬ìš© ì¥ê¸° ë³´ê´€Â·ëŒ€ì•¡ì€ í•˜ë“œì›¨ì–´ ì§€ê°‘ê³¼ ì˜¤í”„ë¼ì¸ ë°±ì—… ë³‘í–‰ ìŠ¹ì¸ ë‚´ì—­ ì •ê¸° ì ê²€ê³¼ í”¼ì‹± í›ˆë ¨ ì—°ìŠµ ê¶Œì¥\nì†Œê·œëª¨ íŒ€/ìŠ¤íƒ€íŠ¸ì—… ìš´ì˜ë¹„ ì§€ì¶œìš© ì»¤ìŠ¤í† ë””ì–¼ í•«ì›”ë › + ë©€í‹°ì‹œê·¸ ì½œë“œ ë³´ê´€ íšŒê³„Â·ìŠ¹ì¸ ë¡œê·¸ë¥¼ ê³µìœ  ë“œë¼ì´ë¸Œê°€ ì•„ë‹Œ ì „ìš© ê°ì‚¬ ì‹œìŠ¤í…œì— ì ì¬\nê¸°ì—…Â·DAO ê¸ˆê³  MPC ê¸°ë°˜ ê¸ˆê³  ë˜ëŠ” ë‹¤ì¤‘ í•˜ë“œì›¨ì–´ ì§€ê°‘ ë©€í‹°ì‹œê·¸ ì—­í•  ê¸°ë°˜ ì ‘ê·¼ì œì–´ì™€ ì˜¤í”„ë³´ë”© ì ˆì°¨, ë¹„ìƒ ì‹œë‚˜ë¦¬ì˜¤ì˜ ëŒ€ì²´ ì„œëª…ì ì§€ì •\nìì£¼ í•˜ëŠ” ì‹¤ìˆ˜ì™€ êµì • Shamir ë¶„í•  = ì•ˆì „í•œ ì„œëª…ì´ë¼ê³  ì˜¤í•´ ShamirëŠ” ë³µêµ¬ìš© ë¹„ë°€ ë¶„í•  ê¸°ë²•ì´ê³  ì„œëª…ì€ ìˆ˜í–‰í•˜ì§€ ì•ŠìŒ ì„œëª… ë¶„ì‚°ì€ MPC/TSS ë¥¼ ì‚¬ìš©í•¨ í•˜ë“œì›¨ì–´ ì§€ê°‘ì´ë©´ ë¬´ì¡°ê±´ ì•ˆì „ íŒì›¨ì–´ ì§„ìœ„ ê²€ì¦, ê³µê¸‰ë§ ìœ„í˜‘, í™”ë©´ ê²€ì¦ ìŠµê´€ ì—†ìœ¼ë©´ ìœ„í—˜ì´ ë‚¨ìŒ ë³´í—˜ì´ ìˆìœ¼ë‹ˆ ì•ˆì‹¬ ë³´í—˜ì€ ì¡°ê±´ê³¼ ë©´ì±…ì´ ë§ì•„ ëª¨ë“  ì†ì‹¤ì„ ë³´ì¥í•˜ì§€ ì•ŠìŒ ë²”ìœ„Â·ìƒí•œÂ·ì˜ˆì™¸ë¥¼ ë°˜ë“œì‹œ í™•ì¸í•´ì•¼ í•¨ ì»¤ìŠ¤í† ë””ì–¼ì€ ëª¨ë‘ ë™ì¼ ë³´ì•ˆ ìˆ˜ì¤€Â·ê°ì‚¬ ì„±ìˆ™ë„Â·ê·œì œ ì¤€ìˆ˜Â·ì¬ë¬´ ê±´ì „ì„±ì— í° ì°¨ì´ê°€ ìˆìŒ ìµœì†Œ ë³´ì•ˆ ê¸°ì¤€ ê°€ì´ë“œ ê°œì¸ í•˜ë“œì›¨ì–´ ì§€ê°‘ 1ëŒ€ ì´ìƒ, ì‹œë“œ ë¬¸êµ¬ ì˜¤í”„ë¼ì¸ ë°±ì—… 2ê³³, íŒ¨ìŠ¤í”„ë ˆì´ì¦ˆ ë³‘í–‰, í”¼ì‹± í›ˆë ¨ íŒ€ ë©€í‹°ì‹œê·¸ Mâ€‘ofâ€‘N, ë³€ê²½ ìŠ¹ì¸ ì›Œí¬í”Œë¡œ, ì›”ê°„ ë³µêµ¬ ë¦¬í—ˆì„¤, í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ì†¡ê¸ˆ ê¸°ì—… MPC ê¸ˆê³  ë˜ëŠ” ë©€í‹°ì‹œê·¸ ê¸ˆê³ , HSM ë˜ëŠ” ë™ê¸‰ ë³´ì•ˆ ëª¨ë“ˆ, SOC 2 Type IIÂ·ì¹¨íˆ¬í…ŒìŠ¤íŠ¸, ì‚¬ê³  ëŒ€ì‘ í”Œë ˆì´ë¶ ìš´ì˜ ê°„ë‹¨ ê¶Œì¥ íë¦„ 1 ë‹¨ê³„ ìì‚° ê·œëª¨ ë¶„ë¥˜ì™€ ìœ„í˜‘ ëª¨ë¸ ì •ì˜ 2 ë‹¨ê³„ ë…¼ì»¤ìŠ¤í† ë””ì–¼Â·ì»¤ìŠ¤í† ë””ì–¼Â·í•˜ì´ë¸Œë¦¬ë“œ ì¤‘ ì í•© ì•„í‚¤í…ì²˜ ì„ ì • 3 ë‹¨ê³„ ë°±ì—…Â·ë³µêµ¬ ë¬¸ì„œí™”ì™€ ì •ê¸° ë¦¬í—ˆì„¤ ì‹œí–‰ 4 ë‹¨ê³„ ë©€í‹°ì‹œê·¸ ë˜ëŠ” MPCë¡œ ë‹¨ì¼ ì‹¤íŒ¨ ì§€ì  ì œê±° 5 ë‹¨ê³„ ì§€ì¶œ ì •ì±…Â·í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸Â·ëª¨ë‹ˆí„°ë§Â·ì‚¬ê³  ëŒ€ì‘ ì²´ê³„ ìš´ì˜\nê²°ë¡  í”„ë¼ì´ë¹—í‚¤ ì†Œìœ Â·í†µì œê°€ ë³´ì•ˆê³¼ í¸ì˜ì˜ ì¶œë°œì ì„ ëŒ€ì•¡Â·ì¥ê¸° ìì‚°ì€ ë…¼ì»¤ìŠ¤í† ë””ì–¼ê³¼ ë©€í‹°ì‹œê·¸Â·MPC ì¡°í•©ì´ ìœ ë¦¬í•˜ê³  ì—…ë¬´ ìë™í™”Â·ê³ ê° ì§€ì›ì´ ì¤‘ìš”í•œ ê²½ìš° ì»¤ìŠ¤í† ë””ì–¼ì´ íš¨ìœ¨ì ì¼ ìˆ˜ ìˆìŒ ëª¨ë“  ì„ íƒì€ ìœ„í˜‘ ëª¨ë¸Â·ê·œì • ì¤€ìˆ˜Â·ë³µêµ¬ ìš”êµ¬ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¬¸ì„œí™”í•˜ê³  ì •ê¸°ì ìœ¼ë¡œ ê²€ì¦í•´ì•¼ í•¨\nì°¸ê³ ìë£Œ BIPâ€‘32 ê³„ì¸µì  ê²°ì •ì„± ì§€ê°‘ https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki BIPâ€‘39 ë‹ˆëª¨ë‹‰ ë¬¸êµ¬ https://github.com/bitcoin/bips/blob/master/bip-0039.mediawiki BIPâ€‘44 íŒŒìƒ ê²½ë¡œ https://github.com/bitcoin/bips/blob/master/bip-0044.mediawiki Torus Key Infrastructure ê°œìš” https://docs.tor.us/key-infrastructure/overview NIST SP 800â€‘57 Part 1 í‚¤ ê´€ë¦¬ ê¶Œê³  https://csrc.nist.gov/publications/detail/sp/800-57-part-1/rev-5/final FIPS 140â€‘3 ì•”í˜¸ ëª¨ë“ˆ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ https://csrc.nist.gov/publications/detail/fips/140/3/final AICPA SOC 2 ì•ˆë‚´ https://www.aicpa-cima.com/resources/article/what-is-soc-2 ","permalink":"https://blog.jsontapose.com/posts/custodial-vs-noncustodial-wallets-274b74/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eí”„ë¼ì´ë¹—í‚¤ ê´€ë¦¬ ë°©ì‹ì— ë”°ë¼ ì•”í˜¸í™”í ì›”ë ›ì€ \u003cstrong\u003eì»¤ìŠ¤í† ë””ì–¼(custodial)\u003c/strong\u003e ê³¼ \u003cstrong\u003eë…¼ì»¤ìŠ¤í† ë””ì–¼(noncustodial)\u003c/strong\u003e ë¡œ êµ¬ë¶„ë¨\nê° ë°©ì‹ì˜ ì°¨ì´ì™€ ì„ íƒ ê¸°ì¤€, ë³´ì•ˆÂ·ìš´ì˜ ë¦¬ìŠ¤í¬ì™€ ëŒ€ì‘ ë°©ì•ˆì„ \u003cstrong\u003eì´ˆë³´ìë„ ì´í•´í•  ìˆ˜ ìˆê²Œ\u003c/strong\u003e ì •ë¦¬í•˜ë©´ì„œ \u003cstrong\u003eì‹¤ë¬´ìê°€ ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” ì²´í¬ë¦¬ìŠ¤íŠ¸\u003c/strong\u003eê¹Œì§€ ì œì‹œí•¨\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"í•µì‹¬-ê°œë…\"\u003eí•µì‹¬ ê°œë…\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eì»¤ìŠ¤í† ë””ì–¼ ì›”ë ›\u003c/strong\u003e\nì œ3ì ì„œë¹„ìŠ¤ê°€ ì‚¬ìš©ìì˜ í”„ë¼ì´ë¹—í‚¤ë¥¼ ë³´ê´€í•˜ê³  ì„œëª…ì„ ëŒ€í–‰í•˜ëŠ” êµ¬ì¡°\në¡œê·¸ì¸Â·ì¶œê¸ˆ ë“±ì€ ì„œë¹„ìŠ¤ ì¸ì¦ ì ˆì°¨ë¥¼ ê±°ì³ ì²˜ë¦¬ë¨\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eë…¼ì»¤ìŠ¤í† ë””ì–¼ ì›”ë ›\u003c/strong\u003e\nì‚¬ìš©ìê°€ í”„ë¼ì´ë¹—í‚¤ë¥¼ ì§ì ‘ ë³´ìœ Â·ê´€ë¦¬í•˜ëŠ” êµ¬ì¡°\në¸Œë¼ìš°ì € í™•ì¥ ì§€ê°‘Â·ëª¨ë°”ì¼ ì•± ì§€ê°‘Â·í•˜ë“œì›¨ì–´ ì§€ê°‘ì´ ëŒ€í‘œì  ì‚¬ë¡€ì„\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eí•µì‹¬ ì°¨ì´ í•œ ì¤„ ì •ë¦¬\u003c/strong\u003e\ní‚¤ì˜ \u003cstrong\u003eì†Œìœ Â·í†µì œ ì£¼ì²´\u003c/strong\u003eê°€ ì œ3ìì¸ê°€ ì‚¬ìš©ì ë³¸ì¸ì¸ê°€ì˜ ì°¨ì´\u003c/p\u003e","title":"ì»¤ìŠ¤í† ë””ì–¼ vs ë…¼ì»¤ìŠ¤í† ë””ì–¼ ì›”ë › ë¹„êµ"},{"content":"ê°œìš” ë¸”ë¡ì²´ì¸ì€ ì¤‘ì•™ ê¸°ê´€ ì—†ì´ ì°¸ì—¬ìë“¤ì´ ê±°ë˜ë¥¼ ê¸°ë¡Â·ê²€ì¦Â·ê³µìœ í•˜ëŠ” ë¶„ì‚° ì›ì¥ ê¸°ìˆ ì„ ì´ ê¸€ì€ ë¸”ë¡ì²´ì¸ì„ ì´ˆë³´ì ì¹œí™”ì ìœ¼ë¡œ ì„¤ëª…í•˜ê³ , ì‹¤ë¬´ ì²´í¬ë¦¬ìŠ¤íŠ¸ê¹Œì§€ ì •ë¦¬í•¨\ní° ê·¸ë¦¼: ì‹œìŠ¤í…œ êµ¬ì„± ë…¸ë“œ(Node): ë¸”ë¡ì²´ì¸ ì†Œí”„íŠ¸ì›¨ì–´ ì‹¤í–‰ ì£¼ì²´\ní’€ë…¸ë“œ: ëª¨ë“  ë¸”ë¡Â·íŠ¸ëœì­ì…˜ ê²€ì¦Â·ì €ì¥ ë¼ì´íŠ¸ í´ë¼ì´ì–¸íŠ¸: í—¤ë”Â·ë¨¸í´ ì¦ëª… ê¸°ë°˜ ìµœì†Œ ê²€ì¦ (ì°¸ê³ ) ì•„ì¹´ì´ë¸Œ ë…¸ë“œ: ì˜¤ë˜ëœ ìƒíƒœ í¬í•¨ ì „ì²´ ìƒíƒœ ìœ ì§€(í•„ìˆ˜ ì•„ë‹˜) ë¸”ë¡(Block): íŠ¸ëœì­ì…˜ ë¬¶ìŒ + ë©”íƒ€ë°ì´í„°(ë¸”ë¡í—¤ë”). ë¸”ë¡ë“¤ì´ ì„ í˜• ì²´ì¸ìœ¼ë¡œ ì—°ê²°ë¨\ní•©ì˜(Consensus): ì–´ë–¤ ë¸”ë¡ì´ ì •ì‹ ì´ë ¥ì¸ì§€ ë„¤íŠ¸ì›Œí¬ê°€ ê³µë™ìœ¼ë¡œ ê²°ì •í•˜ëŠ” ê·œì¹™\nPoW: ì‘ì—…ì¦ëª…(ì—°ì‚° ê²½ìŸ) PoS: ì§€ë¶„ì¦ëª…(ê²€ì¦ìÂ·ë³´ì¦ê¸ˆ ê¸°ë°˜) í•´ì‹œ(Hash)ì™€ ìœ„Â·ë³€ì¡° ë°©ì§€ í•´ì‹œ í•¨ìˆ˜(SHA-256, Keccak-256 ë“±): ì…ë ¥ì„ ê³ ì • ê¸¸ì´ë¡œ ì••ì¶•í•˜ëŠ” ì¼ë°©í–¥ í•¨ìˆ˜ì„\nì¶©ëŒ ê°€ëŠ¥ì„±ì€ ì´ë¡ ìƒ ì¡´ì¬í•˜ë‚˜ ì‹¤ë¬´ì ìœ¼ë¡œ ê·¹íˆ ë‚®ìŒ ì…ë ¥ì´ ì¡°ê¸ˆë§Œ ë°”ë€Œì–´ë„ ì¶œë ¥ì´ í¬ê²Œ ë‹¬ë¼ì ¸ ë¬´ê²°ì„± ê²€ì¦ì— ì í•© ì²´ì¸ ë¬´ê²°ì„±: ê° ë¸”ë¡ í—¤ë”ì— ì´ì „ ë¸”ë¡ì˜ í•´ì‹œê°€ í¬í•¨ë¨ â†’ ì¤‘ê°„ ë¸”ë¡ í•˜ë‚˜ë§Œ ë°”ê¿”ë„ ì´í›„ ì „ì²´ë¥¼ ì¬ê³„ì‚°í•´ì•¼ í•˜ë¯€ë¡œ ë³€ì¡° ë‚œì´ë„ ë§¤ìš° ë†’ìŒ\në¸”ë¡í—¤ë”ì™€ ë¨¸í´íŠ¸ë¦¬(ë°ì´í„° êµ¬ì¡°) ë¸”ë¡í—¤ë” ëŒ€í‘œ í•„ë“œ(ë¹„íŠ¸ì½”ì¸ ì˜ˆì‹œ)\nversion, prev_block_hash, merkle_root, timestamp, bits(ë‚œì´ë„), nonce í—¤ë” ì „ì²´ë¥¼ í•´ì‹œí•œ ê°’ì´ ë¸”ë¡ ID ì—­í• ì„ í•¨ ë¨¸í´íŠ¸ë¦¬(Merkle Tree)\níŠ¸ëœì­ì…˜ ëª©ë¡ì„ í•´ì‹œ ì´ì§„íŠ¸ë¦¬ë¡œ ìš”ì•½ â†’ ë¨¸í´ë£¨íŠ¸(ë£¨íŠ¸ í•´ì‹œ) ë¡œ ëŒ€í‘œ ë¼ì´íŠ¸ í´ë¼ì´ì–¸íŠ¸ëŠ” ë¨¸í´ ì¦ëª…ë§Œ ë°›ì•„ íŠ¹ì • íŠ¸ëœì­ì…˜ í¬í•¨ ì—¬ë¶€ë¥¼ ê²€ì¦ ê°€ëŠ¥(SPV) ê±°ë˜ íë¦„: ìƒì„± â†’ ì„œëª… â†’ ì „íŒŒ â†’ ë¸”ë¡ í¬í•¨ â†’ í™•ì • ìƒì„±: ì†¡ì‹ ìê°€ ìˆ˜ì‹ ì ì£¼ì†ŒÂ·ê¸ˆì•¡ìœ¼ë¡œ íŠ¸ëœì­ì…˜ ìƒì„± ì„œëª…: ê°œì¸í‚¤ë¡œ ì „ìì„œëª…(ë¹„ëŒ€ì¹­í‚¤: ECDSA/secp256k1 ë“±) ì „íŒŒ: P2P ë„¤íŠ¸ì›Œí¬ë¡œ ë¸Œë¡œë“œìºìŠ¤íŠ¸ â†’ ê° ë…¸ë“œì˜ mempool ì— ì ì¬ ë¸”ë¡ í¬í•¨: í•©ì˜ ê·œì¹™ì— ë”°ë¼ íŠ¸ëœì­ì…˜ì´ ë¸”ë¡ì— í¬í•¨ í™•ì •(Finality/í™•ì¸ìˆ˜): í›„ì† ë¸”ë¡ì´ ë”í•´ì§ˆìˆ˜ë¡ ë˜ëŒë¦¬ê¸° ì–´ë ¤ì›€ ë¹„íŠ¸ì½”ì¸: í‰ê·  ë¸”ë¡ ê°„ê²© â‰ˆ 10ë¶„, í™•ì¸ìˆ˜ 6 ê´€í–‰(ì‚¬ìš©ì²˜Â·ê¸ˆì•¡ ë”°ë¼ ìƒì´) ì´ë”ë¦¬ì›€(í˜„í–‰ PoS): ìŠ¬ë¡¯ â‰ˆ 12ì´ˆ, ì²´í¬í¬ì¸íŠ¸Â·íŒŒì´ë„ë¦¬í‹° ê°œë… ì‚¬ìš©(ì •ìƒ ì‹œ ì•½ 2 ì—í­ì—ì„œ ìµœì¢…í™”, ëŒ€ëµ 10~15ë¶„ ìˆ˜ì¤€). â€œN ë¸”ë¡ì´ë©´ ì¶©ë¶„â€ ê°™ì€ ë‹¨ì • ëŒ€ì‹  íŒŒì´ë„ë¦¬í‹° ë‹¬ì„± ì—¬ë¶€ í™•ì¸ì´ ì•ˆì „í•¨ ìƒíƒœ ëª¨ë¸: UTXO vs ê³„ì •(Account) UTXO(ë¹„íŠ¸ì½”ì¸ ê³„ì—´)\nâ€œì‚¬ìš©í•˜ì§€ ì•Šì€ íŠ¸ëœì­ì…˜ ì¶œë ¥(ì½”ì¸)â€ì„ ì¡°í•©í•´ ì§€ë¶ˆ, ì”ëˆì€ ìƒˆ UTXOë¡œ ìƒì„± ì¥ì : ë³‘ë ¬í™”ì— ìœ ë¦¬, í”„ë¼ì´ë²„ì‹œ íŒ¨í„´ ì¼ë¶€ ì´ì  ìœ ì˜: ì„ íƒ/ì”ëˆ ì „ëµ, ìˆ˜ìˆ˜ë£Œ(ë‹¨ìœ„: sat/vByte) ìµœì í™” í•„ìš” ê³„ì • ëª¨ë¸(ì´ë”ë¦¬ì›€ ê³„ì—´)\nê³„ì • ì”ì•¡Â·ì»¨íŠ¸ë™íŠ¸ ìƒíƒœ(State) ê°±ì‹  ì¥ì : ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸Â·ìƒíƒœë¨¸ì‹  êµ¬í˜„ ìš©ì´ ìœ ì˜: ìƒíƒœ ì¦ê°€(State bloat)Â·ê°€ìŠ¤ ë¹„ìš©Â·ë¦¬í”Œë ˆì´ ë°©ì§€(EIP-155) ë“± ê³ ë ¤ PoW(ì‘ì—…ì¦ëª…): ë‚œì´ë„Â·ë³´ìƒÂ·ë³´ì•ˆ ì›ë¦¬: í—¤ë” + nonce ë°”ê¿”ê°€ë©° ëª©í‘œê°’(ë‚œì´ë„) ì´í•˜ í•´ì‹œ ì°¾ê¸° ë‚œì´ë„ ì¡°ì •: ë„¤íŠ¸ì›Œí¬ í•´ì‹œíŒŒì›Œ ë³€í™”ì— ë§ì¶° ëª©í‘œ í‰ê·  ë¸”ë¡ ì‹œê°„ ìœ ì§€(ì˜ˆ: ë¹„íŠ¸ì½”ì¸ 2016ë¸”ë¡ë§ˆë‹¤ â‰ˆ 2ì£¼ ê°„ê²© ì¡°ì •) ë³´ìƒ: ë¸”ë¡ ë³´ìƒ(ë°˜ê°ê¸° ì¡´ì¬) + ìˆ˜ìˆ˜ë£Œ ë³´ì•ˆì„±: ê³µê²©ìëŠ” ë„¤íŠ¸ì›Œí¬ í•´ì‹œì˜ ê³¼ë°˜ìˆ˜ ìˆ˜ì¤€ í•„ìš” â†’ ëŒ€í˜• ì²´ì¸ì—ì„œëŠ” ê²½ì œì Â·ë¬¼ë¦¬ì  ë¹„ìš© ê±°ëŒ€ ê°„ë‹¨ PoW ì˜ì‚¬ì½”ë“œ(ê°œë… í•™ìŠµìš©)\ntarget = difficulty_to_target(bits) nonce = 0 while True: header = serialize(version, prev_hash, merkle_root, timestamp, bits, nonce) h = sha256d(header) # SHA256(SHA256(header)) if h \u0026lt; target: print(\u0026#34;Found!\u0026#34;, nonce, h.hex()) break nonce += 1 ì‹¤ë¬´ íŒ\ní•´ì‹œ ë¼ì´ë¸ŒëŸ¬ë¦¬Â·ì—”ë””ì–¸ ì²˜ë¦¬Â·ì§ë ¬í™” í¬ë§·(ê°€ë³€ ê¸¸ì´ ì •ìˆ˜ ë“±) ì •í™•ë„ ì¤‘ìš” ë°˜ê°ê¸° ì´ë²¤íŠ¸ëŠ” ì±„êµ´ ìˆ˜ìµì„±Â·í•´ì‹œíŒŒì›ŒÂ·ë³´ì•ˆì— ì§ê²© ì˜í–¥ PoS(ì§€ë¶„ì¦ëª…): ê²€ì¦ìÂ·íŒŒì´ë„ë¦¬í‹°Â·ë¦¬ìŠ¤í¬ ì›ë¦¬: í† í° ìŠ¤í…Œì´í‚¹ ìœ¼ë¡œ ê²€ì¦ì ì„ ì •(ë¬´ì‘ìœ„ + ì§€ë¶„ ê°€ì¤‘ + ì¶”ê°€ ê·œì¹™)\në¸”ë¡Â·ì–´í…ŒìŠ¤í…Œì´ì…˜: ê²€ì¦ìê°€ ë¸”ë¡ ì œì•ˆÂ·ê°ì‚¬(íˆ¬í‘œ) ìˆ˜í–‰\níŒŒì´ë„ë¦¬í‹°: ì¼ì • ì¡°ê±´(ì˜ˆ: â‰¥ 2/3 ê°€ì¤‘ì¹˜ê°€ ì°¬ì„±) ë§Œì¡± ì‹œ ì²´í¬í¬ì¸íŠ¸ ìµœì¢…í™”\nìœ„í˜‘ ëª¨ë¸\nNothing-at-Stake: ì—¬ëŸ¬ ì²´ì¸ì— ë™ì‹œ íˆ¬í‘œ ìœ í˜¹ â†’ ìŠ¬ë˜ì‹± ìœ¼ë¡œ ì–µì œ ë¡±ë ˆì¸ì§€ ê³µê²©: ê³¼ê±°ë¶€í„° ì¡°ìš©íˆ ëŒ€ì²´ ì²´ì¸ ìƒì„± â†’ ì•½í•œ ì£¼ê´€ì„±(weak subjectivity)Â·ì²´í¬í¬ì¸íŠ¸Â·ë™ê¸°í™” ê·œì¹™ìœ¼ë¡œ ë°©ì–´ ìˆ˜ìˆ˜ë£Œì™€ ê°€ìŠ¤: Bitcoin vs Ethereum Bitcoin: ìˆ˜ìˆ˜ë£Œ = ë°”ì´íŠ¸ í¬ê¸° Ã— ë‹¨ê°€(sat/vByte)\nìˆ˜ìˆ˜ë£Œ ì¶”ì •ì€ mempool í˜¼ì¡ë„Â·ì •ì±… ì˜í–¥ í¼ Ethereum(EIP-1559)\nBase Fee(ë¸”ë¡ì— ì˜í•´ ìë™ ì¡°ì •, ì†Œê°) + Priority Fee(íŒ) + gas_used ì‚¬ìš©ì ì…ì¥: ì˜ˆìƒ ê°€ëŠ¥í•œ ìˆ˜ìˆ˜ë£Œ + í˜¼ì¡ ì‹œ íŒìœ¼ë¡œ ìš°ì„ ìˆœìœ„ í™•ë³´ ì»¨íŠ¸ë™íŠ¸ í˜¸ì¶œì€ ê°€ìŠ¤ í•œë„ ë‚´ì—ì„œë§Œ ì‹¤í–‰ë¨(í•œë„ ë¶€ì¡± ì‹œ revert) í¬í¬(Fork)ì™€ ì²´ì¸ ì¬ì¡°ì§(Reorg) ì†Œí”„íŠ¸ í¬í¬: ê·œì¹™ ê°•í™”ë¡œ í•˜ìœ„ í˜¸í™˜ ìœ ì§€(ì˜ˆ: SegWit íŠ¸ëœì­ì…˜ ê°€ë³€ì„± í•´ê²°, ë¸”ë¡ ìš©ëŸ‰ íš¨ìœ¨í™”) í•˜ë“œ í¬í¬: ê·œì¹™ ë¶ˆì¼ì¹˜ â†’ ë¯¸ì—…ë°ì´íŠ¸ ë…¸ë“œì™€ ì²´ì¸ ë¶„ë¦¬ ê°€ëŠ¥(ì˜ˆ: ETH/ETC) ìš´ì˜ ìœ ì˜\ní¬í¬ ì „í›„ ì†¡ê¸ˆ ë³´ìˆ˜ì  ìš´ì˜(ë¦¬í”Œë ˆì´Â·ì •ì±… ë¶ˆí™•ì‹¤ì„±) ê±°ë˜ì†ŒÂ·ì§€ê°‘ ëŒ€ì‘ ê³„íš ì‚¬ì „ í™•ì¸ ìì—°ìŠ¤ëŸ° ì¬ì¡°ì§(reorg) ëŠ” ë“œë¬¼ì§€ë§Œ ë°œìƒ ê°€ëŠ¥ â†’ ë†’ì€ ê°€ì¹˜ ì†¡ê¸ˆì€ ì—¬ìœ  í™•ì¸ìˆ˜/íŒŒì´ë„ë¦¬í‹° í™•ë³´ ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜Â·ê³µê²© ëª¨ë¸ 51% ê³µê²©(PoW): ê³¼ë°˜ í•´ì‹œíŒŒì›Œë¡œ ë” ê¸´ ì²´ì¸ì„ ë§Œë“¤ì–´ ì´ì¤‘ì§€ë¶ˆ ê°€ëŠ¥\nëŒ€í˜• ì²´ì¸: ë¹„ìš©Â·íƒì§€ ë¦¬ìŠ¤í¬ ë§‰ëŒ€ ì¤‘ì†Œ ì²´ì¸: ì‹¤ì§ˆ ë¦¬ìŠ¤í¬ ì¡´ì¬ â†’ ì‹¬ë„ ìˆëŠ” ëª¨ë‹ˆí„°ë§Â·ì•ˆì „ í™•ì¸ìˆ˜ í™•ëŒ€ ê¶Œì¥ ë„¤íŠ¸ì›Œí¬ ê³µê²©: ì´í´ë¦½ìŠ¤(Eclipse)Â·SybilÂ·ì‹œê°„ ì™œê³¡ ë“± â†’ í”¼ì–´ ë‹¤ì–‘í™”Â·ì‹œê³„ ë™ê¸°í™”Â·í”¼ì–´ ë°´ ì •ì±… í•„ìš”\nì§€ê°‘Â·í‚¤ ê´€ë¦¬\nê°œì¸í‚¤ ìœ ì¶œ = ìê¸ˆ ìœ ì¶œ ê¶Œì¥: í•˜ë“œì›¨ì–´ ì§€ê°‘, ë©€í‹°ì‹œê·¸, ì½œë“œì›”ë ›, ë°±ì—… ì‹œ BIP39 ì‹œë“œ ë¬¸êµ¬ ë³„ë„Â·ì˜¤í”„ë¼ì¸ ë³´ê´€ í™•ì¥ì„±: ì˜¨ì²´ì¸ í•œê³„ì™€ ì˜¤í”„ì²´ì¸/Layer2 ì˜¨ì²´ì¸ í•œê³„: ë¸”ë¡ í¬ê¸°Â·ì£¼ê¸° ì œì•½ â†’ TPS ì œí•œ, íƒˆì¤‘ì•™í™”Â·ë³´ì•ˆÂ·í™•ì¥ì„±(ë¸”ë¡ì²´ì¸ íŠ¸ë¦´ë ˆë§ˆ) ê°„ íŠ¸ë ˆì´ë“œì˜¤í”„ ì¡´ì¬\nì˜¤í”„ì²´ì¸ ê²°ì œ(ë¼ì´íŠ¸ë‹ ë„¤íŠ¸ì›Œí¬)\nì–‘ì ê°„ ê²°ì œ ì±„ë„ ì—´ê³  ë‹¤ìˆ˜ ê±°ë˜ë¥¼ ì˜¤í”„ì²´ì¸ ì²˜ë¦¬, ìµœì¢… ìƒíƒœë§Œ ì˜¨ì²´ì¸ ì •ì‚° í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜: íƒ€ì„ë½, í˜ë„í‹° íŠ¸ëœì­ì…˜, ê²½ë¡œ íƒìƒ‰ ì¥ì : ì†ë„Â·ìˆ˜ìˆ˜ë£Œ ìš°ìˆ˜ / ê³¼ì œ: UXÂ·ìœ ë™ì„±Â·ë¼ìš°íŒ… Rollup(ì´ë”ë¦¬ì›€ L2)\nOptimistic Rollup: ì‚¬ê¸° ì¦ëª… ê¸°ë°˜, ì´ì˜ì œê¸° ê¸°ê°„ í›„ í™•ì • ZK Rollup: ì˜ì§€ì‹ ì¦ëª… ê¸°ë°˜, ê²€ì¦ ë¹ ë¦„(ì¦ëª… ìƒì„± ë¹„ìš©Â·ì§€ì—° ê³ ë ¤) ë°ì´í„° ê°€ìš©ì„±(DA): L1ì— í•µì‹¬ ë°ì´í„° ë˜ëŠ” ë¸”ë¡­(EIP-4844) ìœ¼ë¡œ ê²Œì‹œ â†’ L2 ìƒíƒœ ì¬êµ¬ì„± ê°€ëŠ¥ì„± í™•ë³´ ë¡œë“œë§µ: í”„ë¡œí† -ë´í¬ìƒ¤ë”©(EIP-4844) â†’ ë°ì´í„° ë¹„ìš© ì ˆê°, ì¥ê¸°ì ìœ¼ë¡  ì™„ì „ ë´í¬ìƒ¤ë”©ìœ¼ë¡œ í™•ì¥ì„± ê°œì„  MEV \u0026amp; PBS(ì´ë”ë¦¬ì›€)\nMEV: ê±°ë˜ ì¬ë°°ì¹˜Â·ì¶”ì¶œì„ í†µí•œ ê°€ì¹˜ â†’ ì‚¬ìš©ì„±Â·ê³µì •ì„± ì´ìŠˆ PBS: ì œì•ˆì/ë¹Œë” ë¶„ë¦¬ë¡œ ì—­í•  ë¶„ë‹´, ì¤‘ì•™í™”Â·ê²€ì—´ ë¦¬ìŠ¤í¬ ì™„í™” ì‹œë„ ì‹¤ë¬´ ì²´í¬ë¦¬ìŠ¤íŠ¸(ìš´ì˜Â·ë³´ì•ˆÂ·ê°œë°œ) ë…¸ë“œ ìš´ì˜\nìµœì‹  í´ë¼ì´ì–¸íŠ¸Â·ë³´ì•ˆ íŒ¨ì¹˜ ì ìš©, í”¼ì–´ ë‹¤ë³€í™” ëª¨ë‹ˆí„°ë§: ë¸”ë¡ ì§€ì—°, reorg, mempool í˜¼ì¡, ë””ìŠ¤í¬/ë„¤íŠ¸ì›Œí¬ ì§€í‘œ ì§€ê°‘Â·í‚¤ ê´€ë¦¬\ní•˜ë“œì›¨ì–´ ì§€ê°‘Â·ë©€í‹°ì‹œê·¸Â·ì½œë“œìŠ¤í† ë¦¬ì§€ ì ìš© ì‹œë“œ ë°±ì—…(ì˜¤í”„ë¼ì¸), ì ‘ê·¼ í†µì œ(2ì¸ ìŠ¹ì¸ ë“±) ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸(ì´ë”ë¦¬ì›€)\nê°ì‚¬(Audit)Â·í¬ë©€ ê²€ì¦Â·í…ŒìŠ¤íŠ¸ë„· ì¶©ë¶„ ìš´ìš© ê°€ìŠ¤ ìµœì í™”: ì €ì¥ì†Œ ì“°ê¸° ìµœì†Œí™”, ì¬ì§„ì…Â·ì •ìˆ˜ ì˜¤ë²„í”Œë¡œ ë°©ì§€, ìµœì‹  ì»´íŒŒì¼ëŸ¬ ì‚¬ìš© ì—…ê·¸ë ˆì´ë“œ ì „ëµ: í”„ë¡ì‹œ íŒ¨í„´Â·ê¶Œí•œ ê´€ë¦¬(Owner/Role)Â·íƒ€ì„ë½ ìˆ˜ìˆ˜ë£Œ ì „ëµ\nBitcoin: sat/vByte ë™ì  ì„¤ì •, ê¸‰í–‰Â·ë³´í†µÂ·ì €ì† ì •ì±… ë¶„ë¦¬ Ethereum: EIP-1559ì˜ maxFeePerGas/maxPriorityFeePerGas í•©ë¦¬ ì„¤ì • í¬í¬Â·ë„¤íŠ¸ì›Œí¬ ì´ë²¤íŠ¸ ëŒ€ì‘\nê³µì§€ ìˆ˜ì§‘, ì†¡ê¸ˆ ë™ê²°/ì™„í™” ê¸°ì¤€, ê³ ê° ì•ˆë‚´ ì‹œë‚˜ë¦¬ì˜¤ ì¤€ë¹„ ê°„ë‹¨ ë¹„êµ í‘œ í•­ëª© ë¹„íŠ¸ì½”ì¸(PoW) ì´ë”ë¦¬ì›€(PoS, Merge ì´í›„) ë¸”ë¡ ê°„ê²© ~10ë¶„ ìŠ¬ë¡¯ ~12ì´ˆ(ì—í­=32 ìŠ¬ë¡¯) ìµœì¢…ì„± í™•ë¥ ì (í™•ì¸ìˆ˜â†‘) ì²´í¬í¬ì¸íŠ¸ ìµœì¢…ì„±(ì •ìƒ ì‹œ 2 ì—í­ ë‚´ì™¸) ìˆ˜ìˆ˜ë£Œ ë°”ì´íŠ¸ ê¸°ì¤€(sat/vByte) EIP-1559(BaseFee ì†Œê° + Tip) ìƒíƒœ ëª¨ë¸ UTXO ê³„ì • + ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ í™•ì¥ì„± ë°©í–¥ SegWitÂ·TaprootÂ·Lightning Rollup(Optimistic/ZK) + EIP-4844 ìì£¼ í‹€ë¦¬ëŠ” í¬ì¸íŠ¸ â€œì´ë”ë¦¬ì›€ì€ N ë¸”ë¡ì´ë©´ ì•ˆì „â€ â†’ (X) í˜„ì¬ëŠ” íŒŒì´ë„ë¦¬í‹° ë‹¬ì„± ì—¬ë¶€ë¡œ íŒë‹¨í•˜ëŠ” ê²Œ ì •í™•í•¨ â€œPoSëŠ” ê·¸ëƒ¥ ì½”ì¸ ë§ì´ ê°€ì§„ ì‚¬ëŒ ìŠ¹ë¦¬â€ â†’ (X) ë¬´ì‘ìœ„ì„±Â·ë©”ì‹œì§€ íˆ¬í‘œÂ·ìŠ¬ë˜ì‹±Â·ìµœì¢…ì„± ê·œì¹™ì´ ê²°í•©ëœ í”„ë¡œí† ì½œ ì „ì²´ê°€ ë³´ì•ˆ ê·¼ê±°ì„ â€œSegWitì€ ë¦¬í”Œë ˆì´ ê³µê²© ë°©ì§€â€ â†’ (ë¶€ë¶„ ë¶€ì •í™•) í•µì‹¬ ëª©ì ì€ íŠ¸ëœì­ì…˜ ê°€ë³€ì„±(malleability) í•´ê²° ë° ìš©ëŸ‰ íš¨ìœ¨í™”ì„ ê²°ë¡  ë¸”ë¡ì²´ì¸ì€ ì•”í˜¸í•™(í•´ì‹œÂ·ì„œëª…), ë¶„ì‚°í•©ì˜(PoW/PoS), ë„¤íŠ¸ì›Œí¬ ì„¤ê³„ê°€ ë§ë¬¼ë¦° ì‹œìŠ¤í…œì„ ì„¤ê³„ ì„ íƒ(PoW vs PoS, UTXO vs ê³„ì •, ì˜¨ì²´ì¸ vs ì˜¤í”„ì²´ì¸)ì´ ë³´ì•ˆÂ·ì„±ëŠ¥Â·ë¶„ì‚°í™”ì— ì§ì ‘ ì˜í–¥ ì‹¤ë¬´ í•µì‹¬ì€ í‚¤ ê´€ë¦¬Â·ë…¸ë“œ ë³´ì•ˆÂ·í¬í¬/ì´ë²¤íŠ¸ ëŒ€ì‘Â·ìˆ˜ìˆ˜ë£Œ ì „ëµÂ·ì»¨íŠ¸ë™íŠ¸ í’ˆì§ˆ ë³´ì¦ì„ í™•ì¥ì„±ì€ Layer2 + ë°ì´í„° ê°€ìš©ì„± + í”„ë¡œí† ì½œ ê°œì„ ì„ ë³‘í–‰í•˜ëŠ” ë‹¤ì¸µ í•´ë²•ì´ í˜„ì‹¤ì ì„ ì°¸ê³ ìë£Œ ë¹„íŠ¸ì½”ì¸ ê°œìš”: https://bitcoin.org/ko/how-it-works ë¹„íŠ¸ì½”ì¸ ê°œë°œì ê°€ì´ë“œ(ë°ì´í„° êµ¬ì¡°Â·í”„ë¡œí† ì½œ): https://developer.bitcoin.org/devguide/ ì´ë”ë¦¬ì›€ í™”ì´íŠ¸í˜ì´í¼: https://ethereum.org/en/whitepaper/ ì´ë”ë¦¬ì›€ PoS/í•©ì˜ ë¬¸ì„œ: https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/ EIP-1559(ìˆ˜ìˆ˜ë£Œ ì‹œì¥): https://eips.ethereum.org/EIPS/eip-1559 EIP-4844(í”„ë¡œí† -ë´í¬ìƒ¤ë”©/ë¸”ë¡­): https://eips.ethereum.org/EIPS/eip-4844 Lightning BOLT ì‚¬ì–‘: https://github.com/lightning/bolts SegWit ê°œìš”(íŠ¸ëœì­ì…˜ ê°€ë³€ì„± ê°œì„ ): https://bitcoinops.org/en/topics/segwit/ ","permalink":"https://blog.jsontapose.com/posts/blockchain-principles-mining-hash-274b74/","summary":"\u003ch2 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h2\u003e\n\u003cp\u003eë¸”ë¡ì²´ì¸ì€ \u003cstrong\u003eì¤‘ì•™ ê¸°ê´€ ì—†ì´\u003c/strong\u003e ì°¸ì—¬ìë“¤ì´ ê±°ë˜ë¥¼ ê¸°ë¡Â·ê²€ì¦Â·ê³µìœ í•˜ëŠ” \u003cstrong\u003eë¶„ì‚° ì›ì¥\u003c/strong\u003e ê¸°ìˆ ì„\nì´ ê¸€ì€ ë¸”ë¡ì²´ì¸ì„ \u003cstrong\u003eì´ˆë³´ì ì¹œí™”ì ìœ¼ë¡œ\u003c/strong\u003e ì„¤ëª…í•˜ê³ , \u003cstrong\u003eì‹¤ë¬´ ì²´í¬ë¦¬ìŠ¤íŠ¸\u003c/strong\u003eê¹Œì§€ ì •ë¦¬í•¨\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"í°-ê·¸ë¦¼-ì‹œìŠ¤í…œ-êµ¬ì„±\"\u003eí° ê·¸ë¦¼: ì‹œìŠ¤í…œ êµ¬ì„±\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eë…¸ë“œ(Node)\u003c/strong\u003e: ë¸”ë¡ì²´ì¸ ì†Œí”„íŠ¸ì›¨ì–´ ì‹¤í–‰ ì£¼ì²´\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003eí’€ë…¸ë“œ\u003c/strong\u003e: ëª¨ë“  ë¸”ë¡Â·íŠ¸ëœì­ì…˜ ê²€ì¦Â·ì €ì¥\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eë¼ì´íŠ¸ í´ë¼ì´ì–¸íŠ¸\u003c/strong\u003e: í—¤ë”Â·ë¨¸í´ ì¦ëª… ê¸°ë°˜ ìµœì†Œ ê²€ì¦\u003c/li\u003e\n\u003cli\u003e(ì°¸ê³ ) \u003cstrong\u003eì•„ì¹´ì´ë¸Œ ë…¸ë“œ\u003c/strong\u003e: ì˜¤ë˜ëœ ìƒíƒœ í¬í•¨ ì „ì²´ ìƒíƒœ ìœ ì§€(í•„ìˆ˜ ì•„ë‹˜)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eë¸”ë¡(Block)\u003c/strong\u003e: íŠ¸ëœì­ì…˜ ë¬¶ìŒ + ë©”íƒ€ë°ì´í„°(ë¸”ë¡í—¤ë”). ë¸”ë¡ë“¤ì´ ì„ í˜• ì²´ì¸ìœ¼ë¡œ ì—°ê²°ë¨\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eí•©ì˜(Consensus)\u003c/strong\u003e: ì–´ë–¤ ë¸”ë¡ì´ ì •ì‹ ì´ë ¥ì¸ì§€ ë„¤íŠ¸ì›Œí¬ê°€ \u003cstrong\u003eê³µë™ìœ¼ë¡œ\u003c/strong\u003e ê²°ì •í•˜ëŠ” ê·œì¹™\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePoW: ì‘ì—…ì¦ëª…(ì—°ì‚° ê²½ìŸ)\u003c/li\u003e\n\u003cli\u003ePoS: ì§€ë¶„ì¦ëª…(ê²€ì¦ìÂ·ë³´ì¦ê¸ˆ ê¸°ë°˜)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"í•´ì‹œhashì™€-ìœ„ë³€ì¡°-ë°©ì§€\"\u003eí•´ì‹œ(Hash)ì™€ ìœ„Â·ë³€ì¡° ë°©ì§€\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eí•´ì‹œ í•¨ìˆ˜(SHA-256, Keccak-256 ë“±)\u003c/strong\u003e: ì…ë ¥ì„ ê³ ì • ê¸¸ì´ë¡œ ì••ì¶•í•˜ëŠ” ì¼ë°©í–¥ í•¨ìˆ˜ì„\u003c/p\u003e","title":"ë¸”ë¡ì²´ì¸ì´ë€? ë¸”ë¡ì²´ì¸ ê°œë… ì´ì •ë¦¬"},{"content":"ê°œìš” ë¸”ë¡ì²´ì¸ ê¸°ìˆ ì—ì„œ ëª¨ë“  ê²ƒì„ ì˜¨ì²´ì¸(On-chain)ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ê±°ë‚˜ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°ê°€ ë§ìŒ ì´ë•Œ ì˜¤í”„ì²´ì¸ ì„œëª… ê²€ì¦(Off-chain Signature Verification)ì€ ì˜¤í”„ì²´ì¸(ì„œë²„)ì˜ ìœ ì—°ì„±ê³¼ ì˜¨ì²´ì¸(ì»¨íŠ¸ë™íŠ¸)ì˜ ì‹ ë¢°ì„±ì„ ê²°í•©í•˜ëŠ” ê°•ë ¥í•œ í•´ê²°ì±…ì´ ë¨\nì‰½ê²Œ ë¹„ìœ í•˜ìë©´, í´ëŸ½ ë§¤ë‹ˆì €(ì„œë²„)ê°€ VIP ì†ë‹˜(ì‚¬ìš©ì)ì—ê²Œë§Œ íŠ¹ë³„í•œ ì‹¸ì¸ì´ ë‹´ê¸´ ì…ì¥ê¶Œ(ì„œëª…)ì„ ë°œê¸‰í•˜ê³ , ì…êµ¬ì˜ ê°€ë“œ(ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸)ëŠ” ê·¸ ì‹¸ì¸ë§Œ í™•ì¸í•˜ê³  ë“¤ì—¬ë³´ë‚´ëŠ” ê²ƒê³¼ ê°™ìŒ ê°€ë“œëŠ” ë§¤ë²ˆ ë§¤ë‹ˆì €ì—ê²Œ ì—°ë½í•  í•„ìš” ì—†ì´, ìœ„ì¡°ë˜ì§€ ì•Šì€ ì‹¸ì¸ì¸ì§€ í™•ì¸ë§Œ í•˜ë©´ ë¨\nì´ ê¸€ì—ì„œëŠ” ì˜¤í”„ì²´ì¸ ì„œëª… ê²€ì¦ì´ ë¬´ì—‡ì¸ì§€, ì–´ë–¤ ìš©ì–´ë“¤ì´ ì‚¬ìš©ë˜ëŠ”ì§€, ê·¸ë¦¬ê³  ê°€ì¥ ì¤‘ìš”í•˜ê²ŒëŠ” ì–´ë–¤ ì›ë¦¬ë¡œ ë™ì‘í•˜ëŠ”ì§€ ìƒì„¸íˆ ì•Œì•„ë´„\n1. í•µì‹¬ ìš©ì–´ ì •ë¦¬ ì˜¤í”„ì²´ì¸ ì„œëª… (Off-chain Signature) ë¸”ë¡ì²´ì¸ ì™¸ë¶€(ì£¼ë¡œ ë°±ì—”ë“œ ì„œë²„)ì—ì„œ ìƒì„±ëœ ë””ì§€í„¸ ì„œëª…ì„ ì˜ë¯¸í•¨ ì´ ë°©ì‹ì€ ì„œëª…ì„ ìƒì„±í•˜ëŠ” ê³¼ì •ì—ì„œ ê°€ìŠ¤ë¹„ê°€ ë“¤ì§€ ì•Šê³ , ì„œë²„ì˜ ë‹¤ì–‘í•œ ë¡œì§ê³¼ ê²°í•©í•  ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆìŒ\në©”íƒ€ íŠ¸ëœì­ì…˜ (Meta-transaction) ì‚¬ìš©ìê°€ ê°€ìŠ¤ë¹„ë¥¼ ì§ì ‘ ë‚´ì§€ ì•Šê³ , íŠ¸ëœì­ì…˜ì— ëŒ€í•œ ì˜ë„ë§Œ \u0026lsquo;ì„œëª…\u0026rsquo;ìœ¼ë¡œ í‘œí˜„í•˜ë©´, ì œ3ì˜ ëŒ€ë¦¬ì¸(Relayer)ì´ ì´ë¥¼ ëŒ€ì‹  ì‹¤í–‰í•˜ê³  ìˆ˜ìˆ˜ë£Œë¥¼ ì§€ë¶ˆí•˜ëŠ” íŒ¨í„´ì„ ì˜¤í”„ì²´ì¸ ì„œëª…ì€ ì´ ë©”íƒ€ íŠ¸ëœì­ì…˜ì„ êµ¬í˜„í•˜ëŠ” í•µì‹¬ ê¸°ìˆ ì„\nê°€ìŠ¤ë¦¬ìŠ¤ íŠ¸ëœì­ì…˜ (Gasless Transaction) ë©”íƒ€ íŠ¸ëœì­ì…˜ì„ í†µí•´ ì‚¬ìš©ìê°€ ëŠë¼ê¸°ì— ê°€ìŠ¤ë¹„ ì—†ì´ íŠ¸ëœì­ì…˜ì„ ì²˜ë¦¬í•˜ëŠ” ê²½í—˜ì„ ì˜ë¯¸í•¨ ì„œë¹„ìŠ¤ ì œê³µìê°€ í˜ì´ë§ˆìŠ¤í„° ë“±ì„ í†µí•´ ê°€ìŠ¤ë¹„ë¥¼ ëŒ€ë‚©í•¨ìœ¼ë¡œì¨ êµ¬í˜„ë¨\nEIP-712 ë‹¨ìˆœ ë¬¸ìì—´ì´ ì•„ë‹Œ, êµ¬ì¡°í™”ëœ ë°ì´í„°ì— ëŒ€í•œ ì„œëª… í‘œì¤€ì„ ì´ í‘œì¤€ì„ ì‚¬ìš©í•˜ë©´ ì‚¬ìš©ìê°€ ìì‹ ì´ ë¬´ì—‡ì— ì„œëª…í•˜ëŠ”ì§€ ëª…í™•íˆ ì•Œ ìˆ˜ ìˆìœ¼ë©°, ë‹¤ë¥¸ ì²´ì¸ì´ë‚˜ ë‹¤ë¥¸ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ì„œëª…ì„ ì¬ì‚¬ìš©í•˜ëŠ” \u0026lsquo;ì¬ìƒ ê³µê²©(Replay Attack)\u0026lsquo;ì„ ë°©ì§€í•  ìˆ˜ ìˆì–´ ë³´ì•ˆì„±ì´ ë§¤ìš° ë†’ìŒ\n2. ì˜¤í”„ì²´ì¸ ì„œëª… ê²€ì¦ì˜ ì „ì²´ íë¦„ ì„œë²„, ì‚¬ìš©ì, ê·¸ë¦¬ê³  ì»¨íŠ¸ë™íŠ¸ ê°„ì˜ ìƒí˜¸ì‘ìš©ì€ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ê³„ë¡œ ì´ë£¨ì–´ì§\nì‚¬ìš©ì ìš”ì²­ ì‚¬ìš©ìì˜ í´ë¼ì´ì–¸íŠ¸(ì›¹/ì•±)ëŠ” íŠ¸ëœì­ì…˜ì„ ë°”ë¡œ ë¸”ë¡ì²´ì¸ì— ë³´ë‚´ëŠ” ëŒ€ì‹ , íŠ¸ëœì­ì…˜ì— í•„ìš”í•œ ì •ë³´ë“¤ì„ ë°±ì—”ë“œ ì„œë²„ì— API ìš”ì²­ìœ¼ë¡œ ë³´ëƒ„\nì„œë²„ ê²€ì¦ ë° ì„œëª… ì„œë²„ëŠ” ìš”ì²­ì´ ìœ íš¨í•œì§€ ê²€ì¦í•¨ (ì˜ˆ: ìš°ë¦¬ ì„œë¹„ìŠ¤ì˜ ì •ì‹ ì‚¬ìš©ìì¸ê°€? ìš”ì²­ ë‚´ìš©ì´ í•©ë‹¹í•œê°€?) ê²€ì¦ì´ ì™„ë£Œë˜ë©´, ì„œë²„ëŠ” EIP-712 í‘œì¤€ì— ë”°ë¼ íŠ¸ëœì­ì…˜ íŒŒë¼ë¯¸í„°ê°€ ë‹´ê¸´ ë©”ì‹œì§€ë¥¼ ë§Œë“¤ê³ , ì„œë²„ì˜ ê°œì¸í‚¤ë¡œ ì´ ë©”ì‹œì§€ì— ì„œëª…í•¨\nì‚¬ìš©ì íŠ¸ëœì­ì…˜ ì œì¶œ ì„œë²„ëŠ” ìƒì„±ëœ ì„œëª…(signature)ê³¼ ê´€ë ¨ ë°ì´í„°ë“¤ì„ ì‚¬ìš©ìì—ê²Œ ë‹¤ì‹œ ì‘ë‹µìœ¼ë¡œ ë³´ë‚´ì¤Œ ì‚¬ìš©ìì˜ í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ ì„œëª… ë°ì´í„°ë¥¼ í¬í•¨í•˜ì—¬ íŠ¸ëœì­ì…˜ë¥¼ êµ¬ì„±í•˜ê³ , ìµœì¢…ì ìœ¼ë¡œ ë¸”ë¡ì²´ì¸(ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸)ì— ì œì¶œí•¨\nì»¨íŠ¸ë™íŠ¸ ê²€ì¦ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ëŠ” ì œì¶œëœ íŠ¸ëœì­ì…˜ì„ ë°›ì•„ ì„œëª…ì´ ìœ íš¨í•œì§€ ê²€ì¦í•¨ ê²€ì¦ì— ì„±ê³µí•˜ë©´, ì»¨íŠ¸ë™íŠ¸ëŠ” ì•½ì†ëœ ì‘ì—…ì„ ìˆ˜í–‰í•¨ (ì˜ˆ: ê°€ìŠ¤ë¹„ ëŒ€ë‚©, ì•„ì´í…œ ì§€ê¸‰ ë“±)\n3. í•µì‹¬ ì›ë¦¬: ì»¨íŠ¸ë™íŠ¸ì˜ ì„œëª… ê²€ì¦ ê³¼ì • ì»¨íŠ¸ë™íŠ¸ëŠ” ì„œë²„ì˜ ê°œì¸í‚¤ë¥¼ ëª¨ë¥´ëŠ”ë°, ì–´ë–»ê²Œ ì„œë²„ê°€ ì„œëª…í–ˆë‹¤ëŠ” ê²ƒì„ ì‹ ë¢°í•  ìˆ˜ ìˆì„ê¹Œ? ì´ ê³¼ì •ì€ ì•”í˜¸í•™ì  ì›ë¦¬ë¥¼ ì´ìš©í•´ ì„¸ ë‹¨ê³„ë¡œ ì§„í–‰ë¨\n1ë‹¨ê³„: ë°ì´í„° í•´ì‹œ(Hash) ì¬êµ¬ì„± ì»¨íŠ¸ë™íŠ¸ëŠ” ì‚¬ìš©ìê°€ ì œì¶œí•œ íŒŒë¼ë¯¸í„°ë“¤(userAddress, expiryTimestamp ë“±)ì„ ë°›ì•„, ì„œë²„ê°€ ì„œëª…ì„ ìƒì„±í–ˆì„ ë•Œì™€ ì™„ë²½íˆ ë™ì¼í•œ êµ¬ì¡°ì™€ ìˆœì„œë¡œ ì´ ë°ì´í„°ë“¤ì„ ì¡°í•©í•˜ì—¬ í•´ì‹œ(hash) ê°’ì„ ë‹¤ì‹œ ê³„ì‚°í•¨\nì´ë•Œ EIP-712 í‘œì¤€ì— ë”°ë¼ ì»¨íŠ¸ë™íŠ¸ì˜ ì´ë¦„, ë²„ì „, ì²´ì¸ ID ë“±ì´ í¬í•¨ëœ ë„ë©”ì¸ ë¶„ë¦¬ì(Domain Separator)ê°€ í•´ì‹œì™€ í•¨ê»˜ ì‚¬ìš©ë˜ì–´ ë‹¤ë¥¸ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ì„œëª…ì´ ì¬ì‚¬ìš©ë˜ëŠ” ê²ƒì„ ë§‰ìŒ\n// 1. ì „ë‹¬ë°›ì€ íŒŒë¼ë¯¸í„°ë¡œ í•´ì‹œ ì¬ê³„ì‚° bytes32 hash = keccak256(abi.encode( SIGNATURE_TYPEHASH, userAddress, expiryTimestamp, recommendedGasLimit, recommendedGasPrice )); bytes32 digest = hashTypedDataV4(hash); // ë„ë©”ì¸ ë¶„ë¦¬ìì™€ ê²°í•© 2ë‹¨ê³„: ì„œëª…ì ì£¼ì†Œ ë³µì› ecrecoverë¼ëŠ” ì•”í˜¸í•™ì  í•¨ìˆ˜ëŠ” ë©”ì‹œì§€ í•´ì‹œ(digest)ì™€ ì„œëª…ê°’(signature), ì´ ë‘ ê°€ì§€ë¥¼ ì…ë ¥ë°›ì•„ í•´ë‹¹ ì„œëª…ì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” ìœ ì¼í•œ ê³µê°œí‚¤, ì¦‰ ì„œëª…ìì˜ ì£¼ì†Œë¥¼ ì—­ìœ¼ë¡œ ê³„ì‚°í•´ëƒ„ ì´ ê³¼ì •ì—ì„œ ì„œë²„ì˜ ê°œì¸í‚¤ëŠ” ì ˆëŒ€ ë…¸ì¶œë˜ì§€ ì•ŠìŒ\n// 2. ì„œëª…ì—ì„œ ì£¼ì†Œ ë³µì› address recoveredAddress = digest.recover(signature); 3ë‹¨ê³„: ì„œëª…ì ì£¼ì†Œ ë¹„êµ ë§ˆì§€ë§‰ìœ¼ë¡œ, 2ë‹¨ê³„ì—ì„œ ë³µì›ëœ ì£¼ì†Œê°€ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì— ë¯¸ë¦¬ ì €ì¥ëœ ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ì„œë²„ì˜ ì£¼ì†Œ(signer)ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ ë¹„êµí•¨ ë‘ ì£¼ì†Œê°€ ì¼ì¹˜í•œë‹¤ë©´, ì´ ì„œëª…ì€ ìš°ë¦¬ê°€ ì‹ ë¢°í•˜ëŠ” ì„œë²„ê°€ ìƒì„±í•œ ìœ íš¨í•œ ì„œëª…ì„ì´ ì¦ëª…ëœ ê²ƒì„\n// 3. ë³µì›ëœ ì£¼ì†Œê°€ signerì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸ require(signer == recoveredAddress, \u0026#34;Paymaster: Invalid signer\u0026#34;); 4. ë°ì´í„° ë¬´ê²°ì„±: ì„œëª…ëœ ë°ì´í„°ëŠ” ì–´ë–»ê²Œ ì‹ ë¢°í•˜ëŠ”ê°€? \u0026ldquo;ë§Œì•½ ì‚¬ìš©ìê°€ ìœ íš¨í•œ ì„œëª…ì„ ë°›ì€ ë’¤, íŒŒë¼ë¯¸í„° ê°’ë§Œ ëª°ë˜ ë°”ê¿”ì„œ ì œì¶œí•˜ë©´ ì–´ë–¡í•˜ì§€?\u0026rdquo; ê²°ë¡ ë¶€í„° ë§í•˜ë©´, ë¶ˆê°€ëŠ¥í•¨\nì„œëª… ê²€ì¦ ê³¼ì • ìì²´ê°€ ë°ì´í„°ì˜ ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ê¸° ë•Œë¬¸ì„ ë§Œì•½ ì‚¬ìš©ìê°€ íŒŒë¼ë¯¸í„°ë¥¼ 1ë¹„íŠ¸ë¼ë„ ë³€ê²½í•˜ë©´, 1ë‹¨ê³„ì—ì„œ ì¬êµ¬ì„±ë˜ëŠ” í•´ì‹œê°’ì´ ì›ë˜ì˜ í•´ì‹œê°’ê³¼ ì™„ì „íˆ ë‹¬ë¼ì§ ê²°ê³¼ì ìœ¼ë¡œ 2ë‹¨ê³„ì—ì„œ ì£¼ì†Œ ë³µì›ì— ì‹¤íŒ¨í•˜ê±°ë‚˜ ì—‰ëš±í•œ ì£¼ì†Œë¥¼ ë°˜í™˜í•˜ê²Œ ë˜ì–´, 3ë‹¨ê³„ì˜ ì£¼ì†Œ ë¹„êµì—ì„œ ë°˜ë“œì‹œ ì‹¤íŒ¨í•˜ê²Œ ë¨\nì´ì²˜ëŸ¼, ì„œëª…ì€ ë°ì´í„°ì˜ í•´ì‹œì™€ í•œ ìŒìœ¼ë¡œ ë¬¶ì—¬ìˆê¸° ë•Œë¬¸ì— ë°ì´í„°ê°€ ì¡°ê¸ˆì´ë¼ë„ ë³€ì¡°ë˜ë©´ ì„œëª…ì€ ì¦‰ì‹œ ë¬´íš¨ê°€ ë¨ ì´ ì›ë¦¬ ë•ë¶„ì— ìš°ë¦¬ëŠ” ë°ì´í„°ê°€ ì„œë²„ê°€ ìŠ¹ì¸í•œ ì›ë³¸ ê·¸ëŒ€ë¡œì„ì„ ì‹ ë¢°í•  ìˆ˜ ìˆìŒ\në§ˆë¬´ë¦¬ ì˜¤í”„ì²´ì¸ ì„œëª… ê²€ì¦ì€ ì˜¨ì²´ì¸ì˜ ì‹ ë¢°ì„±ê³¼ ì˜¤í”„ì²´ì¸ì˜ ìœ ì—°ì„±ì„ ê²°í•©í•œ ê°•ë ¥í•œ íŒ¨í„´ì„ ì´ë¥¼ í†µí•´ ê°€ìŠ¤ë¹„ ì†Œëª¨ ì—†ì´ ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì˜¨ì²´ì¸ ì‹œìŠ¤í…œì— ì•ˆì „í•˜ê²Œ ì ìš©í•  ìˆ˜ ìˆìŒ ì„œëª… ê²€ì¦ ê³¼ì • ìì²´ê°€ ë°ì´í„°ì˜ ë¬´ê²°ì„±ê³¼ ì„œëª…ìì˜ ì‹ ë¢°ì„±ì„ ë™ì‹œì— ë³´ì¥í•˜ë¯€ë¡œ, ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ë³´ì•ˆì„±ê³¼ íš¨ìœ¨ì„±ì„ ë†’ì´ëŠ” ë° í™œìš©ë  ìˆ˜ ìˆìŒ\n","permalink":"https://blog.jsontapose.com/posts/off-chain-signature-verification-542a33/","summary":"\u003ch2 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h2\u003e\n\u003cp\u003eë¸”ë¡ì²´ì¸ ê¸°ìˆ ì—ì„œ ëª¨ë“  ê²ƒì„ ì˜¨ì²´ì¸(On-chain)ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ê±°ë‚˜ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°ê°€ ë§ìŒ\nì´ë•Œ \u003cstrong\u003eì˜¤í”„ì²´ì¸ ì„œëª… ê²€ì¦\u003c/strong\u003e(Off-chain Signature Verification)ì€ ì˜¤í”„ì²´ì¸(ì„œë²„)ì˜ ìœ ì—°ì„±ê³¼ ì˜¨ì²´ì¸(ì»¨íŠ¸ë™íŠ¸)ì˜ ì‹ ë¢°ì„±ì„ ê²°í•©í•˜ëŠ” ê°•ë ¥í•œ í•´ê²°ì±…ì´ ë¨\u003c/p\u003e\n\u003cp\u003eì‰½ê²Œ ë¹„ìœ í•˜ìë©´, í´ëŸ½ ë§¤ë‹ˆì €(ì„œë²„)ê°€ VIP ì†ë‹˜(ì‚¬ìš©ì)ì—ê²Œë§Œ íŠ¹ë³„í•œ ì‹¸ì¸ì´ ë‹´ê¸´ ì…ì¥ê¶Œ(ì„œëª…)ì„ ë°œê¸‰í•˜ê³ , ì…êµ¬ì˜ ê°€ë“œ(ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸)ëŠ” ê·¸ ì‹¸ì¸ë§Œ í™•ì¸í•˜ê³  ë“¤ì—¬ë³´ë‚´ëŠ” ê²ƒê³¼ ê°™ìŒ\nê°€ë“œëŠ” ë§¤ë²ˆ ë§¤ë‹ˆì €ì—ê²Œ ì—°ë½í•  í•„ìš” ì—†ì´, ìœ„ì¡°ë˜ì§€ ì•Šì€ ì‹¸ì¸ì¸ì§€ í™•ì¸ë§Œ í•˜ë©´ ë¨\u003c/p\u003e\n\u003cp\u003eì´ ê¸€ì—ì„œëŠ” ì˜¤í”„ì²´ì¸ ì„œëª… ê²€ì¦ì´ ë¬´ì—‡ì¸ì§€, ì–´ë–¤ ìš©ì–´ë“¤ì´ ì‚¬ìš©ë˜ëŠ”ì§€, ê·¸ë¦¬ê³  ê°€ì¥ ì¤‘ìš”í•˜ê²ŒëŠ” ì–´ë–¤ ì›ë¦¬ë¡œ ë™ì‘í•˜ëŠ”ì§€ ìƒì„¸íˆ ì•Œì•„ë´„\u003c/p\u003e","title":"ì˜¤í”„ì²´ì¸ ì„œëª… ê²€ì¦(Off-chain Signature Verification)ì´ë€?"},{"content":"ê°œìš” ë¸”ë¡ì²´ì¸ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©ìê°€ ê²ªëŠ” ê°€ì¥ í° ì¥ë²½ ì¤‘ í•˜ë‚˜ëŠ” ë‹¨ì—° ê°€ìŠ¤ë¹„(Gas Fee)ì„ ì•„ë¬´ë¦¬ ì¢‹ì€ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ì–´ë„, ì‚¬ìš©ìê°€ ì§€ê°‘ì— ê°€ìŠ¤ë¹„ë¡œ ì“¸ ì½”ì¸(ETH ë“±)ì„ ë³´ìœ í•˜ê³  ìˆì–´ì•¼ í•œë‹¤ëŠ” ì ì€ ëŒ€ì¤‘í™”ë¥¼ ê°€ë¡œë§‰ëŠ” ê²°ì •ì ì¸ ìš”ì¸ì„ ì´ ë¬¸ì œë¥¼ í•´ê²°í•´ ì‚¬ìš©ìê°€ ê°€ìŠ¤ë¹„ ê±±ì • ì—†ì´ ì„œë¹„ìŠ¤ í•µì‹¬ ê°€ì¹˜ì—ë§Œ ì§‘ì¤‘í•˜ê²Œ ë§Œë“œëŠ” ê²ƒ, ì¦‰ ê°€ìŠ¤ë¦¬ìŠ¤ íŠ¸ëœì­ì…˜(Gasless Transaction)ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì´ë²ˆ ê°œë°œì˜ ìµœì¢… ëª©í‘œì˜€ìŒ\nzkSync EraëŠ” ì´ë¥¼ ìœ„í•´ í˜ì´ë§ˆìŠ¤í„°(Paymaster)ë¼ëŠ” ê°•ë ¥í•œ ì‹œìŠ¤í…œì„ ì œê³µí•¨. í˜ì´ë§ˆìŠ¤í„°ëŠ” ì„œë¹„ìŠ¤ ì œê³µì ê°™ì€ ì œ3ìê°€ ì‚¬ìš©ìë¥¼ ëŒ€ì‹ í•´ íŠ¸ëœì­ì…˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì§€ë¶ˆí•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì„\në¬¸ì œ ì •ì˜: ë‹¨ìˆœ ì„¤ê³„ í˜ì´ë§ˆìŠ¤í„°ì˜ ëª…í™•í•œ í•œê³„ ê°€ì¥ ë¨¼ì € ê²€í† í•œ toAddressPaymasterëŠ” íŠ¹ì • ì»¨íŠ¸ë™íŠ¸ë¡œ í–¥í•˜ëŠ” íŠ¸ëœì­ì…˜ì˜ ê°€ìŠ¤ë¹„ë§Œ ëŒ€ë‚©í•´ì£¼ëŠ” ë‹¨ìˆœí•œ ëª¨ë¸ì„. í•˜ì§€ë§Œ ì´ ë°©ì‹ì€ ë‘ ê°€ì§€ ì¹˜ëª…ì ì¸ í—ˆì ì„ ê°€ì§\nì˜ë„ì¹˜ ì•Šì€ íŠ¸ëœì­ì…˜ í—ˆìš©: ì‹ ê·œ ì‚¬ìš©ìì—ê²Œ ì§€ê°‘ì„ ë§Œë“¤ì–´ì£¼ëŠ” AccountFactory ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œë¥¼ í˜ì´ë§ˆìŠ¤í„°ì— ë“±ë¡í•  ê²½ìš°, ìš°ë¦¬ ì„œë¹„ìŠ¤ì™€ ë¬´ê´€í•œ ëª¨ë“  ì‚¬ìš©ìê°€ ì´ íŒ©í† ë¦¬ë¥¼ ì‚¬ìš©í•  ë•Œ ë°œìƒí•˜ëŠ” ê°€ìŠ¤ë¹„ë¥¼ ìš°ë¦¬ê°€ ì „ë¶€ ëŒ€ë‚©í•˜ê²Œ ë¨. í˜ì´ë§ˆìŠ¤í„°ê°€ ì˜ë„ì¹˜ ì•Šê²Œ ê³µê³µì¬ê°€ ë˜ì–´ë²„ë¦¬ëŠ” ìƒí™©\nê°€ìŠ¤ë¹„ ì†Œëª¨ ê³µê²©ì— ì·¨ì•½: gasLimitì„ ê²€ì¦í•˜ëŠ” ë¡œì§ì´ ì—†ì–´, ì•…ì˜ì  ì‚¬ìš©ìê°€ ê°€ìŠ¤ë¹„ë¥¼ ë¹„ì •ìƒì ìœ¼ë¡œ ë†’ê²Œ ì±…ì •í•´ íŠ¸ëœì­ì…˜ í•œ ë²ˆìœ¼ë¡œ í˜ì´ë§ˆìŠ¤í„°ì˜ ëª¨ë“  ìê¸ˆì„ ê³ ê°ˆì‹œí‚¬ ìˆ˜ ìˆëŠ” ìœ„í—˜ì´ ì¡´ì¬í•¨\nê²°ë¡ ì ìœ¼ë¡œ ìš°ë¦¬ê°€ í—ˆìš©í•œ ì‚¬ìš©ìê°€ ìš°ë¦¬ê°€ ì˜ë„í•œ ì‘ì—…ì„ í•  ë•Œ ë°œìƒí•˜ëŠ” í•©ë¦¬ì ì¸ ìˆ˜ì¤€ì˜ ê°€ìŠ¤ë¹„ë§Œì„ ì„ ë³„ì ìœ¼ë¡œ ëŒ€ë‚©í•  ë˜‘ë˜‘í•œ ë°©ë²•ì´ í•„ìš”í–ˆìŒ\ní•´ê²°ì˜ ì‹¤ë§ˆë¦¬: Off-chain Signature Verification ì´ ë¬¸ì œì˜ í•´ê²°ì±…ìœ¼ë¡œ ì˜¤í”„ì²´ì¸ ì„œëª… ê²€ì¦(Off-chain Signature Verification) íŒ¨í„´ì„ ë„ì…í•˜ê¸°ë¡œ ê²°ì •í•¨\nì´ íŒ¨í„´ì€ ë¸”ë¡ì²´ì¸ ì™¸ë¶€(ì„œë²„)ì—ì„œ ìƒì„±ëœ ë””ì§€í„¸ ì„œëª…ì„ ë¸”ë¡ì²´ì¸ ìœ„(ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸)ì—ì„œ ê²€ì¦í•˜ëŠ” ë°©ì‹ì„. ì¦‰, ê°€ìŠ¤ë¹„ ëŒ€ë‚© ì—¬ë¶€ë¥¼ ì»¨íŠ¸ë™íŠ¸ê°€ ë‹¨ë…ìœ¼ë¡œ ê²°ì •í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼, ìš°ë¦¬ê°€ í†µì œí•˜ëŠ” ì„œë²„ì˜ \u0026lsquo;í—ˆê°€\u0026rsquo;ë¥¼ ë°›ì•„ ê²°ì •í•˜ê²Œ ë§Œë“œëŠ” ê²ƒ\nì´ ê³¼ì •ì—ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì£¼ìš” ê°œë…ë“¤ì´ í™œìš©ë¨\në©”íƒ€ íŠ¸ëœì­ì…˜(Meta-transaction): ì‚¬ìš©ìê°€ ì§ì ‘ íŠ¸ëœì­ì…˜ì„ ìƒì„±í•˜ê³  ê°€ìŠ¤ë¹„ë¥¼ ì§€ë¶ˆí•˜ëŠ” ëŒ€ì‹ , íŠ¸ëœì­ì…˜ì˜ ë‚´ìš©ì´ ë  ë°ì´í„°ì— ì„œëª…ë§Œ í•¨. ê·¸ëŸ¬ë©´ ì´ ì„œëª…ì„ ë°›ì€ ëŒ€ë¦¬ì¸(Relayer)ì´ ì‹¤ì œ íŠ¸ëœì­ì…˜ìœ¼ë¡œ ë§Œë“¤ì–´ ìˆ˜ìˆ˜ë£Œë¥¼ ëŒ€ì‹  ë‚´ê³  ë¸”ë¡ì²´ì¸ì— ì œì¶œí•˜ëŠ” íŒ¨í„´. ìš°ë¦¬ê°€ êµ¬í˜„í•  í˜ì´ë§ˆìŠ¤í„°ëŠ” zkSync ì‹œìŠ¤í…œì´ ë¦´ë ˆì´ì–´ ì—­í• ì„ í•´ì£¼ëŠ” ë©”íƒ€ íŠ¸ëœì­ì…˜ì˜ ì¼ì¢…ì„\nEIP-712: ë‹¨ìˆœ í…ìŠ¤íŠ¸ê°€ ì•„ë‹Œ, jsonì²˜ëŸ¼ êµ¬ì¡°í™”ëœ ë°ì´í„°ì— ëŒ€í•œ ì„œëª… í‘œì¤€. ì‚¬ìš©ìê°€ ë¬´ì—‡ì— ì„œëª…í•˜ëŠ”ì§€ ëª…í™•íˆ ì¸ì§€í•  ìˆ˜ ìˆê³ , ë‹¤ë¥¸ ì»¨íŠ¸ë™íŠ¸ë‚˜ ì²´ì¸ì—ì„œ ì„œëª…ì„ ì¬ì‚¬ìš©í•˜ëŠ” \u0026lsquo;ì¬ìƒ ê³µê²©(Replay Attack)\u0026lsquo;ì„ ë°©ì§€í•˜ëŠ” ë„ë©”ì¸ ë¶„ë¦¬(Domain Separator) ê¸°ëŠ¥ì„ í¬í•¨í•˜ê³  ìˆì–´ í˜ì´ë§ˆìŠ¤í„° ì„œëª…ì— í•„ìˆ˜ì ì„\nêµ¬í˜„ ê³¼ì •: ì„œëª… ê¸°ë°˜ í˜ì´ë§ˆìŠ¤í„° ì„¤ê³„ ë° ê°œë°œ ì „ì²´ íë¦„ì€ ì„œë²„ì˜ ì„œëª… ìƒì„±(Off-chain)ê³¼ ì»¨íŠ¸ë™íŠ¸ì˜ ì„œëª… ê²€ì¦(On-chain) ë‘ ë‹¨ê³„ë¡œ ë‚˜ë‰¨\n1. ì„œë²„ (Off-chain): ì„œëª… ìƒì„± ë‹¨ê³„ ì‚¬ìš©ìê°€ íŠ¸ëœì­ì…˜ì„ ì‹¤í–‰í•˜ê¸° ì§ì „, í´ë¼ì´ì–¸íŠ¸ëŠ” íŠ¸ëœì­ì…˜ ë°ì´í„°ë¥¼ ë°±ì—”ë“œ ì„œë²„ë¡œ ì „ì†¡í•¨. ì„œë²„ëŠ” ë‹¤ìŒ ì ˆì°¨ë¥¼ ìˆ˜í–‰\nìš”ì²­ ê²€ì¦: ìš”ì²­ì„ ë³´ë‚¸ ì‚¬ìš©ìê°€ ìš°ë¦¬ ì„œë¹„ìŠ¤ì˜ ìœ íš¨í•œ ì‚¬ìš©ìì¸ì§€, íŠ¸ëœì­ì…˜ ë‚´ìš©ì´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì— ë¶€í•©í•˜ëŠ”ì§€ ë“±ì„ ê²€ì¦\nê°€ìŠ¤ë¹„ ì¶”ì • ë° íŒŒë¼ë¯¸í„° ì„¤ì •: íŠ¸ëœì­ì…˜ì— í•„ìš”í•œ ê°€ìŠ¤ë¹„ë¥¼ ì¶”ì •í•˜ê³ , ì—¬ê¸°ì— ì•½ê°„ì˜ ë²„í¼ë¥¼ ë”í•´ recommendedGasLimitê³¼ recommendedGasPriceë¥¼ ê²°ì •. ì„œëª…ì´ ìœ íš¨í•  ì‹œê°„(expiryTimestamp)ë„ ì„¤ì •í•¨\nEIP-712 ì„œëª… ìƒì„±: ê²€ì¦ëœ íŒŒë¼ë¯¸í„°ë“¤ì„ ë°”íƒ•ìœ¼ë¡œ EIP-712 í‘œì¤€ì— ë”°ë¼ êµ¬ì¡°í™”ëœ ë°ì´í„°ë¥¼ ë§Œë“¤ê³ , ì„œë²„ë§Œ ì•ˆì „í•˜ê²Œ ë³´ê´€í•˜ê³  ìˆëŠ” ê°œì¸í‚¤ë¡œ ì´ ë°ì´í„°ì— ì„œëª…í•¨\n// ì„œë²„ì—ì„œ EIP-712 íƒ€ì…ì— ë§ì¶° ì„œëª…í•  ë°ì´í„°ë¥¼ êµ¬ì„± const domain = { name: \u0026#34;SignatureBasedPaymaster\u0026#34;, version: \u0026#34;1\u0026#34;, chainId: chainId, verifyingContract: PAYMASTER_ADDRESS }; const types = { SignatureBasedPaymaster: [ { name: \u0026#39;userAddress\u0026#39;, type: \u0026#39;address\u0026#39; }, { name: \u0026#39;expiryTimestamp\u0026#39;, type: \u0026#39;uint256\u0026#39; }, { name: \u0026#39;recommendedGasLimit\u0026#39;, type: \u0026#39;uint256\u0026#39; }, { name: \u0026#39;recommendedGasPrice\u0026#39;, type: \u0026#39;uint256\u0026#39; } ] }; const value = { /* userAddress, expiryTimestamp ë“± ì‹¤ì œ ê°’ */ }; // ì„œë²„ì˜ ê°œì¸í‚¤ë¡œ ì„œëª… ìƒì„± const signature = await signerWallet.signTypedData(domain, types, value); ì´ ì„œëª…ê°’ê³¼ ê´€ë ¨ íŒŒë¼ë¯¸í„°ë“¤ì„ í´ë¼ì´ì–¸íŠ¸ì— ë°˜í™˜í•˜ë©´, í´ë¼ì´ì–¸íŠ¸ëŠ” ì´ ë°ì´í„°ë¥¼ íŠ¸ëœì­ì…˜ê³¼ í•¨ê»˜ zkSync ë„¤íŠ¸ì›Œí¬ë¡œ ì „ì†¡í•¨\n2. ì»¨íŠ¸ë™íŠ¸ (On-chain): ì„œëª… ê²€ì¦ ë‹¨ê³„ ì‚¬ìš©ìì˜ íŠ¸ëœì­ì…˜ì€ zkSync ë¶€íŠ¸ë¡œë”(Bootloader)ë¥¼ í†µí•´ í˜ì´ë§ˆìŠ¤í„° ì»¨íŠ¸ë™íŠ¸ì˜ validateAndPayForPaymasterTransaction í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•¨. ì´ í•¨ìˆ˜ëŠ” ì„œëª… ê²€ì¦ì˜ í•µì‹¬ì„\në°ì´í„° ì¬êµ¬ì„±: íŠ¸ëœì­ì…˜ì— í¬í•¨ëœ userAddress, expiryTimestamp, recommendedGasLimit ë“±ì˜ íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì ¸ì™€ ì„œë²„ê°€ ì„œëª…í–ˆë˜ ê²ƒê³¼ ì™„ë²½íˆ ë™ì¼í•œ êµ¬ì¡°ì™€ ìˆœì„œë¡œ í•´ì‹œ(hash)ë¥¼ ë‹¤ì‹œ ë§Œë“¦\nì„œëª…ì ë³µì›: ì¬êµ¬ì„±í•œ í•´ì‹œì™€ íŠ¸ëœì­ì…˜ì— í¬í•¨ëœ ì„œëª…(signature)ì„ ì´ìš©í•´ ì•”í˜¸í•™ì  í•¨ìˆ˜(ecrecover)ë¥¼ í˜¸ì¶œ. ì´ë¥¼ í†µí•´ ì´ ì„œëª…ì„ ìƒì„±í•œ ì£¼ì†Œë¥¼ ì—­ìœ¼ë¡œ ê³„ì‚°í•´ëƒ„\nì„œëª…ì ê²€ì¦: ë³µì›ëœ ì£¼ì†Œê°€ ì»¨íŠ¸ë™íŠ¸ì— ë¯¸ë¦¬ ì €ì¥í•´ ë‘” ìš°ë¦¬ ì„œë²„ì˜ ì£¼ì†Œ(signer)ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸. ì¼ì¹˜í•´ì•¼ë§Œ ì„œë²„ê°€ í—ˆê°€í•œ ìœ íš¨í•œ ìš”ì²­ìœ¼ë¡œ ê°„ì£¼í•¨\në§Œì•½ ëˆ„êµ°ê°€ ì„œë²„ë¡œë¶€í„° ë°›ì€ ì„œëª…ì„ ê·¸ëŒ€ë¡œ ë‘ê³  íŒŒë¼ë¯¸í„°(ex: ê°€ìŠ¤ë¹„)ë¥¼ ë³€ê²½í•˜ë ¤ ì‹œë„í•˜ë©´, 1ë²ˆ ë‹¨ê³„ì—ì„œ ìƒì„±ë˜ëŠ” í•´ì‹œê°’ì´ ë‹¬ë¼ì ¸ 3ë²ˆ ê²€ì¦ ë‹¨ê³„ì—ì„œ ì‹¤íŒ¨í•˜ê²Œ ë¨. ì´ë¥¼ í†µí•´ ë°ì´í„°ì˜ ë¬´ê²°ì„±ê³¼ ì„œëª…ìì˜ ì‹ ë¢°ì„±ì„ ë™ì‹œì— í™•ë³´í•¨\n// 1. ì„œë²„ê°€ ì„œëª…í–ˆì„ ë°ì´í„°ì˜ í•´ì‹œë¥¼ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ë™ì¼í•˜ê²Œ ì¬êµ¬ì„± bytes32 digest = hashTypedDataV4(keccak256(abi.encode( SIGNATURE_TYPEHASH, userAddress, expiryTimestamp, recommendedGasLimit, recommendedGasPrice ))); // 2. ì„œëª…ê³¼ ì¬êµ¬ì„±ëœ í•´ì‹œë¥¼ ì‚¬ìš©í•´ ì„œëª…ì ì£¼ì†Œë¥¼ ë³µì› address recoveredSigner = digest.recover(signature); // 3. ë³µì›ëœ ì£¼ì†Œê°€ ìš°ë¦¬ê°€ ì‹ ë¢°í•˜ëŠ” ì„œë²„ì˜ ì£¼ì†Œ(signer)ì™€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸ require( signer == recoveredSigner, \u0026#34;Paymaster: Invalid signer\u0026#34; ); // ... ê²€ì¦ í†µê³¼ í›„ ê°€ìŠ¤ë¹„ ëŒ€ë‚© ë¡œì§ ì‹¤í–‰ ê²°ë¡  ë° íšŒê³  zkSyncì˜ í˜ì´ë§ˆìŠ¤í„°ëŠ” ì‚¬ìš©ìì˜ ê°€ìŠ¤ë¹„ë¥¼ ëŒ€ì‹  ì§€ë¶ˆí•˜ëŠ” ê¸°ëŠ¥ì„ ì†ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ê¸°ë°˜ì„ ì œê³µí•¨ ê°œë°œìëŠ” ì´ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ì§„ì… ì¥ë²½ì„ ë‚®ì¶”ê³  UXë¥¼ í¬ê²Œ ê°œì„ í•  ìˆ˜ ìˆìŒ\ní•˜ì§€ë§Œ ì—¬ê¸°ì— ì˜¤í”„ì²´ì¸ ì„œëª… ê²€ì¦(Off-chain Signature Verification) íŒ¨í„´ì„ ê²°í•©í•¨ìœ¼ë¡œì¨, ë‹¨ìˆœí•œ ê°€ìŠ¤ë¹„ ëŒ€ë‚©ì„ ë„˜ì–´ ì •êµí•œ ê¶Œí•œ ì œì–´ê°€ ê°€ëŠ¥í•´ì§ ì„œë²„ì—ì„œ ê° ìš”ì²­ì„ ì‚¬ì „ì— ê²€ì¦í•˜ê³  ì„œëª…ì„ ë°œê¸‰í•˜ëŠ” ë°©ì‹ì€ ë‹¤ìŒê³¼ ê°™ì€ ëª…í™•í•œ ì´ì ì„ ê°€ì ¸ì™”ìŒ\nìš´ì˜ ì•ˆì •ì„±: ëˆ„ê°€, ì–¸ì œ, ì–´ë–¤ íŠ¸ëœì­ì…˜ì˜ ê°€ìŠ¤ë¹„ë¥¼ ì§€ì›ë°›ì„ì§€ ì„œë²„ë‹¨ì—ì„œ ìœ ì—°í•˜ê²Œ ì œì–´í•  ìˆ˜ ìˆì–´, ë¬´ë¶„ë³„í•œ ë¹„ìš© ì†Œëª¨ë¥¼ ë§‰ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œ ìš´ì˜ì´ ê°€ëŠ¥\në³´ì•ˆ ê°•í™”: í—ˆê°€ëœ ì£¼ì²´ë§Œì´ ì„œëª…ì„ í†µí•´ ê°€ìŠ¤ë¹„ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì´ˆê¸° ëª¨ë¸ì˜ ê°€ì¥ í° ë¬¸ì œì˜€ë˜ ìê¸ˆ ê³ ê°ˆ ê³µê²©ê³¼ ì˜ë„ì¹˜ ì•Šì€ íŠ¸ëœì­ì…˜ í—ˆìš©ì„ ì›ì²œì ìœ¼ë¡œ ì°¨ë‹¨í•  ìˆ˜ ìˆì—ˆìŒ\nê²°ë¡ ì ìœ¼ë¡œ, zkSyncì˜ í¸ë¦¬í•œ ì˜¨ì²´ì¸ ê¸°ëŠ¥ê³¼ ì„œë²„ì˜ ì˜¤í”„ì²´ì¸ ë¡œì§ì„ ê²°í•©í•œ ì´ ì ‘ê·¼ë²•ì€ ë³´ì•ˆê³¼ ìš´ì˜ ì•ˆì •ì„±ì„ ëª¨ë‘ í™•ë³´í•˜ëŠ” íš¨ê³¼ì ì¸ í•´ê²°ì±…ì´ì—ˆìŒ ì´ë¥¼ í†µí•´ ì‹œìŠ¤í…œì˜ ìì‚°ì„ ì•ˆì „í•˜ê²Œ ë³´í˜¸í•˜ë©° ì§€ì† ê°€ëŠ¥í•œ ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•  ìˆ˜ ìˆëŠ” ê²¬ê³ í•œ í† ëŒ€ë¥¼ ë§ˆë ¨í•˜ê²Œ ë˜ì—ˆìŒ\n","permalink":"https://blog.jsontapose.com/posts/zksync-era-paymaster-off-chain-signature-verification-274b74/","summary":"\u003ch2 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h2\u003e\n\u003cp\u003eë¸”ë¡ì²´ì¸ ì„œë¹„ìŠ¤ì—ì„œ ì‚¬ìš©ìê°€ ê²ªëŠ” ê°€ì¥ í° ì¥ë²½ ì¤‘ í•˜ë‚˜ëŠ” ë‹¨ì—° \u003cstrong\u003eê°€ìŠ¤ë¹„\u003c/strong\u003e(Gas Fee)ì„\nì•„ë¬´ë¦¬ ì¢‹ì€ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ì–´ë„, ì‚¬ìš©ìê°€ ì§€ê°‘ì— ê°€ìŠ¤ë¹„ë¡œ ì“¸ ì½”ì¸(ETH ë“±)ì„ ë³´ìœ í•˜ê³  ìˆì–´ì•¼ í•œë‹¤ëŠ” ì ì€ ëŒ€ì¤‘í™”ë¥¼ ê°€ë¡œë§‰ëŠ” ê²°ì •ì ì¸ ìš”ì¸ì„\nì´ ë¬¸ì œë¥¼ í•´ê²°í•´ ì‚¬ìš©ìê°€ ê°€ìŠ¤ë¹„ ê±±ì • ì—†ì´ ì„œë¹„ìŠ¤ í•µì‹¬ ê°€ì¹˜ì—ë§Œ ì§‘ì¤‘í•˜ê²Œ ë§Œë“œëŠ” ê²ƒ, ì¦‰ \u003cstrong\u003eê°€ìŠ¤ë¦¬ìŠ¤ íŠ¸ëœì­ì…˜\u003c/strong\u003e(Gasless Transaction)ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì´ë²ˆ ê°œë°œì˜ ìµœì¢… ëª©í‘œì˜€ìŒ\u003c/p\u003e\n\u003cp\u003ezkSync EraëŠ” ì´ë¥¼ ìœ„í•´ \u003cstrong\u003eí˜ì´ë§ˆìŠ¤í„°\u003c/strong\u003e(Paymaster)ë¼ëŠ” ê°•ë ¥í•œ ì‹œìŠ¤í…œì„ ì œê³µí•¨. í˜ì´ë§ˆìŠ¤í„°ëŠ” ì„œë¹„ìŠ¤ ì œê³µì ê°™ì€ ì œ3ìê°€ ì‚¬ìš©ìë¥¼ ëŒ€ì‹ í•´ íŠ¸ëœì­ì…˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì§€ë¶ˆí•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì„\u003c/p\u003e","title":"ì•ˆì „í•œ ê°€ìŠ¤ë¹„ ëŒ€ë‚©ì„ ìœ„í•œ ì˜¤í”„ì²´ì¸ ì„œëª… ê²€ì¦ í˜ì´ë§ˆìŠ¤í„° (in ZkSync Era)"},{"content":"ê°œìš” ë¨¸í´íŠ¸ë¦¬ëŠ” ë¸”ë¡ì²´ì¸ì—ì„œ ê±°ë˜ ì§‘í•©ì„ ì•ˆì „í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ìš”ì•½Â·ê²€ì¦í•˜ê¸° ìœ„í•´ ì“°ì´ëŠ” í•µì‹¬ ìë£Œêµ¬ì¡°ì„ ë¸”ë¡ í—¤ë”ì— ë¨¸í´ë£¨íŠ¸ê°€ í¬í•¨ë˜ëŠ” ì´ìœ ëŠ” ë¸”ë¡ ì•ˆì˜ ëª¨ë“  ê±°ë˜ë¥¼ ê³ ì • í¬ê¸° í•´ì‹œ í•˜ë‚˜ë¡œ ëŒ€í‘œí•´ ë¬´ê²°ì„± í™•ì¸ê³¼ ê²½ëŸ‰ ê²€ì¦ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ê¸° ë•Œë¬¸ì„ ì´ ê¸€ì€ ë¨¸í´íŠ¸ë¦¬ì˜ êµ¬ì¡°ì™€ ë™ì‘ ì›ë¦¬, ë¸”ë¡ì²´ì¸ì—ì„œì˜ ì‹¤ë¬´ì  ì˜ë¯¸ì™€ êµ¬í˜„ ì£¼ì˜ì‚¬í•­ê¹Œì§€ ì´ˆë³´ìë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ìƒì„¸íˆ ì„¤ëª…í•¨\ní•µì‹¬ ê°œë…ê³¼ êµ¬ì¡° ë¨¸í´íŠ¸ë¦¬ëŠ” ë³´í†µ ì´ì§„ íŠ¸ë¦¬ í˜•íƒœë¡œ êµ¬í˜„í•¨ ê±°ë˜ë“¤ì„ ë¦¬í”„(leaf) ë¡œ ë‘ê³  ì¸ì ‘ ë‘ ë¦¬í”„ì˜ í•´ì‹œë¥¼ ì´ì–´ ë¶™ì—¬ ë¶€ëª¨ í•´ì‹œë¥¼ ë§Œë“¤ë©° ì´ ê³¼ì •ì„ ë°˜ë³µí•´ ë£¨íŠ¸ í•´ì‹œë¥¼ ì–»ìŒ í•´ì‹œ í•¨ìˆ˜ëŠ” ì²´ì¸ë³„ë¡œ ë‹¤ë¥´ë©° ë¹„íŠ¸ì½”ì¸ì€ ë”ë¸” SHAâ€‘256, ì´ë”ë¦¬ì›€ì€ íŠ¸ë¼ì´ êµ¬ì¡°ì—ì„œ Keccakâ€‘256 ì„ ì‚¬ìš©í•¨ ìµœìƒë‹¨ í•´ì‹œë¥¼ ë¨¸í´ë£¨íŠ¸(Merkle root) ë¼ ë¶€ë¥´ë©° í¬ê¸°ëŠ” í•´ì‹œ í•¨ìˆ˜ì— ë”°ë¼ ê³ ì •ë¨ ë¦¬í”„ ìˆ˜ê°€ í™€ìˆ˜ì¼ ë•ŒëŠ” ë§ˆì§€ë§‰ ë¦¬í”„ë¥¼ ë³µì œí•´ ì§ì„ ë§ì¶”ëŠ” ë°©ì‹ì´ ì¼ë°˜ì ì´ë©° ë¹„íŠ¸ì½”ì¸ì€ ì´ ê·œì¹™ì„ ì‚¬ìš©í•¨ íŠ¸ë¦¬ ê¹Šì´ëŠ” ë¦¬í”„ ìˆ˜ Nì— ëŒ€í•´ âŒˆlogâ‚‚ NâŒ‰ ì— ë¹„ë¡€í•˜ë¯€ë¡œ ëŒ€ëŸ‰ì˜ ê±°ë˜ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ìš”ì•½í•  ìˆ˜ ìˆìŒ ë™ì‘ ì›ë¦¬ì™€ ì¥ì  ì¸ì ‘ ë…¸ë“œ í•´ì‹œ H_left || H_right ë¥¼ ìˆœì„œëŒ€ë¡œ ì—°ê²°í•´ í•´ì‹œë¥¼ ê³„ì‚°í•˜ê³  ì´ë¥¼ ìœ„ë¡œ ì˜¬ë ¤ê°€ë©° ë£¨íŠ¸ í•´ì‹œë¥¼ ì–»ìŒ ë¬´ê²°ì„± ê²€ì¦ ë‹¨ì¼ ê±°ë˜ê°€ ë°”ë€Œë©´ í•´ë‹¹ ë¦¬í”„ì—ì„œ ë£¨íŠ¸ê¹Œì§€ì˜ ëª¨ë“  ê²½ë¡œ í•´ì‹œê°€ ë°”ë€Œì–´ ë³€ì¡°ë¥¼ ì¦‰ì‹œ íƒì§€í•  ìˆ˜ ìˆìŒ íš¨ìœ¨ì  í¬í•¨ ì¦ëª… íŠ¹ì • ê±°ë˜ê°€ ë¸”ë¡ì— í¬í•¨ë˜ì—ˆìŒì„ ì¦ëª…í•˜ë ¤ë©´ ê·¸ ê±°ë˜ì™€ ê²½ë¡œìƒì˜ í˜•ì œ í•´ì‹œë“¤ë§Œ ìˆìœ¼ë©´ ë¨ í•„ìš”í•œ í•´ì‹œ ê°œìˆ˜ëŠ” O(log N) ìœ¼ë¡œ ì‘ì•„ ëŒ€ì—­í­ê³¼ ê²€ì¦ ë¹„ìš©ì´ ì‘ìŒ í™•ì¥ì„± ë³´ì¡° ë¦¬í”„ê°€ 1,000,000ê°œì—¬ë„ ì¦ëª…ì— í•„ìš”í•œ í˜•ì œ í•´ì‹œëŠ” ì•½ 20ê°œ ìˆ˜ì¤€ìœ¼ë¡œ 32ë°”ì´íŠ¸ í•´ì‹œ ê¸°ì¤€ ì•½ 640ë°”ì´íŠ¸ì— ë¶ˆê³¼í•¨ ë¸”ë¡ í—¤ë”ì™€ ê²½ëŸ‰ ë…¸ë“œ(SPV) ë¹„íŠ¸ì½”ì¸ ë¸”ë¡ í—¤ë”ëŠ” ì´ì „ ë¸”ë¡ í•´ì‹œ, ë¨¸í´ë£¨íŠ¸, ë‚œìŠ¤ ë“± í•©ì˜ ê´€ë ¨ ë©”íƒ€ë°ì´í„°ë¥¼ í¬í•¨í•¨ ê²½ëŸ‰ ë…¸ë“œ(SPV)ëŠ” ë¸”ë¡ ì „ì²´ê°€ ì•„ë‹ˆë¼ í—¤ë” ì²´ì¸ë§Œ ë°›ì•„ ì‹ ë¢°ì„±ì„ í™•ë³´í•˜ê³ , ê°œë³„ ê±°ë˜ì— ëŒ€í•´ì„œëŠ” í’€ë…¸ë“œë¡œë¶€í„° ë¨¸í´ ì¦ëª… ì„ ë°›ì•„ í¬í•¨ ì—¬ë¶€ë¥¼ ê²€ì¦í•¨ ì´ ë°©ì‹ì€ ëª¨ë°”ì¼Â·ì„ë² ë””ë“œ í™˜ê²½ì—ì„œë„ ì‹¤ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê¸°ë°˜ì´ ë¨ ì´ë”ë¦¬ì›€ì€ ì „í†µì ì¸ ì´ì§„ ë¨¸í´íŠ¸ë¦¬ ëŒ€ì‹  ë¨¸í´â€‘íŒ¨íŠ¸ë¦¬ìƒ¤ íŠ¸ë¼ì´(MPT) ë¥¼ ì‚¬ìš©í•´ ê±°ë˜Â·ì˜ìˆ˜ì¦Â·ìƒíƒœ ë£¨íŠ¸ë¥¼ í—¤ë”ì— ë‹´ì•„ ìœ ì‚¬í•œ ëª©ì ì„ ë‹¬ì„±í•¨ êµ¬í˜„ ì„¸ë¶€ì™€ ì²´ì¸ë³„ ì°¨ì´ ë¹„íŠ¸ì½”ì¸\në¦¬í”„ëŠ” ê±°ë˜ ì§ë ¬í™”ì˜ ë”ë¸” SHAâ€‘256 í•´ì‹œì´ë©° ë‚´ë¶€ ë…¸ë“œë„ ìì‹ ë‘ í•´ì‹œë¥¼ ë”ë¸” SHAâ€‘256 ìœ¼ë¡œ ê²°í•©í•¨ ë¦¬í”„ê°€ í™€ìˆ˜ë©´ ë§ˆì§€ë§‰ í•´ì‹œë¥¼ ë³µì œ í•´ ìƒìœ„ë¡œ ì˜¬ë¦¼ ê³¼ê±° ì¤‘ë³µ ê±°ë˜ë¡œ ë™ì¼ ë£¨íŠ¸ê°€ ë‚˜ì˜¬ ìˆ˜ ìˆëŠ” ë³€í˜•(mutated) ë¦¬ìŠ¤í¬ ê°€ ë³´ê³ ë˜ì–´ ì†Œí”„íŠ¸ì›¨ì–´ì—ì„œ ê°ì§€ í”Œë˜ê·¸ë¡œ ë°©ì§€í•¨ ì—”ë””ì–¸ ì²˜ë¦¬ì™€ ì§ë ¬í™” ê·œì•½ì„ ì—„ê²©íˆ ë§ì¶”ì§€ ì•Šìœ¼ë©´ ë£¨íŠ¸ê°€ ë‹¬ë¼ì§ ì´ë”ë¦¬ì›€\nê±°ë˜Â·ì˜ìˆ˜ì¦Â·ìƒíƒœëŠ” MPT ë¡œ ê´€ë¦¬ë˜ë©° ë…¸ë“œ í•´ì‹œëŠ” Keccakâ€‘256 ì„ êµ¬ì¡°ì™€ ì¦ëª… í¬ë§·ì´ ì´ì§„ ë¨¸í´íŠ¸ë¦¬ì™€ ë‹¤ë¥´ë¯€ë¡œ êµ¬í˜„ ì‹œ ì™„ì „íˆ ë³„ë„ì˜ ë¡œì§ì´ í•„ìš”í•¨ ë¨¸í´ ì¦ëª…ê³¼ ê²€ì¦ ì ˆì°¨ ì…ë ¥ ìš”ì†Œ\nëŒ€ìƒ ê±°ë˜ì˜ í•´ì‹œ ë˜ëŠ” ë¦¬í”„ ê°’ ë£¨íŠ¸ê¹Œì§€ ì˜¬ë¼ê°€ëŠ” ê²½ë¡œì˜ í˜•ì œ í•´ì‹œ ë¦¬ìŠ¤íŠ¸ ê° ë‹¨ê³„ì—ì„œ ì™¼ìª½Â·ì˜¤ë¥¸ìª½ ìœ„ì¹˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¸ë±ìŠ¤ ë˜ëŠ” ë°©í–¥ ì •ë³´ ê²€ì¦ ì ˆì°¨\në¦¬í”„ì—ì„œ ì‹œì‘í•´ ë‹¨ê³„ë³„ë¡œ í˜•ì œ í•´ì‹œì™€ ì •í™•í•œ ìˆœì„œ ë¡œ ê²°í•©í•˜ë©° ìƒìœ„ í•´ì‹œë¥¼ ê³„ì‚° ìµœì¢… ê³„ì‚°ê°’ì´ ë¸”ë¡ í—¤ë”ì˜ ë¨¸í´ë£¨íŠ¸ì™€ ì¼ì¹˜í•˜ë©´ í¬í•¨ì´ ì„±ë¦½ ì•„ë˜ëŠ” ê°œë… í™•ì¸ìš© íŒŒì´ì¬ ì˜ˆì‹œì´ë©° ë¹„íŠ¸ì½”ì¸ì˜ ë”ë¸” SHAâ€‘256 ê²°í•©ì„ ê°€ì •í•¨\nimport hashlib def sha256d(b): return hashlib.sha256(hashlib.sha256(b).digest()).digest() def verify_merkle_proof(leaf, proof, root, index, double_hash=True): h = sha256d(leaf) if double_hash else leaf for sibling in proof: if index \u0026amp; 1 == 0: # left child h = sha256d(h + sibling) else: # right child h = sha256d(sibling + h) index \u0026gt;\u0026gt;= 1 return h == root ì½”ë“œëŠ” êµìœ¡ ëª©ì ì˜ ë‹¨ìˆœí™”ëœ í˜•íƒœì´ë©° ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ êµ¬í˜„ì€ ì§ë ¬í™” ê·œì•½ê³¼ ì—”ë””ì–¸ ë³€í™˜, ì˜¤ë¥˜ ì²˜ë¦¬, ë©€í‹°í”„ë£¨í”„ ë“± ì¶”ê°€ ê³ ë ¤ê°€ í•„ìš”í•¨\nì‹¤ë¬´ì  ê³ ë ¤ì‚¬í•­ ì§ë ¬í™” ê·œì•½ ì¼ì¹˜ ì²´ì¸ë³„ ë°”ì´íŠ¸ ìˆœì„œì™€ ì§ë ¬í™” í¬ë§·ì„ ì •í™•íˆ ë§ì¶”ì§€ ì•Šìœ¼ë©´ ë£¨íŠ¸ê°€ ë‹¬ë¼ì§ í•´ì‹œ ê²°í•© ìˆœì„œ ê³ ì • ë°˜ë“œì‹œ ì™¼ìª½ ë¨¼ì €, ì˜¤ë¥¸ìª½ ë‹¤ìŒ ìˆœì„œë¥¼ ìœ ì§€í•´ì•¼ í•˜ë©° ë°˜ëŒ€ë¡œ ê²°í•©í•˜ë©´ ë‹¤ë¥¸ ë£¨íŠ¸ê°€ ë‚˜ì˜´ í™€ìˆ˜ ë¦¬í”„ ì²˜ë¦¬ ë°©ì‹ í™•ì¸ ë³µì œ ì—¬ë¶€ì™€ ì˜ˆì™¸ ì²˜ë¦¬ ê·œì¹™ì´ êµ¬í˜„ë§ˆë‹¤ ë‹¤ë¥¼ ìˆ˜ ìˆìœ¼ë‹ˆ ì‚¬ì „ í•©ì˜ í•„ìš” ë¨¸í´ ì¦ëª…ì˜ í•œê³„ í¬í•¨ ì—¬ë¶€ë§Œ ì¦ëª…í•˜ë©° ê±°ë˜ì˜ ìœ íš¨ì„± ìì²´ëŠ” ë³„ë„ ê²€ì¦ì´ í•„ìš”í•¨ ë¹„í¬í•¨ ì¦ëª…ì´ë‚˜ ë™ì  ì§‘í•© ê°±ì‹ ì—ëŠ” ìŠ¤íŒŒìŠ¤ ë¨¸í´íŠ¸ë¦¬ ë˜ëŠ” ë²¡í„° ì»¤ë°‹ë¨¼íŠ¸ ê°™ì€ ë‹¤ë¥¸ êµ¬ì¡°ê°€ ë” ì í•©í•¨ ë©€í‹°í”„ë£¨í”„ì™€ ë°°ì¹˜ ê²€ì¦ ì—¬ëŸ¬ ê±°ë˜ë¥¼ í•œêº¼ë²ˆì— ê²€ì¦í•  ë•Œ ê³µìœ  ê²½ë¡œë¥¼ ë¬¶ëŠ” ë©€í‹°í”„ë£¨í”„ ë¥¼ ì‚¬ìš©í•˜ë©´ ì „ì†¡ëŸ‰ê³¼ ê²€ì¦ ë¹„ìš©ì„ ì¤„ì¼ ìˆ˜ ìˆìŒ ë³´ì•ˆê³¼ ì‹ ë¢° ê²½ê³„ SPVëŠ” í¬í•¨ ì¦ëª…ê³¼ í—¤ë” ì²´ì¸ì„ ì‹ ë¢°í•˜ì§€ë§Œ ì „ì²´ ìƒíƒœ ì „ì´ì˜ ì™„ì „ ê²€ì¦ì€ í’€ë…¸ë“œê°€ ë‹´ë‹¹í•¨ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” í’€ë…¸ë“œ ë‹¤ë³€í™”ì™€ ë„¤íŠ¸ì›Œí¬ ì§€ì—° ëª¨ë‹ˆí„°ë§, í—¤ë” ìœ íš¨ì„± ê²€ì‚¬ ì •ì±…ì„ ë³‘í–‰í•´ì•¼ í•¨ ì‹¤ì „ ì ìš© ì‹œë‚˜ë¦¬ì˜¤ ëª¨ë°”ì¼ ì§€ê°‘ í—¤ë” ë™ê¸°í™”ì™€ ë¨¸í´ ì¦ëª…ìœ¼ë¡œ ê²½ëŸ‰ ì†¡ê¸ˆ í™•ì¸ì„ ì œê³µí•´ UXì™€ ë°ì´í„° ìš”ê±´ì„ ë™ì‹œì— ì¶©ì¡±í•¨ ì¸ë±ì‹± ì„œë¹„ìŠ¤ íŠ¹ì • ì£¼ì†Œë‚˜ í† í° ì´ë²¤íŠ¸ë¥¼ ìƒ‰ì¸í•  ë•Œ ë¨¸í´ ì¦ëª…ìœ¼ë¡œ ì •í™•í•œ í¬í•¨ ì„ ì²¨ë¶€í•´ ë¬´ê²°ì„±ì„ ë³´ì¥í•¨ ë¸Œë¦¬ì§€Â·í¬ë¡œìŠ¤ì²´ì¸ ë©”ì‹œì§€ ì›ì²´ì¸ì˜ í¬í•¨ ì¦ëª…ì„ íƒ€ ì²´ì¸ì—ì„œ ê²€ì¦í•´ ë©”íƒ€ë°ì´í„° ì‹ ë¢°ë¥¼ ë†’ì„ ê°ì‚¬Â·í¬ë Œì‹ ì˜¤í”„ì²´ì¸ ë°ì´í„° ìŠ¤ëƒ…ìƒ·ì— ë¨¸í´ ë£¨íŠ¸ë¥¼ ë¶€ì—¬í•´ ë³€ì¡° ë¶ˆê°€ ë¡œê·¸ ë¡œ ê´€ë¦¬í•˜ê³  ë¶„ìŸ ì‹œ ì¦ëª…ìœ¼ë¡œ í™œìš©í•¨ ì •ë¦¬ ë¨¸í´íŠ¸ë¦¬ëŠ” íŠ¸ë¦¬ ê¸°ë°˜ í•´ì‹± ìœ¼ë¡œ ëŒ€ëŸ‰ì˜ ê±°ë˜ë¥¼ ê³ ì • í¬ê¸° í•´ì‹œ í•˜ë‚˜ë¡œ ìš”ì•½í•˜ê³  O(log N) í¬ê¸°ì˜ ì¦ëª…ë§Œìœ¼ë¡œ í¬í•¨ì„ ê²€ì¦í•˜ê²Œ í•´ì£¼ëŠ” êµ¬ì¡°ì„ ë¹„íŠ¸ì½”ì¸ì²˜ëŸ¼ ë‹¨ìˆœ ì´ì§„ ë¨¸í´íŠ¸ë¦¬ì™€ ì´ë”ë¦¬ì›€ì˜ MPTëŠ” êµ¬í˜„ê³¼ ì¦ëª… í¬ë§·ì´ ë‹¤ë¥´ë¯€ë¡œ ëª©ì ì— ë§ëŠ” êµ¬ì¡°ë¥¼ ì„ íƒí•´ì•¼ í•¨ í˜„ì—…ì—ì„œëŠ” ì§ë ¬í™” ê·œì•½ê³¼ ê²°í•© ìˆœì„œ, í™€ìˆ˜ ë¦¬í”„ ì²˜ë¦¬, ì¦ëª… í¬ë§· í•©ì˜, SPVì˜ ì‹ ë¢° ê²½ê³„ë¥¼ ëª…í™•íˆ í•˜ê³  ë©€í‹°í”„ë£¨í”„Â·ìŠ¤íŒŒìŠ¤ êµ¬ì¡° ë“± í™•ì¥ ê¸°ë²•ì„ ìƒí™©ì— ë§ê²Œ ì±„íƒí•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•¨\nì°¸ê³ ìë£Œ Bitcoin Developer Guide Merkle Trees https://developer.bitcoin.org/devguide/merkle_trees Bitcoin Wiki Merkle tree https://en.bitcoin.it/wiki/Merkle_tree Ethereum Docs Merkle Patricia Trie https://ethereum.org/en/developers/docs/data-structures-and-encoding/patricia-merkle-trie Wikipedia Merkle tree https://en.wikipedia.org/wiki/Merkle_tree ","permalink":"https://blog.jsontapose.com/posts/merkle-tree-blockchain-role-274b74/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eë¨¸í´íŠ¸ë¦¬ëŠ” ë¸”ë¡ì²´ì¸ì—ì„œ ê±°ë˜ ì§‘í•©ì„ \u003cstrong\u003eì•ˆì „í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ìš”ì•½Â·ê²€ì¦\u003c/strong\u003eí•˜ê¸° ìœ„í•´ ì“°ì´ëŠ” í•µì‹¬ ìë£Œêµ¬ì¡°ì„\në¸”ë¡ í—¤ë”ì— ë¨¸í´ë£¨íŠ¸ê°€ í¬í•¨ë˜ëŠ” ì´ìœ ëŠ” ë¸”ë¡ ì•ˆì˜ ëª¨ë“  ê±°ë˜ë¥¼ \u003cstrong\u003eê³ ì • í¬ê¸° í•´ì‹œ í•˜ë‚˜\u003c/strong\u003eë¡œ ëŒ€í‘œí•´ ë¬´ê²°ì„± í™•ì¸ê³¼ ê²½ëŸ‰ ê²€ì¦ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ê¸° ë•Œë¬¸ì„\nì´ ê¸€ì€ ë¨¸í´íŠ¸ë¦¬ì˜ êµ¬ì¡°ì™€ ë™ì‘ ì›ë¦¬, ë¸”ë¡ì²´ì¸ì—ì„œì˜ ì‹¤ë¬´ì  ì˜ë¯¸ì™€ êµ¬í˜„ ì£¼ì˜ì‚¬í•­ê¹Œì§€ ì´ˆë³´ìë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ìƒì„¸íˆ ì„¤ëª…í•¨\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"í•µì‹¬-ê°œë…ê³¼-êµ¬ì¡°\"\u003eí•µì‹¬ ê°œë…ê³¼ êµ¬ì¡°\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eë¨¸í´íŠ¸ë¦¬ëŠ” ë³´í†µ \u003cstrong\u003eì´ì§„ íŠ¸ë¦¬\u003c/strong\u003e í˜•íƒœë¡œ êµ¬í˜„í•¨\u003c/li\u003e\n\u003cli\u003eê±°ë˜ë“¤ì„ \u003cstrong\u003eë¦¬í”„(leaf)\u003c/strong\u003e ë¡œ ë‘ê³  ì¸ì ‘ ë‘ ë¦¬í”„ì˜ í•´ì‹œë¥¼ ì´ì–´ ë¶™ì—¬ ë¶€ëª¨ í•´ì‹œë¥¼ ë§Œë“¤ë©° ì´ ê³¼ì •ì„ ë°˜ë³µí•´ \u003cstrong\u003eë£¨íŠ¸ í•´ì‹œ\u003c/strong\u003eë¥¼ ì–»ìŒ\u003c/li\u003e\n\u003cli\u003eí•´ì‹œ í•¨ìˆ˜ëŠ” ì²´ì¸ë³„ë¡œ ë‹¤ë¥´ë©° ë¹„íŠ¸ì½”ì¸ì€ \u003cstrong\u003eë”ë¸” SHAâ€‘256\u003c/strong\u003e, ì´ë”ë¦¬ì›€ì€ íŠ¸ë¼ì´ êµ¬ì¡°ì—ì„œ \u003cstrong\u003eKeccakâ€‘256\u003c/strong\u003e ì„ ì‚¬ìš©í•¨\u003c/li\u003e\n\u003cli\u003eìµœìƒë‹¨ í•´ì‹œë¥¼ \u003cstrong\u003eë¨¸í´ë£¨íŠ¸(Merkle root)\u003c/strong\u003e ë¼ ë¶€ë¥´ë©° í¬ê¸°ëŠ” í•´ì‹œ í•¨ìˆ˜ì— ë”°ë¼ ê³ ì •ë¨\u003c/li\u003e\n\u003cli\u003eë¦¬í”„ ìˆ˜ê°€ í™€ìˆ˜ì¼ ë•ŒëŠ” ë§ˆì§€ë§‰ ë¦¬í”„ë¥¼ \u003cstrong\u003eë³µì œí•´ ì§ì„ ë§ì¶”ëŠ” ë°©ì‹\u003c/strong\u003eì´ ì¼ë°˜ì ì´ë©° ë¹„íŠ¸ì½”ì¸ì€ ì´ ê·œì¹™ì„ ì‚¬ìš©í•¨\u003c/li\u003e\n\u003cli\u003eíŠ¸ë¦¬ ê¹Šì´ëŠ” ë¦¬í”„ ìˆ˜ Nì— ëŒ€í•´ \u003cstrong\u003eâŒˆlogâ‚‚ NâŒ‰\u003c/strong\u003e ì— ë¹„ë¡€í•˜ë¯€ë¡œ ëŒ€ëŸ‰ì˜ ê±°ë˜ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ìš”ì•½í•  ìˆ˜ ìˆìŒ\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3 id=\"ë™ì‘-ì›ë¦¬ì™€-ì¥ì \"\u003eë™ì‘ ì›ë¦¬ì™€ ì¥ì \u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eì¸ì ‘ ë…¸ë“œ í•´ì‹œ \u003cstrong\u003eH_left || H_right\u003c/strong\u003e ë¥¼ ìˆœì„œëŒ€ë¡œ ì—°ê²°í•´ í•´ì‹œë¥¼ ê³„ì‚°í•˜ê³  ì´ë¥¼ ìœ„ë¡œ ì˜¬ë ¤ê°€ë©° ë£¨íŠ¸ í•´ì‹œë¥¼ ì–»ìŒ\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eë¬´ê²°ì„± ê²€ì¦\u003c/strong\u003e\në‹¨ì¼ ê±°ë˜ê°€ ë°”ë€Œë©´ í•´ë‹¹ ë¦¬í”„ì—ì„œ ë£¨íŠ¸ê¹Œì§€ì˜ ëª¨ë“  ê²½ë¡œ í•´ì‹œê°€ ë°”ë€Œì–´ ë³€ì¡°ë¥¼ ì¦‰ì‹œ íƒì§€í•  ìˆ˜ ìˆìŒ\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eíš¨ìœ¨ì  í¬í•¨ ì¦ëª…\u003c/strong\u003e\níŠ¹ì • ê±°ë˜ê°€ ë¸”ë¡ì— í¬í•¨ë˜ì—ˆìŒì„ ì¦ëª…í•˜ë ¤ë©´ ê·¸ ê±°ë˜ì™€ ê²½ë¡œìƒì˜ \u003cstrong\u003eí˜•ì œ í•´ì‹œë“¤ë§Œ\u003c/strong\u003e ìˆìœ¼ë©´ ë¨\ní•„ìš”í•œ í•´ì‹œ ê°œìˆ˜ëŠ” \u003cstrong\u003eO(log N)\u003c/strong\u003e ìœ¼ë¡œ ì‘ì•„ ëŒ€ì—­í­ê³¼ ê²€ì¦ ë¹„ìš©ì´ ì‘ìŒ\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003eí™•ì¥ì„± ë³´ì¡°\u003c/strong\u003e\në¦¬í”„ê°€ 1,000,000ê°œì—¬ë„ ì¦ëª…ì— í•„ìš”í•œ í˜•ì œ í•´ì‹œëŠ” ì•½ 20ê°œ ìˆ˜ì¤€ìœ¼ë¡œ 32ë°”ì´íŠ¸ í•´ì‹œ ê¸°ì¤€ ì•½ 640ë°”ì´íŠ¸ì— ë¶ˆê³¼í•¨\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3 id=\"ë¸”ë¡-í—¤ë”ì™€-ê²½ëŸ‰-ë…¸ë“œspv\"\u003eë¸”ë¡ í—¤ë”ì™€ ê²½ëŸ‰ ë…¸ë“œ(SPV)\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eë¹„íŠ¸ì½”ì¸ ë¸”ë¡ í—¤ë”ëŠ” ì´ì „ ë¸”ë¡ í•´ì‹œ, ë¨¸í´ë£¨íŠ¸, ë‚œìŠ¤ ë“± í•©ì˜ ê´€ë ¨ ë©”íƒ€ë°ì´í„°ë¥¼ í¬í•¨í•¨\u003c/li\u003e\n\u003cli\u003eê²½ëŸ‰ ë…¸ë“œ(SPV)ëŠ” \u003cstrong\u003eë¸”ë¡ ì „ì²´ê°€ ì•„ë‹ˆë¼ í—¤ë” ì²´ì¸ë§Œ\u003c/strong\u003e ë°›ì•„ ì‹ ë¢°ì„±ì„ í™•ë³´í•˜ê³ , ê°œë³„ ê±°ë˜ì— ëŒ€í•´ì„œëŠ” í’€ë…¸ë“œë¡œë¶€í„° \u003cstrong\u003eë¨¸í´ ì¦ëª…\u003c/strong\u003e ì„ ë°›ì•„ í¬í•¨ ì—¬ë¶€ë¥¼ ê²€ì¦í•¨\u003c/li\u003e\n\u003cli\u003eì´ ë°©ì‹ì€ ëª¨ë°”ì¼Â·ì„ë² ë””ë“œ í™˜ê²½ì—ì„œë„ ì‹¤ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ê¸°ë°˜ì´ ë¨\u003c/li\u003e\n\u003cli\u003eì´ë”ë¦¬ì›€ì€ ì „í†µì ì¸ ì´ì§„ ë¨¸í´íŠ¸ë¦¬ ëŒ€ì‹  \u003cstrong\u003eë¨¸í´â€‘íŒ¨íŠ¸ë¦¬ìƒ¤ íŠ¸ë¼ì´(MPT)\u003c/strong\u003e ë¥¼ ì‚¬ìš©í•´ ê±°ë˜Â·ì˜ìˆ˜ì¦Â·ìƒíƒœ ë£¨íŠ¸ë¥¼ í—¤ë”ì— ë‹´ì•„ ìœ ì‚¬í•œ ëª©ì ì„ ë‹¬ì„±í•¨\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3 id=\"êµ¬í˜„-ì„¸ë¶€ì™€-ì²´ì¸ë³„-ì°¨ì´\"\u003eêµ¬í˜„ ì„¸ë¶€ì™€ ì²´ì¸ë³„ ì°¨ì´\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eë¹„íŠ¸ì½”ì¸\u003c/strong\u003e\u003c/p\u003e","title":"ë¨¸í´íŠ¸ë¦¬(Merkle Tree)ë€? ë¨¸í´íŠ¸ë¦¬ì˜ ê°œë…ê³¼ ë¸”ë¡ì²´ì¸ì—ì„œì˜ ì—­í• "},{"content":"ê°œìš” ì´ ë¬¸ì„œëŠ” ì´ë”ë¦¬ì›€ì˜ PoS í•©ì˜ êµ¬ì¡°ì™€ êµ¬ì„± ìš”ì†Œë¥¼ ì •ë¦¬í•¨ ê°œë… ì •ì˜ì— ê·¸ì¹˜ì§€ ì•Šê³  ìš´ì˜ ì‹œ ì£¼ì˜ì , ë³´ìƒÂ·ì¶œê¸ˆ íë¦„, ì§§ì€ ì²´ì¸ ì¬êµ¬ì„±(Reorg) ì›ì¸ê³¼ ì™„í™”ì±…ê¹Œì§€ ë‹¤ë£¸\nê°œë…ê³¼ ë°°ê²½ PoSëŠ” PoWì˜ ì—ë„ˆì§€ ê²½ìŸì„ ëŒ€ì²´í•´ ì˜ˆì¹˜ëœ ì§€ë¶„ì„ ë°”íƒ•ìœ¼ë¡œ ê²€ì¦ìë¥¼ ì„ ì •í•˜ëŠ” í•©ì˜ ë©”ì»¤ë‹ˆì¦˜ì„ ì´ë”ë¦¬ì›€ì€ 2022ë…„ 9ì›” ë” ë¨¸ì§€ ì´í›„ PoSë¡œ ì „í™˜í–ˆê³  ì „ë ¥ ì†Œë¹„ë¥¼ í¬ê²Œ ì¤„ì´ë©° ê²€ì¦ì ê¸°ë°˜ ë³´ì•ˆ ëª¨ë¸ë¡œ ì´í–‰í•¨\nì£¼ìš” ì†ì„± ìš”ì•½\nì—ë„ˆì§€ ì†Œë¹„ ëŒ€í­ ì¶•ì†Œ ìŠ¤í…Œì´í‚¹í•œ ETH ê·œëª¨ì— ë¹„ë¡€í•´ ì—­í•  ì°¸ì—¬ ê¸°íšŒê°€ ë¶€ì—¬ë¨ ìœ„ë°˜ ì‹œ ìŠ¬ë˜ì‹±ê³¼ í˜ë„í‹°ë¡œ ì˜ˆì¹˜ê¸ˆì´ ê°ì†Œí•¨ ê³„ì¸µ ë¶„ë¦¬ì™€ Beacon Chainì˜ ì—­í•  ì´ë”ë¦¬ì›€ì€ í•©ì˜ ê³„ì¸µ(Beacon Chain) ê³¼ ì‹¤í–‰ ê³„ì¸µ(Execution Layer) ë¥¼ ë¶„ë¦¬í•´ ì„¤ê³„í•¨\nì‹¤í–‰ ê³„ì¸µì€ íŠ¸ëœì­ì…˜ ì²˜ë¦¬ì™€ EVM ì‹¤í–‰ì„ ë‹´ë‹¹í•¨ Beacon Chainì€ ì‹œê°„ ê´€ë¦¬ì™€ ì—­í•  ë°°ì •, íˆ¬í‘œ ì§‘ê³„, ìµœì¢…ì„± íŒë‹¨ì„ ë‹´ë‹¹í•¨ Beacon Chainì˜ í•µì‹¬ ê¸°ëŠ¥\nìŠ¬ë¡¯ê³¼ ì—í¬í¬ë¼ëŠ” í†µì¼ëœ ì‹œê°„ í”„ë ˆì„ ì œê³µ ë§¤ ìŠ¬ë¡¯ì˜ ë¸”ë¡ ì œì•ˆìì™€ ì¦ëª…ì ë°°ì • ì¦ëª…ì íˆ¬í‘œë¥¼ ì§‘ê³„í•´ ì •ë‹¹í•œ ì²´ì¸ê³¼ ìµœì¢…ì„±ì„ ê²°ì •í•¨ ì´ ë¶„ë¦¬ëŠ” í´ë¼ì´ì–¸íŠ¸ ë‹¤ì–‘ì„± í™•ë³´ì™€ í™•ì¥ ë¡œë“œë§µì— ìœ ë¦¬í•œ ì•„í‚¤í…ì²˜ ì„ íƒì„\nì‹œê°„ êµ¬ì¡°ì™€ ë™ì‘ ë‹¨ìœ„ ìŠ¬ë¡¯(slot)\në¸”ë¡ ì œì•ˆì´ ê°€ëŠ¥í•œ ìµœì†Œ ì‹œê°„ ë‹¨ìœ„ 1 ìŠ¬ë¡¯ = 12ì´ˆ ìŠ¬ë¡¯ë§ˆë‹¤ 1ëª…ì˜ ì œì•ˆìë§Œ ì§€ì •ë¨ ì œì•ˆìê°€ ì œë•Œ ë¸”ë¡ì„ ì œì•ˆí•˜ì§€ ëª»í•˜ë©´ ìŠ¬ë¡¯ ë¯¸ìŠ¤ë¡œ ê°„ì£¼í•˜ê³  ë¹ˆ ìŠ¬ë¡¯ì´ ë  ìˆ˜ ìˆìŒ ì—í¬í¬(epoch)\n1 ì—í¬í¬ = 32 ìŠ¬ë¡¯ â‰ˆ 6ë¶„ 24ì´ˆ ì—í¬í¬ ë‹¨ìœ„ë¡œ ìœ„ì›íšŒ ì¬í¸ì„±, ëœë¤ ì‹œë“œ ê°±ì‹ , ìµœì¢…ì„± ê´€ë ¨ ì§‘ê³„ê°€ ì´ë¤„ì§ ì—í¬í¬ëŠ” ì²´í¬í¬ì¸íŠ¸ ì—­í• ì„ í•˜ë©° ìµœì¢…ì„± ë¡œì§ì˜ ê¸°ì¤€ ë‹¨ìœ„ë¡œ ì‚¬ìš©ë¨ ê²€ì¦ìì™€ ìŠ¤í…Œì´í‚¹ ê·œì¹™ ìµœì†Œ 32 ETHë¥¼ ì˜ˆì¹˜í•´ì•¼ ì •ì‹ ê²€ì¦ìê°€ ë¨ í•œ ê²€ì¦ì ê³„ì •ì— ë°˜ì˜ë˜ëŠ” ìœ íš¨ ì˜ˆì¹˜ ìƒí•œì€ 32 ETHì„ ë” ë§ì€ ETHë¥¼ ìš´ìš©í•˜ë ¤ë©´ 32 ETH ë‹¨ìœ„ë¡œ ì—¬ëŸ¬ ê²€ì¦ìë¥¼ ìš´ì˜í•´ì•¼ í•¨ ê²€ì¦ì í™œì„±Â·ë¹„í™œì„± ì „í™˜ì—ëŠ” ëŒ€ê¸° íì™€ ì§€ì—°ì´ ì¡´ì¬í•¨ ë³´ìƒ ê¸°íšŒëŠ” ì „ì²´ ê²€ì¦ì ëŒ€ë¹„ ë³´ìœ  ê²€ì¦ì ìˆ˜ì— ë¹„ë¡€í•´ ì¦ê°€í•¨ ì˜ˆë¥¼ ë“¤ì–´ 64 ETHë¡œ ë‘ ê²€ì¦ìë¥¼ ìš´ì˜í•˜ë©´ ì œì•ˆÂ·íˆ¬í‘œ ì°¸ì—¬ ê¸°íšŒê°€ ëŒ€ëµ ë‘ ë°°ê°€ ë¨\nì œì•ˆì(Proposer)ì™€ ì¦ëª…ì(Attester) ë§¤ ìŠ¬ë¡¯ í•œ ëª…ì˜ ì œì•ˆìê°€ ë¸”ë¡ì„ ì œì•ˆí•¨ ë‹¤ìˆ˜ì˜ ì¦ëª…ìê°€ í•´ë‹¹ ë¸”ë¡ì— ëŒ€í•´ attestation ì„ ì œì¶œí•¨ ê²€ì¦ìë“¤ì€ ì—¬ëŸ¬ ìœ„ì›íšŒ(committee) ë¡œ ë¬´ì‘ìœ„ ë°°ì •ë˜ì–´ ë³‘ë ¬ë¡œ ê²€ì¦ì„ ìˆ˜í–‰í•¨ ì§‘ê³„ëœ íˆ¬í‘œëŠ” í¬í¬ ì„ íƒê³¼ ìµœì¢…ì„± íŒë‹¨ì— ì‚¬ìš©ë¨ ìœ„ì›íšŒ êµ¬ì¡°ì˜ ëª©ì ì€ ê²€ì¦ ë¶€ë‹´ ë¶„ì‚° ê³¼ ë…ë¦½ ë‹¤ì¤‘ ê´€ì¸¡ ì„ í†µí•´ ì•ˆì „ì„±ê³¼ ì²˜ë¦¬ëŸ‰ì„ ë™ì‹œì— í™•ë³´í•˜ëŠ” ê²ƒì„\në¬´ì‘ìœ„ì„±ê³¼ ê²€ì¦ì ë°°ì • ì´ë”ë¦¬ì›€ì€ RANDAO ë¯¹ìŠ¤ ë¥¼ ì‚¬ìš©í•´ ì˜ˆì¸¡ì´ ì–´ë µê³  ì¡°ì‘ì— ê°•í•œ ë‚œìˆ˜ë¥¼ ìƒì„±í•¨ ì—­ì‚¬ì ìœ¼ë¡œ VRFë‚˜ VDF ê°™ì€ ëŒ€ì•ˆì´ ê±°ë¡ ë˜ì—ˆìœ¼ë‚˜ í˜„ì¬ ë©”ì¸ë„·ì€ RANDAO ê¸°ë°˜ì„ ì‚¬ìš©í•¨ ìƒì„±ëœ ë‚œìˆ˜ëŠ” ì°¨ê¸° ì—í¬í¬ì˜ ì œì•ˆìÂ·ìœ„ì›íšŒ ë°°ì •ì— í™œìš©ë¨ íŠ¹ì • ì£¼ì²´ê°€ ì§€ì† ìš°ì„  ì„ ì •ë˜ëŠ” í¸í–¥ì„ ì¤„ì´ëŠ” ê²ƒì´ ëª©í‘œì„ í¬í¬ ì„ íƒê³¼ ìµœì¢…ì„± ê°œìš” í¬í¬ ì„ íƒì€ LMDâ€‘GHOST ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©° ìµœì‹  ë©”ì‹œì§€ë¥¼ ë°˜ì˜í•´ ê°€ì¥ ë¬´ê±°ìš´ ì„œë¸ŒíŠ¸ë¦¬ë¥¼ ì„ íƒí•¨ ì§§ì€ ì§€ì—°ìœ¼ë¡œ ë” ë‚˜ì€ ë¸”ë¡ì„ ì„ íƒí•˜ë„ë¡ proposer boost ê°€ ë„ì…ë˜ì–´ reorg ìœ„í—˜ì„ ì¤„ì„ ìµœì¢…ì„±ì€ Casper FFG ë¥¼ í†µí•´ ì—í¬í¬ ìˆ˜ì¤€ ì²´í¬í¬ì¸íŠ¸ë¥¼ ì •ë‹¹í™”Â·ìµœì¢…í™”í•¨ ì¼ì • ì´ìƒ ê²€ì¦ì ì°¸ì—¬ê°€ í™•ë³´ë˜ë©´ ì²´í¬í¬ì¸íŠ¸ê°€ finalized ìƒíƒœê°€ ë˜ì–´ ê²½ì œì ìœ¼ë¡œ ë˜ëŒë¦¬ê¸° ë§¤ìš° ì–´ë ¤ì›Œì§ ë³´ìƒê³¼ ë²Œì¹™ì˜ êµ¬ì¡° ë³´ìƒ í•­ëª©\në¸”ë¡ ì œì•ˆ ë³´ìƒ ì œì•ˆìê°€ ìœ íš¨ ë¸”ë¡ì„ í¬í•¨í•  ë•Œ ìˆ˜ì·¨ ì¦ëª… ë³´ìƒ attestationì„ ì •í™•í•˜ê³  ì‹ ì†í•˜ê²Œ ì œì¶œí•œ ê²€ì¦ìì—ê²Œ ì§€ê¸‰ ë™ê¸°í™” ìœ„ì›íšŒ ë³´ìƒ ë¼ì´íŠ¸ í´ë¼ì´ì–¸íŠ¸ ì§€ì›ì„ ìœ„í•œ ì„œëª… ì°¸ì—¬ ê²€ì¦ìì—ê²Œ ì§€ê¸‰ ë²Œì¹™ê³¼ ìŠ¬ë˜ì‹±\nì˜¤í”„ë¼ì¸ì´ë‚˜ ì§€ì—° ì œì¶œ ë“±ì—ëŠ” ê²½ë¯¸í•œ í˜ë„í‹° ê°€ ë¶€ê³¼ë¨ ì²´ì¸ì´ ì¥ê¸°ê°„ ë¯¸íŒŒì´ë„ë¦¬í‹° ìƒíƒœì— ë¹ ì§€ë©´ inactivity leak ì´ ë°œìƒí•´ í˜ë„í‹°ê°€ ì ì§„ì ìœ¼ë¡œ ì»¤ì§ ìŠ¬ë˜ì‹± ì€ ì´ì¤‘ ì œì•ˆ í˜¹ì€ ì´ì¤‘Â·ê°ì‹¸ê¸° íˆ¬í‘œ ê°™ì€ ì•ˆì „ì„± ìœ„ë°˜ì— ì ìš©ë˜ë©° ê¸ˆì•¡ê³¼ ë„¤íŠ¸ì›Œí¬ ìƒí™©ì— ë”°ë¼ ì†ì‹¤ì´ ì»¤ì§ˆ ìˆ˜ ìˆìŒ ë™ì¼ í‚¤ë¥¼ ì—¬ëŸ¬ ë…¸ë“œì—ì„œ ê°€ë™í•˜ë©´ ìŠ¬ë˜ì‹± ìœ„í—˜ì´ ê¸‰ì¦í•˜ë¯€ë¡œ ê¸ˆì§€í•´ì•¼ í•¨ ë³´ìƒ ê·œëª¨ì™€ í˜ë„í‹°ëŠ” ì „ì²´ í™œì„± ì˜ˆì¹˜ ê·œëª¨ì™€ ì°¸ì—¬ìœ¨ ë“± ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ë”°ë¼ ë™ì ìœ¼ë¡œ ë³€í•¨\nì¶œê¸ˆê³¼ ì¸ì¶œ íë¦„ 2023ë…„ ìƒë°˜ê¸° ì—…ê·¸ë ˆì´ë“œ ì´í›„ ì¶œê¸ˆ ê¸°ëŠ¥ ì´ í™œì„±í™”ë¨ ë¶€ë¶„ ì¶œê¸ˆ ì€ 32 ETH ì´ˆê³¼ë¶„ì´ ìë™ìœ¼ë¡œ ì‹¤í–‰ ê³„ì¸µì˜ ì¶œê¸ˆ ì£¼ì†Œë¡œ ì „ë‹¬ë¨ ì™„ì „ ì¶œê¸ˆ ì€ ê²€ì¦ìê°€ ì •ìƒ ì¢…ë£Œë¥¼ í†µí•´ í™œì„± ì§‘í•©ì—ì„œ ë¹ ì§„ ë’¤ ì „ ì”ì•¡ì„ ì¸ì¶œí•˜ëŠ” íë¦„ì„ ì¶œê¸ˆ ì²˜ë¦¬ëŠ” ë¸”ë¡ë‹¹ í¬í•¨ ê°€ëŠ¥í•œ ìˆ˜ê°€ ì œí•œë˜ì–´ ìˆì–´ ëŒ€ê¸° ì§€ì—°ì´ ë°œìƒí•  ìˆ˜ ìˆìŒ ì¶œê¸ˆ ì£¼ì†Œ ìœ í˜•ê³¼ ìê²© ì „í™˜ì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ ìë™ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•¨ ìš´ì˜ í¬ì¸íŠ¸\nì¶œê¸ˆ ëŒ€ê¸° ì‹œê°„ê³¼ í ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•´ ìœ ë™ì„±ì„ ê´€ë¦¬í•¨ ì¶œê¸ˆ ì£¼ì†Œ ê´€ë¦¬ ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ë³€ê²½ ì ˆì°¨ë¥¼ ë¬¸ì„œí™”í•˜ê³  ê²€ì¦ ì ˆì°¨ë¥¼ ë‘  Reorgê°€ ë°œìƒí•˜ëŠ” ì´ìœ ì™€ ì™„í™”ì±… ReorgëŠ” PoSì—ì„œë„ ì§§ì€ ê¸¸ì´ ë¡œ ë°œìƒí•  ìˆ˜ ìˆìŒ ì£¼ìš” ì›ì¸\në¸”ë¡Â·attestation ì „íŒŒ ì§€ì—°ìœ¼ë¡œ ë…¸ë“œ ê°„ ê´€ì¸¡ ì°¨ì´ê°€ ë°œìƒí•¨ ìŠ¬ë¡¯ ë¯¸ìŠ¤ ì´í›„ í›„ì† ì œì•ˆìê°€ ë‹¤ë¥¸ ì„ í–‰ ìƒíƒœë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¸”ë¡ì„ ë§Œë“¤ ìˆ˜ ìˆìŒ ë…¸ë“œ ì‹œê°„ ë™ê¸°í™” ë¶ˆëŸ‰ì´ë‚˜ ë¦¬ì†ŒìŠ¤ ë³‘ëª©ìœ¼ë¡œ ì²˜ë¦¬ ì§€ì—°ì´ ë°œìƒí•¨ ì™„í™”ì±…\nì‹œê°„ ë™ê¸°í™”ëŠ” chrony ë“±ìœ¼ë¡œ ì •í™•íˆ ìœ ì§€í•¨ ê³ í’ˆì§ˆ í”¼ì–´ í™•ë³´ì™€ ì¶©ë¶„í•œ í”¼ì–´ ìˆ˜ë¥¼ ìœ ì§€í•˜ê³  ë„¤íŠ¸ì›Œí¬ ì§€ì—°ì„ ìµœì†Œí™”í•¨ ìµœì‹  í´ë¼ì´ì–¸íŠ¸ì™€ ë‹¤ì–‘í•œ í´ë¼ì´ì–¸íŠ¸ ì¡°í•©ìœ¼ë¡œ í´ë¼ì´ì–¸íŠ¸ ë‹¤ì–‘ì„± ì„ ë³´ì¥í•¨ proposer boostì™€ attest í¬í•¨ ì§€ì—° ì§€í‘œë¥¼ ëª¨ë‹ˆí„°ë§í•´ íŒŒë¼ë¯¸í„°ì™€ ì¸í”„ë¼ë¥¼ íŠœë‹í•¨ ëŒ€ë¶€ë¶„ì˜ reorgëŠ” 1~2 ë¸”ë¡ì—ì„œ ìˆ˜ë ´í•˜ë©° ìµœì¢…ì„± ê·œì¹™ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì•ˆì •í™”ë¨\nìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë…¸ë“œì™€ ì¸í”„ë¼\nìµœì‹  í•©ì˜Â·ì‹¤í–‰ í´ë¼ì´ì–¸íŠ¸ ìœ ì§€ í”¼ì–´ ìˆ˜Â·ì§€ì—°Â·ëŒ€ì—­í­Â·ë””ìŠ¤í¬ IOPS ëª¨ë‹ˆí„°ë§ ì¥ì• ë¥¼ ë¶„ë¦¬í•˜ê¸° ìœ„í•´ ì‹¤í–‰Â·í•©ì˜ í´ë¼ì´ì–¸íŠ¸ì˜ ì¡°í•©ì„ ë‹¤ì–‘í™”í•¨ í‚¤ ê´€ë¦¬\nìŠ¬ë˜ì‹± ë°©ì§€ íŒŒì¼ê³¼ ì›ê²© ì„œëª…ê¸° ì‚¬ìš© ì‹œ ì¤‘ë³µ ì„œëª… ë°©ì§€ ì„¤ì • í™•ì¸ ë‹¨ì¼ ì‹¤íŒ¨ ì§€ì  ì œê±°ë¥¼ ìœ„í•´ í•«Â·ë°±ì—… êµ¬ì„±ê³¼ ìë™ í˜ì¼ì˜¤ë²„ë¥¼ ëª…í™•íˆ êµ¬ë¶„í•¨ í‚¤ ë°±ì—…ê³¼ ë³µêµ¬ ì ˆì°¨ë¥¼ ì˜¤í”„ë¼ì¸ìœ¼ë¡œ ì£¼ê¸° ì ê²€í•¨ ìš´ì˜ ì •ì±…\n32 ETH ë‹¨ìœ„ë¡œ ê²€ì¦ìë¥¼ ìˆ˜í‰ í™•ì¥í•´ ì¥ì•  ê²©ë¦¬ì™€ ë³´ìƒ ë³€ë™ì„±ì„ ì¤„ì„ ëª¨ë‹ˆí„°ë§ ì§€í‘œë¥¼ í‘œì¤€í™”í•¨ ì°¸ì—¬ìœ¨, attestation í¬í•¨ ê±°ë¦¬, ë¯¸ìŠ¤ ìŠ¬ë¡¯, reorg ë°œìƒë¥ , ë™ê¸°í™” ìœ„ì›íšŒ ê°€ë™ë¥ , ì¶œê¸ˆ í ê¸¸ì´ ë“± MEVâ€‘Boost ì‚¬ìš© ì‹œ ë¦´ë ˆì´ ë‹¤ì–‘í™”ì™€ ë¡œì»¬ ë¹Œë” í´ë°±ì„ ì¤€ë¹„í•´ ê°€ìš©ì„±ê³¼ ê²€ì—´ ë¦¬ìŠ¤í¬ë¥¼ ë‚®ì¶¤ ìœ„í—˜ê³¼ ì¤‘ì•™í™” ê³ ë ¤ ê±°ëŒ€ ìŠ¤í…Œì´í‚¹ í’€ê³¼ ì»¤ìŠ¤í„°ë”” ì§‘ì¤‘ì€ ê²€ì—´Â·ë‹¨ì¼ ì‹¤íŒ¨ ì§€ì  ìœ„í—˜ì„ í‚¤ì›€ í´ë¼ì´ì–¸íŠ¸ ë‹¤ì–‘ì„± ë¶€ì¡±ì€ ë²„ê·¸ ë°œìƒ ì‹œ ë„¤íŠ¸ì›Œí¬ ì•ˆì •ì„±ì„ í•´ì¹  ìˆ˜ ìˆìŒ ë¦¬í€´ë“œ ìŠ¤í…Œì´í‚¹ íŒŒìƒìƒí’ˆì€ ìœ ë™ì„±ì„ ì œê³µí•˜ì§€ë§Œ ì˜ì‚¬ê²°ì • ì§‘ì¤‘ê³¼ ë”œë ˆë§ˆë¥¼ ìœ ë°œí•  ìˆ˜ ìˆìŒ ì •ì±…ê³¼ ê±°ë²„ë„ŒìŠ¤, ë¦´ë ˆì´Â·ë¹Œë” ë‹¤ì–‘í™”, ì»¤ë®¤ë‹ˆí‹° ëª¨ë‹ˆí„°ë§ìœ¼ë¡œ ë¦¬ìŠ¤í¬ë¥¼ ë¶„ì‚°í•´ì•¼ í•¨ ë§ˆë¬´ë¦¬ ì´ë”ë¦¬ì›€ PoSëŠ” RANDAO ê¸°ë°˜ ë¬´ì‘ìœ„ì„±, LMDâ€‘GHOST í¬í¬ ì„ íƒ, Casper FFG ìµœì¢…ì„±, ê²€ì¦ì ë³´ìƒÂ·ë²Œì¹™ ì²´ê³„ ë¥¼ ê²°í•©í•´ ì—ë„ˆì§€ íš¨ìœ¨ê³¼ ë³´ì•ˆì„ ë™ì‹œì— ë‹¬ì„±í•˜ë ¤ëŠ” ì„¤ê³„ì„ ìš´ì˜ìëŠ” ì‹œê°„ ë™ê¸°í™”ì™€ í”¼ì–´ í’ˆì§ˆ, í‚¤ ê´€ë¦¬, í´ë¼ì´ì–¸íŠ¸ ë‹¤ì–‘ì„±, ë³´ìƒÂ·ì¶œê¸ˆ íŒŒì´í”„ë¼ì¸ì„ ì§€ì†ì ìœ¼ë¡œ ì ê²€í•´ì•¼ í•¨ ì§§ì€ reorgëŠ” ë„¤íŠ¸ì›Œí¬ í˜„ì‹¤ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë‚˜ ì ì ˆí•œ ì¸í”„ë¼ì™€ íŒŒë¼ë¯¸í„° íŠœë‹, ìµœì‹  í´ë¼ì´ì–¸íŠ¸ ìš´ìš©ìœ¼ë¡œ ë¹ˆë„ì™€ ì˜í–¥ì„ ìµœì†Œí™”í•  ìˆ˜ ìˆìŒ\nì°¸ê³ ìë£Œ ì´ë”ë¦¬ì›€ PoS ê°œìš” https://ethereum.org/en/developers/docs/consensus-mechanisms/pos í•©ì˜ ì‚¬ì–‘ê³¼ ê°€ìŠ¤í¼ ê°œìš” https://github.com/ethereum/consensus-specs EIPâ€‘4895 ì¶œê¸ˆê³¼ Capella ì—…ê·¸ë ˆì´ë“œ ì°¸ê³  https://eips.ethereum.org/EIPS/eip-4895 í•©ì˜ ê³„ì¸µ í´ë¼ì´ì–¸íŠ¸ì™€ ì‹¤í–‰ ê³„ì¸µ í´ë¼ì´ì–¸íŠ¸ ëª©ë¡ https://ethereum.org/en/developers/docs/nodes-and-clients MEVâ€‘Boost ìš´ì˜ ê°€ì´ë“œ ì°¸ê³  https://www.flashbots.net ","permalink":"https://blog.jsontapose.com/posts/ethereum-pos-proof-of-stake-274b74/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eì´ ë¬¸ì„œëŠ” ì´ë”ë¦¬ì›€ì˜ PoS í•©ì˜ êµ¬ì¡°ì™€ êµ¬ì„± ìš”ì†Œë¥¼ ì •ë¦¬í•¨\nê°œë… ì •ì˜ì— ê·¸ì¹˜ì§€ ì•Šê³  \u003cstrong\u003eìš´ì˜ ì‹œ ì£¼ì˜ì \u003c/strong\u003e, \u003cstrong\u003eë³´ìƒÂ·ì¶œê¸ˆ íë¦„\u003c/strong\u003e, \u003cstrong\u003eì§§ì€ ì²´ì¸ ì¬êµ¬ì„±(Reorg) ì›ì¸ê³¼ ì™„í™”ì±…\u003c/strong\u003eê¹Œì§€ ë‹¤ë£¸\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"ê°œë…ê³¼-ë°°ê²½\"\u003eê°œë…ê³¼ ë°°ê²½\u003c/h3\u003e\n\u003cp\u003ePoSëŠ” PoWì˜ ì—ë„ˆì§€ ê²½ìŸì„ ëŒ€ì²´í•´ \u003cstrong\u003eì˜ˆì¹˜ëœ ì§€ë¶„ì„ ë°”íƒ•ìœ¼ë¡œ ê²€ì¦ìë¥¼ ì„ ì •\u003c/strong\u003eí•˜ëŠ” í•©ì˜ ë©”ì»¤ë‹ˆì¦˜ì„\nì´ë”ë¦¬ì›€ì€ 2022ë…„ 9ì›” ë” ë¨¸ì§€ ì´í›„ PoSë¡œ ì „í™˜í–ˆê³  ì „ë ¥ ì†Œë¹„ë¥¼ í¬ê²Œ ì¤„ì´ë©° \u003cstrong\u003eê²€ì¦ì ê¸°ë°˜ ë³´ì•ˆ ëª¨ë¸\u003c/strong\u003eë¡œ ì´í–‰í•¨\u003c/p\u003e\n\u003cp\u003eì£¼ìš” ì†ì„± ìš”ì•½\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eì—ë„ˆì§€ ì†Œë¹„ ëŒ€í­ ì¶•ì†Œ\u003c/li\u003e\n\u003cli\u003eìŠ¤í…Œì´í‚¹í•œ ETH ê·œëª¨ì— ë¹„ë¡€í•´ ì—­í•  ì°¸ì—¬ ê¸°íšŒê°€ ë¶€ì—¬ë¨\u003c/li\u003e\n\u003cli\u003eìœ„ë°˜ ì‹œ ìŠ¬ë˜ì‹±ê³¼ í˜ë„í‹°ë¡œ ì˜ˆì¹˜ê¸ˆì´ ê°ì†Œí•¨\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3 id=\"ê³„ì¸µ-ë¶„ë¦¬ì™€-beacon-chainì˜-ì—­í• \"\u003eê³„ì¸µ ë¶„ë¦¬ì™€ Beacon Chainì˜ ì—­í• \u003c/h3\u003e\n\u003cp\u003eì´ë”ë¦¬ì›€ì€ \u003cstrong\u003eí•©ì˜ ê³„ì¸µ(Beacon Chain)\u003c/strong\u003e ê³¼ \u003cstrong\u003eì‹¤í–‰ ê³„ì¸µ(Execution Layer)\u003c/strong\u003e ë¥¼ ë¶„ë¦¬í•´ ì„¤ê³„í•¨\u003c/p\u003e","title":"ì´ë”ë¦¬ì›€ PoS(Proof of Stake) ì†Œê°œ"},{"content":"ê°œìš” NFT ì»¤ë®¤ë‹ˆí‹° ì´ˆì…ì—ì„œ ë§ˆì£¼ì¹˜ëŠ” ìš©ì–´ ì¥ë²½ì„ ë‚®ì¶”ê¸° ìœ„í•´ ë¦¬ë¹Œ, ì—ì–´ë“œë¡­, í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸, ë§ˆì¼“í”Œë ˆì´ìŠ¤ë¥¼ ì‹¤ë¬´ ê´€ì ìœ¼ë¡œ ì •ë¦¬í•¨ í•µì‹¬ì€ ê°œë… ì´í•´ë¥¼ ë„˜ì–´ ìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸, ë³´ì•ˆ ë¦¬ìŠ¤í¬, ê°€ê²© í˜•ì„± ë©”ì»¤ë‹ˆì¦˜ê¹Œì§€ íŒŒì•…í•´ í”„ë¡œì íŠ¸ ì°¸ì—¬ì™€ ê±°ë˜ íŒë‹¨ì— ë°”ë¡œ ì“°ë„ë¡ í•˜ëŠ” ê²ƒì„\nê³µí†µ ì „ì œì™€ ê¸°ë³¸ ê°œë… NFT í‘œì¤€ ì£¼ë¡œ ERCâ€‘721ê³¼ ERCâ€‘1155ë¥¼ ì‚¬ìš©í•¨ 721ì€ 1í† í° 1ì†Œìœ  í˜•íƒœì— ì í•©, 1155ëŠ” ëŒ€ëŸ‰ ë°œí–‰Â·ì„¸ë¯¸í€ì§€ë¸”ì— ìœ ë¦¬í•¨\në©”íƒ€ë°ì´í„°ì™€ ì €ì¥ì†Œ í† í° URIê°€ ê°€ë¦¬í‚¤ëŠ” ë©”íƒ€ë°ì´í„°ëŠ” IPFSë‚˜ Arweave ë“± ì˜ì† ìŠ¤í† ë¦¬ì§€ ì‚¬ìš© ê¶Œì¥ ì¤‘ì•™í™” ì„œë²„ë§Œ ì“°ë©´ ë¦¬ë¹Œ ì´í›„ ì„ì˜ ë³€ê²½ ë¦¬ìŠ¤í¬ê°€ ì»¤ì§\në¡œì—´í‹° EIPâ€‘2981 í‘œì¤€ì´ ì¡´ì¬í•˜ë‚˜ ì§‘í–‰ì€ ë§ˆì¼“ë³„ ì •ì±…ì— ì˜ì¡´í•˜ëŠ” ê²½í–¥ì´ ìˆìŒ ì°½ì‘ì ìˆ˜ìµ ë¶„ë°° êµ¬ì¡°ë¥¼ ë¯¸ë¦¬ í™•ì¸ í•„ìš”\në¦¬ë¹Œ Reveal ì •ì˜ ë¯¼íŒ… ì§í›„ì—ëŠ” ê³µí†µ í”Œë ˆì´ìŠ¤í™€ë” ì´ë¯¸ì§€ë¥¼ ë…¸ì¶œí•˜ê³ , ì´í›„ ì‹œì ì— ê° í† í°ì˜ ìµœì¢… ì†ì„±Â·ì´ë¯¸ì§€ë¥¼ ê³µê°œí•˜ëŠ” ì ˆì°¨ë¥¼ ë§í•¨\nì™œ ì“°ëŠ”ê°€\níŒë§¤ ì´ˆê¸°ì˜ ê¸°ëŒ€ê° í˜•ì„±ê³¼ ê³µì •í•œ í¬ì†Œì„± ë°°ë¶„ ìœ ë„ ì´ˆë°˜ ìŠ¤ë‹ˆí•‘ì„ ì¤„ì´ê³  ì»¤ë®¤ë‹ˆí‹° ì´ë²¤íŠ¸ì™€ ì—°ë™í•˜ê¸° ìœ„í•¨ ê°€ê²© í˜•ì„±ìƒ íŠ¹ì§•\në¦¬ë¹Œ ì „ì—ëŠ” ì™¸í˜•ê³¼ ì†ì„±ì´ ê°™ì•„ ë³´ì—¬ ê°€ê²© ìˆ˜ë ´ì´ ë°œìƒí•˜ê¸° ì‰¬ì›€ ë¦¬ë¹Œ í›„ì—ëŠ” ì†ì„± ì¡°í•©Â·í¬ì†Œì„±ì— ë”°ë¼ ì¬í‰ê°€ê°€ ë¹ ë¥´ê²Œ ì§„í–‰ë¨ í¬ê·€ ì†ì„±ì€ í”„ë¦¬ë¯¸ì—„ì´ ë¶™ê³  í‰ë²” ì†ì„±ì€ í•˜ë°© ì••ë ¥ì´ ì»¤ì§€ëŠ” íŒ¨í„´ì´ ì¼ë°˜ì ì„ ê³µì •ì„±Â·ì‹ ë¢° ì¥ì¹˜\ní”„ë¡œë¹„ë„ŒìŠ¤ í•´ì‹œ ê³µê°œë¡œ ë¯¼íŒ… ì „ ì „ì²´ ìˆœì„œë¥¼ ì»¤ë°‹í•´ ì¹˜í™˜Â·ì¡°ì‘ ê°€ëŠ¥ì„±ì„ ë‚®ì¶¤ ë©”íƒ€ë°ì´í„° ë™ê²°ê³¼ BaseURI ê³ ì •ìœ¼ë¡œ ë¦¬ë¹Œ í›„ ì„ì˜ ìˆ˜ì • ë¦¬ìŠ¤í¬ ì¶•ì†Œ ì˜¨ì²´ì¸ ë˜ëŠ” ì˜ì† ìŠ¤í† ë¦¬ì§€ì— ìµœì¢… ìë£Œ ê³ ì • ìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸\në¦¬ë¹Œ ì‹œì , ë°©ì‹(ì¼ê´„Â·êµ¬ê°„Â·ëœë¤ ì‹œí”„íŠ¸), í”„ë¡œë¹„ë„ŒìŠ¤ ê³µê°œ ì—¬ë¶€ í™•ì¸ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œì™€ ë™ê²° ê³„íš ì ê²€ ë¦¬ë¹Œ ì§í›„ ê°€ê²© ë³€ë™ì„± ëŒ€ë¹„ ìœ ë™ì„± ì „ëµ ìˆ˜ë¦½ ì—ì–´ë“œë¡­ Airdrop ì •ì˜ NFT ë˜ëŠ” í† í°ì„ ë¬´ìƒ ë°°í¬í•´ ì´ˆê¸° ìœ ì…ê³¼ ì°¸ì—¬ ë³´ìƒì„ ìœ ë„í•˜ëŠ” ë°©ì‹\nìœ í˜•\ní‘¸ì‹œí˜• í”„ë¡œì íŠ¸ê°€ ì§ì ‘ ì „ì†¡ í´ë ˆì„í˜• ìŠ¤ëƒ…ìƒ· ê¸°ì¤€ ìê²©ìì—ê²Œ ê¸°ê°„ ë‚´ ì²­êµ¬ ê¶Œí•œ ë¶€ì—¬ ì¡°ê±´í˜• ì†Œì…œ ì°¸ì—¬, ë³´ìœ  í† í°, ì˜¨ì²´ì¸ í–‰ìœ„ ë“± ì¡°ê±´ì„ ì¶©ì¡±í•´ì•¼ í•¨ ë¹„ìš©ê³¼ ìœ ë™ì„±\nê°€ìŠ¤ ë¶€ë‹´ ì£¼ì²´ê°€ ëˆ„êµ¬ì¸ì§€ í™•ì¸ í•„ìš” ìˆ˜ë ¹ ìì‚°ì˜ 2ì°¨ ìœ ë™ì„± ê°€ëŠ¥ì„±ê³¼ ì ê¸ˆ ì¡°ê±´ ì—¬ë¶€ í™•ì¸ ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸\nê°œì¸í‚¤Â·ì‹œë“œ ë¬¸êµ¬ ìš”ì²­ì€ 100% ì‚¬ê¸° setApprovalForAll ë¬´ì œí•œ ìŠ¹ì¸ ìš”êµ¬, ì„ì˜ Permit ì„œëª… ìš”êµ¬, ë‚¯ì„  ë„ë©”ì¸ì˜ ì„œëª… íŒì—…ì— ì£¼ì˜ ì˜ì‹¬ ì—ì–´ë“œë¡­ì€ ë”ìŠ¤íŒ… ê³µê²© ê°€ëŠ¥ì„± ê³ ë ¤, ìƒí˜¸ì‘ìš© ìì²´ë¥¼ í”¼í•˜ëŠ” ê²ƒì´ ì•ˆì „í•œ ê²½ìš° ë§ìŒ í˜„ì‹¤ì  ê¸°ëŒ€ì¹˜\nê·¹ì†Œìˆ˜ ì„±ê³µ ì‚¬ë¡€ë¥¼ ì œì™¸í•˜ë©´ ë¬´ë£Œ ë°°í¬ë¬¼ì˜ í‰ê·  ê°€ì¹˜ëŠ” ì‹œê°„ ê²½ê³¼ì— ë”°ë¼ í•˜ë½í•˜ëŠ” ê²½í–¥ ë¡œë“œë§µ, íŒ€ ì‹ ë¢°ë„, íŒŒíŠ¸ë„ˆì‹­, í† í° ì„¤ê³„ê¹Œì§€ ì¢…í•© í‰ê°€ í•„ìš” í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ Allowlist ì •ì˜ íŠ¹ì • ì§€ê°‘ì—ê²Œ ë¯¼íŒ… ìš°ì„ ê¶Œì„ ë¶€ì—¬í•˜ëŠ” ëª…ë‹¨ì„ ì˜ë¯¸í•˜ë©° ì¤„ì—¬ì„œ í™”ë¦¬ë¼ ë¶€ë¦„ í¬ìš©ì  í‘œí˜„ìœ¼ë¡œ Allowlist ìš©ì–´ë¥¼ ì“°ëŠ” í”„ë¡œì íŠ¸ê°€ ë§ìŒ\në¶€ì—¬ ë°©ì‹\nì»¤ë®¤ë‹ˆí‹° ê¸°ì—¬, ë¯¸ì…˜, ì¶”ì²œ, ë³´ìœ  í† í° ê¸°ë°˜ í† í° ê²Œì´íŒ… ì˜¨ì²´ì¸ ë¨¸í´ ì¦ëª…ìœ¼ë¡œ ëª…ë‹¨ì„ ê²€ì¦í•´ ê°€ìŠ¤Â·ë°ì´í„° ë¹„ìš©ì„ ì ˆê° íƒ€ì…\në³´ì¥í˜• ë°°ì •ëŸ‰ì´ í™•ì •ë˜ì–´ ë¯¼íŒ… ì‹œì ì— êµ¬ë§¤ ê°€ëŠ¥ ê²½ìŸí˜• FCFSë‚˜ ì‹œê°„ ì°½ì„ ë‘ì–´ ë„¤íŠ¸ì›Œí¬ ìƒíƒœÂ·ì†ë„ì— ë”°ë¼ ì„±ê³µ ì—¬ë¶€ê°€ ê°ˆë¦¼ ë˜í”Œí˜• ì¶”ì²¨ìœ¼ë¡œ ê³µì • ë°°ë¶„ ì‹œë„ ì‹¤ë¬´ ì²´í¬ë¦¬ìŠ¤íŠ¸\n1ì¸ë‹¹ êµ¬ë§¤ í•œë„, ë¯¼íŒ…ê°€, ì‹œê°„ ì°½, ì²´ì¸Â·ë„¤íŠ¸ì›Œí¬ í™•ì¸ ê°€ìŠ¤ ì›Œ ë°©ì§€ ì¥ì¹˜ ìœ ë¬´ í™•ì¸(ì¿¨ë‹¤ìš´, ëœë¤ ì‹œí”„íŠ¸, ìº¡) ì–´ë·°ì§•Â·ë´‡ í†µì œ ì •ì±… í™•ì¸, ìœ„ë°˜ ì‹œ ë°•íƒˆ ê·œì • ìˆ™ì§€ ì£¼ì˜\nAllowlistë¥¼ ê³¼ë‹¤ ë‚¨ë°œí•˜ëŠ” í”„ë¡œì íŠ¸ëŠ” ë¯¼íŒ… ì¢…ë£Œ í›„ ê°€ê²© í•˜ë½ ë¦¬ìŠ¤í¬ê°€ í¬ë¯€ë¡œ ìœ í†µ ì„¤ê³„ì™€ ìˆ˜ìš” ê²€ì¦ í•„ìš” NFT ë§ˆì¼“í”Œë ˆì´ìŠ¤ ì—­í•  NFTì˜ ê°€ì‹œí™”, ë§¤ë§¤, ì˜¤ë”ë¶ì„ ì œê³µí•˜ëŠ” í”Œë«í¼ì„ ì˜ë¯¸í•¨ ê¸€ë¡œë²Œë¡œ OpenSea, Blur, Rarible ë“±ì´ ëŒ€í‘œì ì´ë©° êµ­ë‚´ì—ëŠ” Klip Drops, ì—…ë¹„íŠ¸ NFT ë“±ì´ ì¡´ì¬í•¨\nê±°ë˜ ë°©ì‹\nê³ ì •ê°€ ë¦¬ìŠ¤íŒ… íŒë§¤ìê°€ ì›í•˜ëŠ” ê°€ê²© ì œì‹œ ê²½ë§¤í˜• ì˜êµ­ì‹ ìƒìŠ¹ ê²½ë§¤, ë”ì¹˜ ê²½ë§¤ ë“± ë³€í˜• í¬í•¨ ì˜¤í¼ íŠ¹ì • í† í° í˜¹ì€ ì „ì²´ ì»¬ë ‰ì…˜ì— ëŒ€í•œ êµ¬ë§¤ ì œì•ˆ ì ‘ìˆ˜ ì§‘ê³„ê¸°ê°€ ì—¬ëŸ¬ ê±°ë˜ì†Œì˜ ìœ ë™ì„±ì„ ë¬¶ì–´ ë” ë‚˜ì€ ê°€ê²©Â·ì²´ê²° ì†ë„ë¥¼ ì œê³µí•˜ê¸°ë„ í•¨ í•µì‹¬ ì§€í‘œì™€ í•´ì„ ìš”ë ¹\në°”ë‹¥ê°€ Floor ì»¬ë ‰ì…˜ ë‚´ ìµœì € ë§¤ë¬¼ê°€ì´ë‚˜ ê±°ë˜ëœ ê°€ê²©ì´ ì•„ë‹˜ ì–•ì€ í˜¸ê°€ì— ì˜í•´ ì™œê³¡ ê°€ëŠ¥í•˜ë¯€ë¡œ ì²´ê²° ì´ë ¥, í˜¸ê°€ ë‘ê»˜, ë¶„í¬ë¥¼ í•¨ê»˜ ë³´ì•„ì•¼ í•¨ ì²´ê²°ëŸ‰Â·ë³´ìœ  ë¶„í¬ ë‹¨ê¸° ë§¤ë¬¼ ì¶œíšŒ ì••ë ¥ê³¼ ê³ ë˜ ì§‘ì¤‘ë„ íŒŒì•…ì— ìœ ìš©í•¨ ì›Œì‹œ íŠ¸ë ˆì´ë”© ìê¸°ê³„ì•½ ê°„ ê±°ë˜ë¡œ ë³¼ë¥¨ ë¶€í’€ë¦¬ê¸°ê°€ ë°œìƒí•  ìˆ˜ ìˆì–´ íƒì§€ ì§€í‘œ ì°¸ê³  í•„ìš” ìˆ˜ìˆ˜ë£Œì™€ ë¡œì—´í‹°\në§ˆì¼“ ìˆ˜ìˆ˜ë£Œì™€ ì°½ì‘ì ë¡œì—´í‹° ì •ì±…ì´ ê±°ë˜ì†Œë§ˆë‹¤ ë‹¤ë¦„ EIPâ€‘2981ì€ ë¡œì—´í‹° í‘œì¤€ì„ ì •ì˜í•˜ì§€ë§Œ ì§‘í–‰ì€ ì„ íƒì ì¸ ê²½ìš°ê°€ ë§ì•„ ì‹¤ì œ ì§€ê¸‰ ì—¬ë¶€ë¥¼ í™•ì¸í•´ì•¼ í•¨ ë³´ì•ˆê³¼ ê¶Œí•œ ê´€ë¦¬\níŒë§¤ ì „ ë¶€ì—¬í•œ ë¬´ì œí•œ ìŠ¹ì¸ì€ ê±°ë˜ í›„ revoke íˆ´ë¡œ íšŒìˆ˜ ê¶Œì¥ í”¼ì‹± ë„ë©”ì¸ê³¼ ì„œëª… ìœ„ì„ ìš”ì²­ì— ëŒ€í•œ êµìœ¡ì´ í•„ìˆ˜ í”Œë«í¼ ì„ íƒ ê¸°ì¤€\nìœ ë™ì„± ê·œëª¨, ìˆ˜ìˆ˜ë£Œ êµ¬ì¡°, ì§€ì› ì²´ì¸, ì»¤ë®¤ë‹ˆí‹° í™œì„±ë„, ì§‘ê³„ê¸° ì—°ë™ ì—¬ë¶€, ë¡œì—´í‹° ì •ì±… ì¼ê´€ì„± í™•ì¸ ë¹ ë¥¸ íŒë‹¨ ê°€ì´ë“œ ë¦¬ë¹Œ ì¼ì •ê³¼ í”„ë¡œë¹„ë„ŒìŠ¤ ê³µê°œ, ë©”íƒ€ë°ì´í„° ë™ê²° ê³„íšì„ ë¨¼ì € í™•ì¸ ì—ì–´ë“œë¡­ ì€ ê°œì¸í‚¤Â·ì‹œë“œÂ·ë¬´ì œí•œ ìŠ¹ì¸ ìš”êµ¬ ì‹œ ì¦‰ì‹œ ì¤‘ë‹¨ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ëŠ” í•œë„Â·ê°€ê²©Â·ì‹œê°„ ì°½ê³¼ ê²€ì¦ ë°©ì‹(ë¨¸í´) í™•ì¸ ë§ˆì¼“í”Œë ˆì´ìŠ¤ ëŠ” ë°”ë‹¥ê°€ë§Œ ë³´ì§€ ë§ê³  ì²´ê²° ì´ë ¥Â·í˜¸ê°€ ë‘ê»˜Â·ìˆ˜ìˆ˜ë£ŒÂ·ë¡œì—´í‹° ì •ì±…ê¹Œì§€ í•¨ê»˜ íŒë‹¨ ì˜ˆì‹œ ì‹œë‚˜ë¦¬ì˜¤ ê°œì¸ ì‚¬ìš©ì ë¯¼íŒ… ì§í›„ ë¦¬ë¹Œ ì „ ê±°ë˜ëŠ” ë³€ë™ì„± ëŒ€ë¹„ íš¨ìµì´ ë‚®ì„ ìˆ˜ ìˆì–´ ë¦¬ë¹Œ ì¼ì • í™•ì¸ í›„ ì ‘ê·¼ ìˆ˜ë ¹í•œ ì—ì–´ë“œë¡­ì€ ìŠ¹ì¸ ìš”ì²­ì´ ì—†ëŠ”ì§€ ë¨¼ì € ì ê²€í•˜ê³  í•„ìš” ì‹œ ìƒí˜¸ì‘ìš©ì„ í”¼í•¨ í”„ë¡œì íŠ¸ ìš´ì˜ì ë¨¸í´ ê¸°ë°˜ Allowlistì™€ í”„ë¡œë¹„ë„ŒìŠ¤ ì»¤ë°‹ìœ¼ë¡œ ì‹ ë¢° í™•ë³´ ë©”íƒ€ë°ì´í„° ë™ê²°ê³¼ ì˜ì† ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ìœ¼ë¡œ ë³€ê²½ ë¦¬ìŠ¤í¬ ìµœì†Œí™” ì›Œì‹œ íŠ¸ë ˆì´ë”© ë°©ì§€ ë©”ì‹œì§€ì™€ ë¦¬ìŠ¤íŒ… êµìœ¡ ìë£Œë¥¼ í•¨ê»˜ ì œê³µ ë§ˆë¬´ë¦¬ ë¦¬ë¹Œì€ ê°€ì¹˜ ì¬í‰ê°€ì˜ ê³„ê¸° ì—ì–´ë“œë¡­ì€ ì´ˆê¸° ë¶„ë°°ì™€ ì°¸ì—¬ ë³´ìƒ ìˆ˜ë‹¨ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ëŠ” ìˆ˜ìš” ì¡°ì ˆê³¼ ê³µì • ë°°ë¶„ ì¥ì¹˜ ë§ˆì¼“í”Œë ˆì´ìŠ¤ëŠ” ê°€ê²© ë°œê²¬ê³¼ ìœ ë™ì„±ì˜ ì¥ ê° ì œë„ì˜ ì˜ë„Â·ì„¤ê³„Â·ë¦¬ìŠ¤í¬ë¥¼ ì´í•´í•˜ê³  ë³´ì•ˆ ìˆ˜ì¹™ì„ ì§€í‚¤ë©´ ì˜ì‚¬ê²°ì •ì˜ í’ˆì§ˆì„ ë†’ì¼ ìˆ˜ ìˆìŒ\nì°¸ê³ ìë£Œ ERCâ€‘721 í‘œì¤€ https://eips.ethereum.org/EIPS/eip-721 ERCâ€‘1155 í‘œì¤€ https://eips.ethereum.org/EIPS/eip-1155 ERCâ€‘2981 NFT ë¡œì—´í‹° í‘œì¤€ https://eips.ethereum.org/EIPS/eip-2981 OpenZeppelin Merkle ì¦ëª… ìœ í‹¸ë¦¬í‹° https://docs.openzeppelin.com/contracts/4.x/utilities#cryptography Ethereum ê°œë°œì ë¬¸ì„œ NFT ê°œìš” https://ethereum.org/en/developers/docs/standards/tokens/ ì¶”ê°€ ì½ì„ê±°ë¦¬ https://magazine.cheil.com/51780 ","permalink":"https://blog.jsontapose.com/posts/nft-23q12akw/","summary":"\u003ch3 id=\"ê°œìš”\"\u003eê°œìš”\u003c/h3\u003e\n\u003cp\u003eNFT ì»¤ë®¤ë‹ˆí‹° ì´ˆì…ì—ì„œ ë§ˆì£¼ì¹˜ëŠ” ìš©ì–´ ì¥ë²½ì„ ë‚®ì¶”ê¸° ìœ„í•´ \u003cstrong\u003eë¦¬ë¹Œ\u003c/strong\u003e, \u003cstrong\u003eì—ì–´ë“œë¡­\u003c/strong\u003e, \u003cstrong\u003eí™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸\u003c/strong\u003e, \u003cstrong\u003eë§ˆì¼“í”Œë ˆì´ìŠ¤\u003c/strong\u003eë¥¼ ì‹¤ë¬´ ê´€ì ìœ¼ë¡œ ì •ë¦¬í•¨\ní•µì‹¬ì€ ê°œë… ì´í•´ë¥¼ ë„˜ì–´ \u003cstrong\u003eìš´ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸\u003c/strong\u003e, \u003cstrong\u003eë³´ì•ˆ ë¦¬ìŠ¤í¬\u003c/strong\u003e, \u003cstrong\u003eê°€ê²© í˜•ì„± ë©”ì»¤ë‹ˆì¦˜\u003c/strong\u003eê¹Œì§€ íŒŒì•…í•´ í”„ë¡œì íŠ¸ ì°¸ì—¬ì™€ ê±°ë˜ íŒë‹¨ì— ë°”ë¡œ ì“°ë„ë¡ í•˜ëŠ” ê²ƒì„\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"ê³µí†µ-ì „ì œì™€-ê¸°ë³¸-ê°œë…\"\u003eê³µí†µ ì „ì œì™€ ê¸°ë³¸ ê°œë…\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eNFT í‘œì¤€\u003c/strong\u003e\nì£¼ë¡œ ERCâ€‘721ê³¼ ERCâ€‘1155ë¥¼ ì‚¬ìš©í•¨\n721ì€ 1í† í° 1ì†Œìœ  í˜•íƒœì— ì í•©, 1155ëŠ” ëŒ€ëŸ‰ ë°œí–‰Â·ì„¸ë¯¸í€ì§€ë¸”ì— ìœ ë¦¬í•¨\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cstrong\u003eë©”íƒ€ë°ì´í„°ì™€ ì €ì¥ì†Œ\u003c/strong\u003e\ní† í° URIê°€ ê°€ë¦¬í‚¤ëŠ” ë©”íƒ€ë°ì´í„°ëŠ” IPFSë‚˜ Arweave ë“± ì˜ì† ìŠ¤í† ë¦¬ì§€ ì‚¬ìš© ê¶Œì¥\nì¤‘ì•™í™” ì„œë²„ë§Œ ì“°ë©´ ë¦¬ë¹Œ ì´í›„ ì„ì˜ ë³€ê²½ ë¦¬ìŠ¤í¬ê°€ ì»¤ì§\u003c/p\u003e","title":"NFT í•µì‹¬ ìš©ì–´ ì •ë¦¬"},{"content":"ì„œë¬¸ NFTëŠ” ëª‡ ë…„ ìƒˆ ëŒ€ì¤‘ì˜ ê´€ì‹¬ì„ ë°›ì•˜ì§€ë§Œ ê°œë…ê³¼ ì ˆì°¨ê°€ ë¶„ì‚°ë¼ ìˆì–´ ì…ë¬¸ìê°€ ë§‰íˆê¸° ì‰¬ì›€ ì´ ê¸€ì€ ì‹¤ë¬´ì ê´€ì ì—ì„œ NFTì˜ í•µì‹¬ ê°œë…ì„ ë‹¨ê³„ì ìœ¼ë¡œ ì •ë¦¬í•˜ê³  êµ¬ë§¤Â·ë°œí–‰Â·ë³´ê´€ ì‹œ ìœ ì˜ì‚¬í•­ê³¼ ìš´ì˜ ê´€í–‰ì„ ë‹´ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•¨\nê°œë…ê³¼ ë°°ê²½ NFTëŠ” Nonâ€‘Fungible Tokenì˜ ì•½ìì´ë©° ëŒ€ì²´ ë¶ˆê°€ëŠ¥í•œ í† í°ì„ ì˜ë¯¸í•¨ ë™ì¼ ë‹¨ìœ„ë¼ë¦¬ êµí™˜ ê°€ëŠ¥í•œ ìì‚°ì€ í€ì €ë¸” í† í°ì´ë¼ ë¶€ë¥´ê³  NFTëŠ” ê° í† í°ì´ ê³ ìœ  ì‹ë³„ìì™€ ì†ì„±ì„ ê°€ì ¸ ìƒí˜¸ êµí™˜ ì‹œ ë™ì¼ ê°€ì¹˜ë¥¼ ë³´ì¥í•˜ì§€ ì•ŠìŒ ë¸”ë¡ì²´ì¸ì— ê¸°ë¡ëœ ì†Œìœ ê¶Œì€ ë³€ê²½ì´ ì–´ë µê³  ê±°ë˜ ì´ë ¥ì´ íˆ¬ëª…í•˜ê²Œ ë‚¨ëŠ”ë‹¤ëŠ” ì¥ì ì´ ìˆìŒ ì˜¨ì²´ì¸ ì†Œìœ ê¶Œì´ ì €ì‘ê¶ŒÂ·ì´ˆìƒê¶Œ ë“± ë²•ì  ê¶Œë¦¬ì™€ ìë™ ë™ì¹˜ê°€ ì•„ë‹˜ì— ìœ ì˜í•´ì•¼ í•¨\nNFTëŠ” ë³´í†µ ì„¸ ìš”ì†Œë¡œ ì´í•´í•˜ë©´ ì‹¤ë¬´ì— ìœ ë¦¬í•¨\në””ì§€í„¸ ë¯¸ë””ì–´ ì´ë¯¸ì§€Â·ì˜ìƒÂ·ìŒì›Â·ê²Œì„ ì•„ì´í…œ ë“± ì‚¬ìš©ìì—ê²Œ ë³´ì´ëŠ” ëŒ€ìƒ ë©”íƒ€ë°ì´í„° ì´ë¦„Â·ì„¤ëª…Â·ì†ì„±Â·ë¯¸ë””ì–´ ë§í¬ë¥¼ ë‹´ì€ JSON ë¬¸ì„œ ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ ë°œí–‰Â·ì´ì „ ê·œì¹™ì„ êµ¬í˜„í•œ ì½”ë“œë¡œ í‘œì¤€ì€ ì£¼ë¡œ ERCâ€‘721ê³¼ ERCâ€‘1155ë¥¼ ì‚¬ìš©í•¨ ëŒ€ë¶€ë¶„ì˜ í”„ë¡œì íŠ¸ëŠ” ë¯¸ë””ì–´ íŒŒì¼ì„ ì²´ì¸ ë°–ì— ë³´ê´€í•˜ê³  ë©”íƒ€ë°ì´í„°ì— ë§í¬ë¥¼ ë„£ëŠ” ì˜¤í”„ì²´ì¸ ì €ì¥ì„ íƒí•¨ ì¥ê¸° ë³´ì¡´ì„±ì„ ìœ„í•´ IPFSÂ·Arweave ê°™ì€ ì˜ì†í˜• ìŠ¤í† ë¦¬ì§€ ì‚¬ìš©ê³¼ ë©”íƒ€ë°ì´í„° ë™ê²° ê³„íšì´ ì¤‘ìš”í•¨\në©”ì¸ë„·ê³¼ ì¸í”„ë¼ ì´í•´ NFTëŠ” ì´ë”ë¦¬ì›€Â·í´ë¦¬ê³¤Â·ì†”ë¼ë‚˜Â·í´ë ˆì´íŠ¼ ë“± ë©”ì¸ë„· í˜¹ì€ L2 ìœ„ì—ì„œ ë°œí–‰Â·ê±°ë˜ë¨ ê±°ë˜ ì‹¤í–‰ì—ëŠ” ê°€ìŠ¤ë¹„ê°€ ë“¤ë©° ì´ë”ë¦¬ì›€ì€ EIPâ€‘1559 ê¸°ë°˜ì˜ ë² ì´ìŠ¤í”¼ì™€ ìš°ì„ ìˆœìœ„ íŒ êµ¬ì¡°ë¥¼ ê°€ì§ ë„¤íŠ¸ì›Œí¬ ìƒíƒœì™€ ìš°ì„ ìˆœìœ„ ì„¤ì •ì— ë”°ë¼ ì²´ê²° ì†ë„ì™€ ë¹„ìš©ì´ í¬ê²Œ ë‹¬ë¼ì§ ê±°ë˜ì™€ í† í° ìƒíƒœëŠ” ë¸”ë¡ íƒìƒ‰ê¸°ì—ì„œ í™•ì¸ ê°€ëŠ¥í•˜ë©° ì˜ˆì‹œëŠ” ì´ë”ìŠ¤ìº”ê³¼ í´ë ˆì´íŠ¼ ìŠ¤ì½”í”„ ë“±ì´ ìˆìŒ\nì²´ì¸ë³„ ê³„ì•½ ì£¼ì†ŒÂ·ì²´ì¸ IDê°€ ë‹¤ë¥´ë¯€ë¡œ í”¼ì‹± ì‚¬ì´íŠ¸ê°€ ì œì‹œí•˜ëŠ” ê³„ì•½ì„ íƒìƒ‰ê¸°ì—ì„œ êµì°¨ í™•ì¸í•˜ëŠ” ìŠµê´€ì´ í•„ìš”í•¨ ë¸Œë¦¬ì§•ê³¼ í¬ë¡œìŠ¤ì²´ì¸ ì „ì†¡ ì‹œì—ëŠ” ë½ ì•¤ ë¯¼íŠ¸ ëª¨ë¸Â·ë©”ì‹œì§€ ì§€ì—°Â·ë¸Œë¦¬ì§€ ë³´ì•ˆì„ ì´í•´í•˜ê³  í•œë„Â·ëŒ€ê¸° ì‹œê°„ì„ ê³ ë ¤í•´ì•¼ í•¨\nì§€ê°‘ê³¼ ë³´ì•ˆ ì§€ê°‘ì€ ì£¼ì†Œì™€ ê·¸ ì£¼ì†Œë¥¼ í†µì œí•˜ëŠ” í”„ë¼ì´ë¹— í‚¤Â·ì‹œë“œ ë¬¸êµ¬ë¥¼ ê´€ë¦¬í•¨ ë©”íƒ€ë§ˆìŠ¤í¬Â·ì¹´ì´ì¹´ìŠ¤ ê°™ì€ ë¸Œë¼ìš°ì € í™•ì¥í˜•ì€ í¸ë¦¬í•˜ì§€ë§Œ í•«ì›”ë ›ì´ë¼ ìœ„í—˜ ë…¸ì¶œì´ í¼ ëŒ€ì•¡Â·ì¥ê¸° ë³´ê´€ ìì‚°ì€ í•˜ë“œì›¨ì–´ ì§€ê°‘ì— ë‘ê³  ì¼ìƒ ê±°ë˜ëŠ” ë³„ë„ ì†Œì•¡ìš© ì§€ê°‘ì„ ì“°ëŠ” ë¶„ë¦¬ ë³´ê´€ì´ ê¶Œì¥ë¨\nì‹œë“œ ë¬¸êµ¬ ë³´ê´€ ì›ì¹™\nì˜¤í”„ë¼ì¸ ë°±ì—…ê³¼ ë¬¼ë¦¬ ë¶„ì‚° ë³´ê´€ ì‚¬ì§„Â·í´ë¼ìš°ë“œÂ·ë©”ì‹ ì € ì—…ë¡œë“œ ê¸ˆì§€ í…ŒìŠ¤íŠ¸ ë³µêµ¬ ì ˆì°¨ë¥¼ ì •ê¸° ìˆ˜í–‰ ê¶Œí•œê³¼ ì„œëª… ë³´ì•ˆ\nì›¹ì‚¬ì´íŠ¸ ì—°ê²° ì‹œ ë„ë©”ì¸Â·ì²´ì¸Â·ìš”ì²­ ê¶Œí•œì„ í™•ì¸í•˜ê³  setApprovalForAll ë¬´ì œí•œ ìŠ¹ì¸ì€ ê¼­ í•„ìš”í•œ ë²”ìœ„ì—ë§Œ ë¶€ì—¬ ê±°ë˜ê°€ ì•„ë‹Œ ì„œëª… ìš”ì²­ë„ ìì‚° ì´ì „ ê¶Œí•œì„ ìœ„ì„í•  ìˆ˜ ìˆìœ¼ë‹ˆ ìƒì„¸ë¥¼ ì½ê³  í•„ìš” ì‹œ ê±°ë¶€ ì‚¬ìš©ì´ ëë‚œ ìŠ¹ì¸ ê¶Œí•œì€ ê¶Œí•œ ì·¨ì†Œ ë„êµ¬ë¡œ ì£¼ê¸°ì ìœ¼ë¡œ íšŒìˆ˜ ë¯¼íŒ… Minting ì‹¤ë¬´ ì ˆì°¨ ë¯¼íŒ…ì€ ë©”íƒ€ë°ì´í„°ì™€ ë¯¸ë””ì–´ ë§í¬ë¥¼ ì»¨íŠ¸ë™íŠ¸ì— ê¸°ë¡í•´ í† í°ì„ ìƒˆë¡œ ë°œí–‰í•˜ëŠ” í–‰ìœ„ ë¯¼íŒ…ì´ ì²´ì¸ì— í¬í•¨ë˜ë©´ ì´ë²¤íŠ¸ ë¡œê·¸ì—ì„œ Transfer ì´ë²¤íŠ¸ì˜ From ì£¼ì†Œê°€ 0x0000000000000000000000000000000000000000 ë¡œ í‘œì‹œë˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì„\në‘ ê°€ì§€ ë§¥ë½ì„ êµ¬ë¶„í•˜ë©´ í˜¼ë™ì´ ì¤„ì–´ë“¦\ní”„ë¡œì íŠ¸ ê´€ì  ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•˜ê³  í† í°ì„ ìƒì„±í•˜ëŠ” ê°œë°œÂ·ìš´ì˜ ì‘ì—… êµ¬ë§¤ì ê´€ì  ë¯¼íŒ… í˜ì´ì§€ì—ì„œ ìµœì´ˆ êµ¬ë§¤ì— ì°¸ì—¬í•˜ëŠ” í–‰ìœ„ ë¯¼íŒ… ìœ í˜•ê³¼ ìš´ì˜ í¬ì¸íŠ¸\ní¼ë¸”ë¦­ ë¯¼íŒ… ëˆ„êµ¬ë‚˜ ê°€ëŠ¥í•˜ë©° ì¸ê¸° ì»¬ë ‰ì…˜ì€ ì¦‰ì‹œ ë§¤ì§„ë˜ë¯€ë¡œ ê°€ìŠ¤ ì „ëµê³¼ ìë™í™” ëŒ€ë¹„ê°€ í•„ìš” í”„ë¼ì´ë¹— ë¯¼íŒ… Allowlist ì‚¬ì „ ë“±ë¡ ì§€ê°‘ë§Œ ì°¸ì—¬ ê°€ëŠ¥í•˜ë©° ì¼ë°˜ì ìœ¼ë¡œ ê°€ê²©Â·ìˆ˜ëŸ‰Â·ì‹œê°„ ì°½ì´ ë³„ë„ë¡œ ì •ì˜ë¨ ë¬´ë£Œ ë¯¼íŒ… ë¯¼íŒ…ê°€ëŠ” 0ì´ì§€ë§Œ ê°€ìŠ¤ë¹„ê°€ ë“¤ë©° ì‚¬í›„ ë¡œì—´í‹°Â·ìˆ˜ìˆ˜ë£Œ êµ¬ì¡°ë¥¼ í™•ì¸í•´ì•¼ í•¨ ë¯¼íŒ… ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸\nê³„ì•½ ì£¼ì†ŒÂ·ì²´ì¸Â·ë¯¼íŒ…ê°€Â·í•œë„Â·ì‹œê°„ ì°½ì„ ê³µì§€ì™€ íƒìƒ‰ê¸°ì—ì„œ ì´ì¤‘ í™•ì¸ ë©”íƒ€ë°ì´í„° ì €ì¥ ë°©ì‹ê³¼ ë¦¬ë¹ŒÂ·í”„ë¡œë¹„ë„ŒìŠ¤ ê³„íšì„ í™•ì¸ í˜ì´ì§€ê°€ ì œì‹œí•˜ëŠ” ì»¨íŠ¸ë™íŠ¸ ì†ŒìŠ¤ ê³µê°œÂ·ê°ì‚¬ ì—¬ë¶€ í™•ì¸ ê°€ìŠ¤ë¹„ ìƒí•œê³¼ ìš°ì„ ìˆœìœ„ íŒì„ ê³¼ë„í•˜ê²Œ ì˜¬ë ¤ ë¶ˆí•„ìš”í•œ ë‚­ë¹„ê°€ ì—†ë„ë¡ ì‹œë®¬ë ˆì´ì…˜ ë§ˆì¼“í”Œë ˆì´ìŠ¤ì™€ 2ì°¨ ê±°ë˜ ì˜¤í”ˆì”¨Â·ë¸”ëŸ¬Â·ë¼ë¦¬ë¸” ë“± ë§ˆì¼“í”Œë ˆì´ìŠ¤ì— ì§€ê°‘ì„ ì—°ê²°í•´ ë¦¬ìŠ¤íŒ…ê³¼ ì˜¤í¼ë¥¼ ê´€ë¦¬í•¨ ì£¼ìš” ê±°ë˜ ë°©ì‹ì€ ê³ ì •ê°€ ë¦¬ìŠ¤íŒ…Â·ê²½ë§¤Â·ì»¬ë ‰ì…˜ ì˜¤í¼ ë“±ì´ ìˆìœ¼ë©° ìœ ë™ì„±ì€ ê±°ë˜ì†Œë§ˆë‹¤ ìƒì´í•¨\nê°€ê²© í•´ì„ê³¼ ìœ ì˜ì \në°”ë‹¥ê°€ floor ëŠ” í˜„ì¬ ìµœì € ë§¤ë¬¼ê°€ì¼ ë¿ ì‹¤ì œ ì²´ê²°ê°€ê°€ ì•„ë‹˜ ì²´ê²° ì´ë ¥Â·í˜¸ê°€ ë‘ê»˜Â·ë³´ìœ  ë¶„í¬ë¥¼ í•¨ê»˜ ë´ì•¼ ìˆ˜ê¸‰ì„ íŒë‹¨í•  ìˆ˜ ìˆìŒ ì›Œì‹œ íŠ¸ë ˆì´ë”© ìœ¼ë¡œ ë³¼ë¥¨ì´ ë¶€í’€ë ¤ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë¹„ì •ìƒ íŒ¨í„´ì— ì£¼ì˜ ë¡œì—´í‹°ì™€ ìˆ˜ìˆ˜ë£Œ\në§ˆì¼“ ìˆ˜ìˆ˜ë£Œ ì™€ í¬ë¦¬ì—ì´í„° ë¡œì—´í‹° ì •ì±…ì€ í”Œë«í¼ë³„ë¡œ ë‹¤ë¦„ EIPâ€‘2981ì€ ë¡œì—´í‹° í‘œì¤€ì„ ì •ì˜í•˜ì§€ë§Œ ì§‘í–‰ì€ ê±°ë˜ì†Œ ì •ì±…ì— ì˜ì¡´í•˜ëŠ” ê²½ìš°ê°€ ë§ìŒ ì‹¤ì œ ë¡œì—´í‹° ì§€ê¸‰ ì—¬ë¶€ì™€ ë¹„ìœ¨ì„ ê±°ë˜ ì „ í™•ì¸ í•„ìš” ê¶Œí•œê³¼ ë³´ì•ˆ\në¦¬ìŠ¤íŒ… ê³¼ì •ì—ì„œ ë¶€ì—¬í•œ ë¬´ì œí•œ ìŠ¹ì¸ì€ íŒë§¤ ì¢…ë£Œ í›„ íšŒìˆ˜ ê¶Œì¥ ë‚¯ì„  ë„ë©”ì¸ì˜ ì„œëª… íŒì—…ê³¼ í•„ë“œê°€ ë¹„ì •ìƒì ìœ¼ë¡œ ê¸´ ë©”ì‹œì§€ëŠ” í”¼ì‹± ì§•í›„ì¼ ìˆ˜ ìˆìŒ ë©”íƒ€ë°ì´í„°Â·ì €ì¥Â·ë¦¬ë¹Œ ìš´ì˜ ë©”íƒ€ë°ì´í„° ëŠ” ERCâ€‘721 ë©”íƒ€ë°ì´í„° ìŠ¤í™ì˜ nameÂ·descriptionÂ·imageÂ·attributes í•„ë“œë¥¼ ë”°ë¥´ëŠ” ê²ƒì´ ì¼ë°˜ì  ì €ì¥ì†Œ ëŠ” IPFSÂ·Arweave ê°™ì´ ë§í¬ ë¬´ê²°ì„±ê³¼ ì¥ê¸° ë³´ì¡´ì— ìœ ë¦¬í•œ ë°©ì‹ì„ ê¶Œì¥ ë¦¬ë¹Œ ì€ ë°œí–‰ ì§í›„ í”Œë ˆì´ìŠ¤í™€ë”ë¥¼ ì œê³µí•˜ê³  ì´í›„ ì†ì„±ì„ ê³µê°œí•˜ëŠ” ì ˆì°¨ë¡œ ê°€ê²© ì¬í‰ê°€ê°€ ì¼ì–´ë‚¨ ì¡°ì‘ ì˜ì‹¬ì„ ì¤„ì´ê¸° ìœ„í•´ í”„ë¡œë¹„ë„ŒìŠ¤ í•´ì‹œ ê³µê°œÂ·ëœë¤ ì‹œë“œÂ·ë² ì´ìŠ¤ URI ì ê¸ˆ ê°™ì€ ì‹ ë¢° ì¥ì¹˜ë¥¼ ì œê³µí•˜ëŠ” ê²ƒì´ ì‹¤ë¬´ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ì„ ìš´ì˜Â·ì»¤ë®¤ë‹ˆí‹° ê´€í–‰ê³¼ ì‹¤ë¬´ íŒ í”„ë¡œì íŠ¸ ìš´ì˜ì ê´€ì \nì»¨íŠ¸ë™íŠ¸ ì†ŒìŠ¤ ê³µê°œì™€ ë³´ì•ˆ ê°ì‚¬ ì§„í–‰ Allowlistë¥¼ ë¨¸í´ ì¦ëª…ìœ¼ë¡œ ê²€ì¦í•´ ê°€ìŠ¤ì™€ ë°ì´í„° ë¹„ìš©ì„ ì ˆê° ë´‡ ì™„í™”ë¥¼ ìœ„í•œ ë ˆì´íŠ¸ ë¦¬ë°‹Â·ì¿¨ë‹¤ìš´Â·ì¸ì¦ì„ ì„¤ê³„ ë¦¬ë¹Œ ì¼ì •Â·ê¸°ì¤€Â·ëœë¤ ë°©ì‹ê³¼ ë©”íƒ€ë°ì´í„° ë™ê²° ê³„íšì„ ì‚¬ì „ ê³µì§€ ë¡œì—´í‹° ì •ì±…ì„ ëª…í™•íˆ í•˜ê³  í”Œë«í¼ë³„ ì§‘í–‰ ì°¨ì´ì— ëŒ€í•œ ì•ˆë‚´ ì œê³µ êµ¬ë§¤ìÂ·ë³´ìœ ì ê´€ì \në¦¬ë¹Œ ì „í›„ì˜ ê°€ê²© ë³€ë™ì„±ê³¼ ìœ ë™ì„± ì–•ìŒì— ëŒ€ë¹„ ê¶Œí•œ ê´€ë¦¬ì™€ í”¼ì‹± ë°©ì§€ êµìœ¡ì„ ìŠµê´€í™” ë¸Œë¦¬ì§€Â·ì²´ì¸ ì „í™˜ ì „ì—ëŠ” ìˆ˜ìˆ˜ë£ŒÂ·ì§€ì—°Â·ë³´ì•ˆ ë¦¬ìŠ¤í¬ë¥¼ ì ê²€ ì—ì–´ë“œë¡­Â·ë¯¼íŒ… DMì€ ëŒ€ë¶€ë¶„ í”¼ì‹±ì¼ ê°€ëŠ¥ì„±ì´ ë†’ìœ¼ë¯€ë¡œ ê³µì‹ ì±„ë„ë§Œ ì‹ ë¢° ë¹ ë¥¸ ì ê²€ ì²´í¬ë¦¬ìŠ¤íŠ¸ ê³„ì•½ ì£¼ì†ŒÂ·ì²´ì¸Â·ë¯¼íŒ…ê°€Â·ìˆ˜ëŸ‰ í•œë„Â·ì‹œê°„ ì°½ êµì°¨ í™•ì¸ ë©”íƒ€ë°ì´í„° ì €ì¥ì†Œì™€ ë¦¬ë¹ŒÂ·í”„ë¡œë¹„ë„ŒìŠ¤ ê³µê°œ ì—¬ë¶€ í™•ì¸ ë§ˆì¼“ ìˆ˜ìˆ˜ë£ŒÂ·ë¡œì—´í‹° ì •ì±…Â·ì²´ê²° ì´ë ¥ê³¼ í˜¸ê°€ ë‘ê»˜ í™•ì¸ ê¶Œí•œ ë¶€ì—¬ ìµœì†Œí™”ì™€ ì‚¬ìš© í›„ ê¶Œí•œ íšŒìˆ˜ ìŠµê´€ ìœ ì§€ ì‹œë“œ ë¬¸êµ¬ ì˜¤í”„ë¼ì¸ ë¶„ì‚° ë³´ê´€ê³¼ ì •ê¸° ë³µêµ¬ í…ŒìŠ¤íŠ¸ ìˆ˜í–‰ ë§ˆë¬´ë¦¬ NFTëŠ” í‘œì¤€Â·ë©”íƒ€ë°ì´í„°Â·ì»¨íŠ¸ë™íŠ¸ ê¶Œí•œÂ·ì €ì¥ ì „ëµì´ ì„œë¡œ ë§ë¬¼ë ¤ ë™ì‘í•˜ëŠ” ìƒíƒœê³„ì„ ê°œë…ì„ ì´í•´í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•˜ë©° ë³´ì•ˆê³¼ ìš´ì˜ ì ˆì°¨ë¥¼ ë§ˆë ¨í•´ì•¼ ì‹¤ì „ì—ì„œ ì†ì‹¤ì„ ì¤„ì¼ ìˆ˜ ìˆìŒ ë¯¼íŒ…Â·ê±°ë˜Â·ë³´ê´€ ë‹¨ê³„ë³„ë¡œ ìœ„ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì ìš©í•˜ë©´ ì˜ì‚¬ê²°ì • í’ˆì§ˆì„ ì•ˆì •ì ìœ¼ë¡œ ëŒì–´ì˜¬ë¦´ ìˆ˜ ìˆìŒ\nì°¸ê³ ìë£Œ Etherscan ë¸”ë¡ íƒìƒ‰ê¸° https://etherscan.io Klaytn Scope ë¸”ë¡ íƒìƒ‰ê¸° https://scope.klaytn.com OpenSea ë§ˆì¼“í”Œë ˆì´ìŠ¤ https://opensea.io MetaMask ì§€ê°‘ https://metamask.io ERCâ€‘721 í‘œì¤€ https://eips.ethereum.org/EIPS/eip-721 ERCâ€‘1155 í‘œì¤€ https://eips.ethereum.org/EIPS/eip-1155 ERCâ€‘2981 NFT ë¡œì—´í‹° í‘œì¤€ https://eips.ethereum.org/EIPS/eip-2981 Ethereum ê°œë°œì ë¬¸ì„œ í† í° í‘œì¤€ ê°œìš” https://ethereum.org/en/developers/docs/standards/tokens Klaytn ê°œë°œì ë¬¸ì„œ https://docs.klaytn.foundation ","permalink":"https://blog.jsontapose.com/posts/nft-concept-20gd0fl/","summary":"\u003ch3 id=\"ì„œë¬¸\"\u003eì„œë¬¸\u003c/h3\u003e\n\u003cp\u003eNFTëŠ” ëª‡ ë…„ ìƒˆ ëŒ€ì¤‘ì˜ ê´€ì‹¬ì„ ë°›ì•˜ì§€ë§Œ ê°œë…ê³¼ ì ˆì°¨ê°€ ë¶„ì‚°ë¼ ìˆì–´ ì…ë¬¸ìê°€ ë§‰íˆê¸° ì‰¬ì›€\nì´ ê¸€ì€ \u003cstrong\u003eì‹¤ë¬´ì ê´€ì \u003c/strong\u003eì—ì„œ NFTì˜ í•µì‹¬ ê°œë…ì„ ë‹¨ê³„ì ìœ¼ë¡œ ì •ë¦¬í•˜ê³  \u003cstrong\u003eêµ¬ë§¤Â·ë°œí–‰Â·ë³´ê´€ ì‹œ ìœ ì˜ì‚¬í•­\u003c/strong\u003eê³¼ \u003cstrong\u003eìš´ì˜ ê´€í–‰\u003c/strong\u003eì„ ë‹´ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•¨\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"ê°œë…ê³¼-ë°°ê²½\"\u003eê°œë…ê³¼ ë°°ê²½\u003c/h3\u003e\n\u003cp\u003eNFTëŠ” Nonâ€‘Fungible Tokenì˜ ì•½ìì´ë©° ëŒ€ì²´ ë¶ˆê°€ëŠ¥í•œ í† í°ì„ ì˜ë¯¸í•¨\në™ì¼ ë‹¨ìœ„ë¼ë¦¬ êµí™˜ ê°€ëŠ¥í•œ ìì‚°ì€ í€ì €ë¸” í† í°ì´ë¼ ë¶€ë¥´ê³  NFTëŠ” ê° í† í°ì´ \u003cstrong\u003eê³ ìœ  ì‹ë³„ìì™€ ì†ì„±\u003c/strong\u003eì„ ê°€ì ¸ ìƒí˜¸ êµí™˜ ì‹œ ë™ì¼ ê°€ì¹˜ë¥¼ ë³´ì¥í•˜ì§€ ì•ŠìŒ\në¸”ë¡ì²´ì¸ì— ê¸°ë¡ëœ ì†Œìœ ê¶Œì€ ë³€ê²½ì´ ì–´ë µê³  ê±°ë˜ ì´ë ¥ì´ íˆ¬ëª…í•˜ê²Œ ë‚¨ëŠ”ë‹¤ëŠ” ì¥ì ì´ ìˆìŒ\nì˜¨ì²´ì¸ ì†Œìœ ê¶Œì´ \u003cstrong\u003eì €ì‘ê¶ŒÂ·ì´ˆìƒê¶Œ ë“± ë²•ì  ê¶Œë¦¬ì™€ ìë™ ë™ì¹˜ê°€ ì•„ë‹˜\u003c/strong\u003eì— ìœ ì˜í•´ì•¼ í•¨\u003c/p\u003e","title":"NFTë€? NFT í•µì‹¬ ê°œë… ì •ë¦¬"}]